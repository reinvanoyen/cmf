/*! For license information please see app.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}({"+wdc":function(t,e,n){"use strict";var r,o,i,a,u;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,c=function(){if(null!==s)try{var t=e.unstable_now();s(!0,t),s=null}catch(t){throw setTimeout(c,0),t}},f=Date.now();e.unstable_now=function(){return Date.now()-f},r=function(t){null!==s?setTimeout(r,0,t):(s=t,setTimeout(c,0))},o=function(t,e){l=setTimeout(t,e)},i=function(){clearTimeout(l)},a=function(){return!1},u=e.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,h=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)e.unstable_now=function(){return p.now()};else{var v=d.now();e.unstable_now=function(){return d.now()-v}}var b=!1,g=null,w=-1,_=5,E=0;a=function(){return e.unstable_now()>=E},u=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,x=k.port2;k.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();E=t+_;try{g(!0,t)?x.postMessage(null):(b=!1,g=null)}catch(t){throw x.postMessage(null),t}}else b=!1},r=function(t){g=t,b||(b=!0,x.postMessage(null))},o=function(t,n){w=h((function(){t(e.unstable_now())}),n)},i=function(){m(w),w=-1}}function O(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,o=t[r];if(!(void 0!==o&&0<P(o,e)))break t;t[r]=e,t[n]=o,n=r}}function S(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,o=t.length;r<o;){var i=2*(r+1)-1,a=t[i],u=i+1,s=t[u];if(void 0!==a&&0>P(a,n))void 0!==s&&0>P(s,a)?(t[r]=s,t[u]=n,r=u):(t[r]=a,t[i]=n,r=i);else{if(!(void 0!==s&&0>P(s,n)))break t;t[r]=s,t[u]=n,r=u}}}return e}return null}function P(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var R=[],T=[],j=1,A=null,D=3,N=!1,L=!1,F=!1;function I(t){for(var e=S(T);null!==e;){if(null===e.callback)C(T);else{if(!(e.startTime<=t))break;C(T),e.sortIndex=e.expirationTime,O(R,e)}e=S(T)}}function B(t){if(F=!1,I(t),!L)if(null!==S(R))L=!0,r(M);else{var e=S(T);null!==e&&o(B,e.startTime-t)}}function M(t,n){L=!1,F&&(F=!1,i()),N=!0;var r=D;try{for(I(n),A=S(R);null!==A&&(!(A.expirationTime>n)||t&&!a());){var u=A.callback;if(null!==u){A.callback=null,D=A.priorityLevel;var s=u(A.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?A.callback=s:A===S(R)&&C(R),I(n)}else C(R);A=S(R)}if(null!==A)var l=!0;else{var c=S(T);null!==c&&o(B,c.startTime-n),l=!1}return l}finally{A=null,D=r,N=!1}}function z(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=u;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||N||(L=!0,r(M))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return S(R)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,n,a){var u=e.unstable_now();if("object"==typeof a&&null!==a){var s=a.delay;s="number"==typeof s&&0<s?u+s:u,a="number"==typeof a.timeout?a.timeout:z(t)}else a=z(t),s=u;return t={id:j++,callback:n,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>u?(t.sortIndex=s,O(T,t),null===S(R)&&t===S(T)&&(F?i():F=!0,o(B,s-u))):(t.sortIndex=a,O(R,t),L||N||(L=!0,r(M))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();I(t);var n=S(R);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<A.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},0:function(t,e,n){n("bUC5"),t.exports=n("pyCd")},"2SVd":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"5oMp":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"8Ee6":function(t,e,n){e.TrixEditor=n("HGBw").TrixEditor},"8oxB":function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,l=[],c=!1,f=-1;function p(){c&&s&&(c=!1,s.length?l=s.concat(l):f=-1,l.length&&d())}function d(){if(!c){var t=u(p);c=!0;for(var e=l.length;e;){for(s=l,l=[];++f<e;)s&&s[f].run();f=-1,e=l.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||c||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"9rSQ":function(t,e,n){"use strict";var r=n("xTJ+");function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},CgaS:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("MLWZ"),i=n("9rSQ"),a=n("UnBK"),u=n("SntB");function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},s.prototype.getUri=function(t){return t=u(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){s.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){s.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=s},DfZB:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},Egg9:function(t,e,n){var r=n("uEL/");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},HGBw:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n("q1tI"),a=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.editor=null,n.d=null,n.id=n.generateId(),n.state={showMergeTags:!1,tags:[]},n}return o(e,t),e.prototype.generateId=function(){var t=(new Date).getTime();return"T"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))},e.prototype.componentDidMount=function(){var t=this,e=this.props;this.container=document.getElementById("editor-"+this.id),this.container?(this.container.addEventListener("trix-initialize",(function(){t.editor=t.container.editor,t.editor||console.error("cannot  find trix editor"),e.onEditorReady&&"function"==typeof e.onEditorReady&&e.onEditorReady(t.editor)}),!1),this.container.addEventListener("trix-change",this.handleChange.bind(this),!1),e.uploadURL&&this.container.addEventListener("trix-attachment-add",this.handleUpload.bind(this))):console.error("editor not found")},e.prototype.componentWillUnmount=function(){this.container.removeEventListener("trix-initialize",this.handleChange),this.container.removeEventListener("trix-change",this.handleChange),this.props.uploadURL&&this.container.removeEventListener("trix-attachment-add",this.handleUpload)},e.prototype.handleChange=function(t){var e=this.props,n=this.state,r=t.target.innerText;e.onChange&&e.onChange(t.target.innerHTML,r);var o=this.editor.getSelectedRange();if(r&&o[0]==o[1]&&e.mergeTags){var i=o[0]-1;if(i>=0&&i<r.length)for(var a=r[i],u=0;u<e.mergeTags.length;u++)if(a==e.mergeTags[u].trigger){n.showMergeTags=!0,n.tags=e.mergeTags[u].tags,this.setState(n);break}}},e.prototype.handleUpload=function(t){var e=t.attachment;if(e.file)return this.uploadAttachment(e)},e.prototype.uploadAttachment=function(t){var e,n,r;if(e=t.file,n=new FormData,this.props.uploadData)for(var o in this.props.uploadData)n.append(o,this.props.uploadData[o]);return n.append(this.props.fileParamName||"file",e),(r=new XMLHttpRequest).open("POST",this.props.uploadURL,!0),r.upload.onprogress=function(e){var n=e.loaded/e.total*100;return t.setUploadProgress(n)},r.onload=function(){var e,n;if(r.status>=200&&r.status<300)return n=e=r.responseText,t.setAttributes({url:n,href:e})},r.send(n)},e.prototype.handleTagSelected=function(t,e){e.preventDefault();var n=this.state;n.showMergeTags=!1,this.setState(n),this.editor.expandSelectionInDirection("backward"),this.editor.insertString(t.tag)},e.prototype.renderTagSelector=function(t){var e=this;if(!t||!this.editor)return null;var n=document.getElementById("trix-editor-top-level-"+this.id).getBoundingClientRect(),r=this.editor.getClientRectAtPosition(this.editor.getSelectedRange()[0]),o={position:"absolute",top:r.top+25-n.top,left:r.left+25-n.left,width:"250px",boxSizing:"border-box",padding:0,margin:".2em 0 0",backgroundColor:"hsla(0,0%,100%,.9)",borderRadius:".3em",background:"linear-gradient(to bottom right, white, hsla(0,0%,100%,.8))",border:"1px solid rgba(0,0,0,.3)",boxShadow:".05em .2em .6em rgba(0,0,0,.2)",textShadow:"none"},a={display:"block",padding:".2em .5em",cursor:"pointer"};return i.createElement("div",{style:o,className:"react-trix-suggestions"},t.map((function(t){return i.createElement("a",{key:t.name,style:a,href:"#",onClick:e.handleTagSelected.bind(e,t)},t.name)})))},e.prototype.render=function(){var t=this,e=this.state,n=this.props,r={id:"editor-"+this.id,input:"input-"+this.id};n.className&&(r.class=n.className),n.autoFocus&&(r.autofocus=n.autoFocus.toString()),n.placeholder&&(r.placeholder=n.placeholder),n.toolbar&&(r.toolbar=n.toolbar);var o=null;return e.showMergeTags&&(o=this.renderTagSelector(e.tags)),i.createElement("div",{id:"trix-editor-top-level-"+this.id,ref:function(e){return t.d=e},style:{position:"relative"}},i.createElement("trix-editor",r),i.createElement("input",{type:"hidden",id:"input-"+this.id,value:this.props.value}),o)},e}(i.Component);e.TrixEditor=a},HSsa:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},JEQr:function(t,e,n){"use strict";(function(e){var r=n("xTJ+"),o=n("yK9s"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,s={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(u=n("tQ2B")),u),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){s.headers[t]=r.merge(i)})),t.exports=s}).call(this,n("8oxB"))},LYNF:function(t,e,n){"use strict";var r=n("OH9c");t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},Lmem:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},MLWZ:function(t,e,n){"use strict";var r=n("xTJ+");function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var u=t.indexOf("#");-1!==u&&(t=t.slice(0,u)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},MgzW:function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,s=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(s[c]=n[c]);if(r){u=r(n);for(var f=0;f<u.length;f++)i.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},OH9c:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},OTTw:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},QCnb:function(t,e,n){"use strict";t.exports=n("+wdc")},"Rn+g":function(t,e,n){"use strict";var r=n("LYNF");t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},SntB:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e){e=e||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(i,(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var u=o.concat(i).concat(a),s=Object.keys(e).filter((function(t){return-1===u.indexOf(t)}));return r.forEach(s,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},URgk:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},UnBK:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("xAGQ"),i=n("Lmem"),a=n("JEQr");function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},YBdB:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,u,s=1,l={},c=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[s]=o,r(s),s++},p.clearImmediate=d}function d(t){delete l[t]}function h(t){if(c)setTimeout(h,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("yLpj"),n("8oxB"))},"aET+":function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),u=function(t,e){return e?e.querySelector(t):document.querySelector(t)},s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=u.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,c=0,f=[],p=n("9tPo");function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(g(r.parts[a],e))}else{var u=[];for(a=0;a<r.parts.length;a++)u.push(g(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:u}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function m(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return b(e,t.attrs),m(t,e),e}function b(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function g(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=c++;n=l||(l=v(e)),r=E.bind(null,n,a,!1),o=E.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),m(t,e),e}(e),r=x.bind(null,n,e),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=k.bind(null,n),o=function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return d(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(u=i[a.id]).refs--,r.push(u)}t&&d(h(t,e),e);for(o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete i[u.id]}}}};var w,_=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function E(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function k(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function x(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=p(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}},bUC5:function(t,e,n){"use strict";n.r(e);var r=n("i8i4"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=function(t){return Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")},s=function(t){var e=new FormData;for(var n in t)t.hasOwnProperty(n)&&e.append(n,t[n]);return e},l={get:function(t){var e=document.querySelector('meta[name="'+t+'"]');return e?e.getAttribute("content"):null}},c={cmf:null,forceRefresh:!1,path:l.get("cmf:path"),currentPath:{},history:[],setCmf:function(t){this.cmf=t},parseLocation:function(t){var e="/"+this.path+"/",n=t.search,r=new URLSearchParams(n),o=Object.fromEntries(r),i=t.pathname,a=(i.startsWith(e)?i.slice(e.length):"").split("/");return{module:a[0],action:a[1],params:o}},update:function(t,e,n){var r=this;this.currentPath={module:t,action:e,params:n},this.cmf.forceUpdate((function(){return r.forceRefresh=!1}))},goTo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u(n);window.history.pushState({},"",this.path+"/"+t+"/"+e+(r?"?"+r:"")),this.history.push({module:t,action:e,params:n}),this.update(t,e,n)},refresh:function(){this.cmf.setLoadingState(),this.forceRefresh=!0,this.goTo(this.currentPath.module,this.currentPath.action,this.currentPath.params)},goBack:function(){var t=this.history[this.history.length-2],e=t.module,n=t.action,r=t.params;this.goTo(e,n,r)},handleRedirect:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.refresh?this.refresh():t.redirectBack?this.goBack():this.goTo(t.path.module,t.redirect,e)}},f=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;"string"==typeof e&&(e=[e]);var n=" "+t+"--";return t+(e?n+e.join(n):"")},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0,i=n;o<i.length;o++){var a=i[o];if(t[a]!==e[a])return!1}return!0};function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _,E,k,x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(i,t);var e,n,r,o=b(i);function i(){return m(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"onClick",value:function(t,e){t.stopPropagation(),this.props.onClick(e)}},{key:"renderLinks",value:function(){var t=this;return this.props.links.map((function(e,n){return a.a.createElement("button",{className:"link-list__button",onClick:function(n){return t.onClick(n,e[1])},key:n,type:"button"},e[0])}))}},{key:"render",value:function(){return a.a.createElement("div",{className:p("link-list",this.props.style)},this.renderLinks())}}])&&y(e.prototype,n),r&&y(e,r),i}(a.a.Component);k={links:[],style:"default",onClick:function(t){}},(E="defaultProps")in(_=x)?Object.defineProperty(_,E,{value:k,enumerable:!0,configurable:!0,writable:!0}):_[E]=k;var O=x;function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(i,t);var e,n,r,o=R(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,x:0,y:0},e.contextMenuContainerRef=a.a.createRef(),e.contextMenuRef=a.a.createRef(),e.handleDocumentClick=e.onDocumentClick.bind(j(e)),e.handleDocumentCtxMenu=e.onDocumentCtxMenu.bind(j(e)),e}return e=i,(n=[{key:"componentWillUnmount",value:function(){this.unbindDocumentClick()}},{key:"bindDocumentClick",value:function(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("contextmenu",this.handleDocumentCtxMenu)}},{key:"unbindDocumentClick",value:function(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("contextmenu",this.handleDocumentCtxMenu)}},{key:"onDocumentCtxMenu",value:function(t){this.contextMenuContainerRef.current.contains(t.target)||this.close()}},{key:"onDocumentClick",value:function(t){this.contextMenuRef.current.contains(t.target)||this.close()}},{key:"onLinkClick",value:function(t){this.close(),this.props.onClick(t)}},{key:"toggle",value:function(t){t.stopPropagation(),this.state.isOpen?this.close():this.open()}},{key:"open",value:function(t,e){this.setState({isOpen:!0,x:t,y:e}),this.bindDocumentClick()}},{key:"close",value:function(){this.setState({isOpen:!1}),this.unbindDocumentClick()}},{key:"handleContextMenu",value:function(t){this.open(t.pageX-window.scrollX,t.pageY-window.scrollY),t.preventDefault()}},{key:"renderContextMenu",value:function(){return this.state.isOpen?a.a.createElement("div",{className:"context-menu__menu",style:{transform:"translateX(".concat(this.state.x,"px) translateY(").concat(this.state.y,"px)")},ref:this.contextMenuRef},a.a.createElement(O,{links:this.props.links,onClick:this.onLinkClick.bind(this)})):null}},{key:"render",value:function(){return a.a.createElement("div",{className:"context-menu"+(this.state.isOpen?" context-menu--open":""),onContextMenu:this.handleContextMenu.bind(this),ref:this.contextMenuContainerRef},a.a.createElement("div",{className:"context-menu__wrap"},this.props.children),this.renderContextMenu())}}])&&C(e.prototype,n),r&&C(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(D,"defaultProps",{links:[],onClick:function(t){}});var N=D;function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(i,t);var e,n,r,o=M(i);function i(){return F(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick()}},{key:"render",value:function(){return a.a.createElement("span",{className:p("icon",this.props.style),onClick:this.props.onClick?this.onClick.bind(this):null},this.props.name)}}])&&I(e.prototype,n),r&&I(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(V,"defaultProps",{text:"",type:"icon",style:"default",name:"fingerprint",onClick:null});var W=V;function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=G(t);if(e){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(i,t);var e,n,r,o=$(i);function i(){return H(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"nav-item"+(this.props.isActive?" nav-item--active":""),onClick:this.props.onClick},a.a.createElement("span",{className:"nav-item__icon"},a.a.createElement(W,{name:this.props.module.icon})),a.a.createElement("span",{className:"nav-item__text"},this.props.module.title))}}])&&K(e.prototype,n),r&&K(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(X,"defaultProps",{module:{},isActive:!1,onClick:function(){}});var Y=X;function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=it(t);if(e){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(i,t);var e,n,r,o=rt(i);function i(){return tt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"subnav-item"+(this.props.isActive?" subnav-item--active":""),onClick:this.props.onClick},a.a.createElement("span",{className:"subnav-item__icon"},a.a.createElement(W,{name:this.props.module.icon})),a.a.createElement("span",{className:"subnav-item__text"},this.props.module.title))}}])&&et(e.prototype,n),r&&et(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(at,"defaultProps",{module:{},isActive:!1,onClick:function(){}});var ut=at,st={get:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.split("."),r=window.i18n,o=0;o<n.length;o++){var i=n[o];if(!r[i])return t;r=r[i]}for(var a in e)r=r.replace(":".concat(a),e[a]);return r}};function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mt(t);if(e){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(i,t);var e,n,r,o=dt(i);function i(){return ct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"switchModule",value:function(t){this.props.onModuleSwitch(),c.forceRefresh=!0,c.goTo(t.id,"index")}},{key:"onContextMenuClick",value:function(t,e){"open"===t?this.switchModule(e):"open_new"===t&&window.open(e.url)}},{key:"isModuleActive",value:function(t){if(this.props.activeModule&&this.props.activeModule.id===t.id)return!0;for(var e=0;e<t.submodules.length;e++)if(this.props.activeModule&&this.props.activeModule.id===t.submodules[e].id)return!0;return!1}},{key:"renderSubmodules",value:function(t){var e=this;return t.submodules.length?a.a.createElement("div",{className:"nav__subnav"+(this.isModuleActive(t)?" nav__subnav--open":"")},t.submodules.map((function(t){return a.a.createElement(N,{key:t.id,links:[[st.get("snippets.open"),"open"],[st.get("snippets.open_new_window"),"open_new"]],onClick:function(n){return e.onContextMenuClick(n,t)}},a.a.createElement(ut,{module:t,onClick:function(){return e.switchModule(t)},isActive:e.props.activeModule&&e.props.activeModule.id===t.id}))}))):null}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"nav"},a.a.createElement("div",null,this.props.modules.map((function(e){return e.inNavigation?a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(N,{links:[[st.get("snippets.open"),"open"],[st.get("snippets.open_new_window"),"open_new"]],onClick:function(n){return t.onContextMenuClick(n,e)}},a.a.createElement(Y,{module:e,onClick:function(){return t.switchModule(e)},isActive:t.isModuleActive(e)})),t.renderSubmodules(e)):null}))))}}])&&ft(e.prototype,n),r&&ft(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(yt,"defaultProps",{modules:[],activeModule:{},onModulesLoaded:function(){},onModuleSwitch:function(){}});var vt=yt,bt=function(t){return"input-"+t};function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xt(t);if(e){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(i,t);var e,n,r,o=Et(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isVisible:!1,x:0,y:0},e}return e=i,(n=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick()}},{key:"show",value:function(t){this.setState({isVisible:!0,x:t.pageX+15,y:t.pageY-15})}},{key:"move",value:function(t){this.setState({isVisible:!0,x:t.pageX+15,y:t.pageY-15})}},{key:"hide",value:function(){this.setState({isVisible:!1})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"tooltip",onMouseEnter:this.show.bind(this),onMouseOut:this.hide.bind(this),onMouseMove:this.move.bind(this)},a.a.createElement(W,{style:["small","alt","soft"],name:this.props.icon})),this.state.isVisible?a.a.createElement("div",{className:"tooltip__text",style:{top:this.state.y,left:this.state.x}},this.props.text):null)}}])&&wt(e.prototype,n),r&&wt(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ot,"defaultProps",{text:"",icon:"info"});var St=Ot;function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(t,e){if(e&&("object"===Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(i,t);var e,n,r,o=Tt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={id:bt(e.props.name)},e}return e=i,(n=[{key:"render",value:function(){var t,e,n,r;return this.props.showRequiredIndicator&&(n=a.a.createElement("span",{className:"field__required-indicator"},"*")),this.props.label&&(t=a.a.createElement("label",{htmlFor:this.state.id,className:"label label--primary field__label"},this.props.label,n)),this.props.tooltip&&(r=a.a.createElement("div",{className:"field__tooltip"},a.a.createElement(St,{text:this.props.tooltip}))),this.props.errors[this.props.name]&&(e=a.a.createElement("span",{className:"field__error"},this.props.errors[this.props.name])),a.a.createElement("div",{className:"field"+(this.props.errors[this.props.name]?" field--has-error":"")},t||r?a.a.createElement("div",{className:"field__header"},t," ",r):null,a.a.createElement("div",{className:"field__input"},this.props.children),e)}}])&&Pt(e.prototype,n),r&&Pt(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Dt,"defaultProps",{name:"",label:"",required:!1,errors:{},tooltip:""});var Nt=Dt;function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zt(t);if(e){var o=zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(i,t);var e,n,r,o=Bt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||""},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value||"",t}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){var t;return t=this.props.multiline?a.a.createElement("textarea",{id:bt(this.props.name),className:p("text-field",this.props.style),value:this.state.value||"",placeholder:this.props.placeholder,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this)}):a.a.createElement("input",{id:bt(this.props.name),name:this.props.name,className:p("text-field",this.props.style),type:this.props.htmlType,value:this.state.value||"",placeholder:this.props.placeholder,disabled:this.props.disabled,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this),autoComplete:"off"}),a.a.createElement(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},t)}}])&&Ft(e.prototype,n),r&&Ft(e,r),i}(a.a.Component);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$t(t);if(e){var o=$t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jt(this,n)}}function Jt(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ut,"defaultProps",{data:{},label:"",name:"",disabled:!1,showRequiredIndicator:!1,htmlType:"text",multiline:!1,errors:{},style:"",tooltip:"",placeholder:""});var Qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(i,t);var e,n,r,o=Kt(i);function i(){return Wt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},a.a.createElement("input",{id:bt(this.props.name),name:this.props.name,className:p("number-field",this.props.style),type:this.props.htmlType,value:this.state.value||"",disabled:this.props.disabled,placeholder:this.props.placeholder,step:null!==this.props.step?this.props.step:null,min:null!==this.props.min?this.props.min:null,max:null!==this.props.max?this.props.max:null,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this),autoComplete:"off"}))}}])&&qt(e.prototype,n),r&&qt(e,r),i}(Ut);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Qt,"defaultProps",{htmlType:"number",min:null,max:null,step:null});var Gt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Xt=function(t){return String(t).toLowerCase().replace(/[]/g,"e").replace(/[]/g,"a").replace(//g,"ae").replace(//g,"c").replace(/[]/g,"e").replace(/[]/g,"i").replace(//g,"n").replace(/[]/g,"o").replace(//g,"oe").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^\w.]+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},Yt=function(t,e,n){return t.length<=e?t:t.slice(0,e)+n},Zt={overlay:function(){var t=document.createElement("div");return t.classList.add("overlay"),document.body.appendChild(t),t},prompt:function(t){var e=t.title||"",n=t.text||"",r=t.defaultValue||"",o=t.confirmButtonText||"Confirm",i=t.cancelButtonText||"Cancel",a=t.confirm,u=t.cancel,s=document.createElement("form");s.classList.add("prompt"),s.setAttribute("action","");var l=document.createElement("div");l.classList.add("prompt__header"),l.textContent=e;var c=document.createElement("div");if(c.classList.add("prompt__content"),n){var f=document.createElement("div");f.classList.add("prompt__text"),f.textContent=n,c.appendChild(f)}var p=document.createElement("input");p.classList.add("prompt__input"),p.setAttribute("input","text"),p.setAttribute("value",r),c.appendChild(p);var d=document.createElement("div");d.classList.add("prompt__footer");var h=function(t){b(),a&&a(p.value),t.preventDefault()},m=this.button(i,(function(t){b(),u&&u()})),y=this.button(o,h);s.addEventListener("submit",h),m.classList.add("button--secondary"),d.appendChild(m),d.appendChild(y),s.appendChild(l),s.appendChild(c),s.appendChild(d);var v=this.overlay();document.body.appendChild(s),p.focus();var b=function(){document.body.removeChild(s),document.body.removeChild(v)}},confirm:function(t){var e=t.title||"",n=t.text||"",r=t.confirmButtonText||st.get("snippets.confirm"),o=t.cancelButtonText||st.get("snippets.cancel"),i=t.confirm,a=t.cancel,u=document.createElement("div");u.classList.add("confirm");var s=document.createElement("div");s.classList.add("confirm__header"),s.textContent=e;var l=document.createElement("div");l.classList.add("confirm__content"),l.textContent=n;var c=document.createElement("div");c.classList.add("confirm__footer");var f=this.button(o,(function(t){h(),a&&a()})),p=this.button(r,(function(t){h(),i&&i()}));f.classList.add("button--secondary"),c.appendChild(f),c.appendChild(p),u.appendChild(s),u.appendChild(l),u.appendChild(c);var d=this.overlay();document.body.appendChild(u),p.focus();var h=function(){document.body.removeChild(u),document.body.removeChild(d)}},button:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("button");return n.setAttribute("type","button"),n.classList.add("button"),n.textContent=t,e&&n.addEventListener("click",e),n},i18nNotify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.notify(st.get(t,e))},notify:function(t){var e=this;this.notificationStackEl||(this.notificationStackEl=document.createElement("div"),this.notificationStackEl.classList.add("notification-stack"),document.body.appendChild(this.notificationStackEl));var n=document.createElement("div");n.classList.add("notification"),n.textContent=Gt(t),this.notificationStackEl.appendChild(n),setTimeout((function(){n.classList.add("notification--hidden"),setTimeout((function(){return e.notificationStackEl.removeChild(n)}),250)}),3e3)},copyText:function(t,e){var n=document.createElement("textarea");n.value=t,n.style.top=0,n.style.left=0,n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")&&e()}catch(t){console.error("Fallback: Oops, unable to copy text to clipboard",t)}document.body.removeChild(n)}};function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ae(t);if(e){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(i,t);var e,n,r,o=oe(i);function i(){return ee(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"goToUrl",value:function(t){t.stopPropagation()}},{key:"copyValue",value:function(){Zt.copyText(this.props.data[this.props.name],(function(){Zt.notify(st.get("snippets.copied_to_clipboard"))}))}},{key:"renderCopyIcon",value:function(){return this.props.copyable?a.a.createElement("span",{className:"text-view__copy"},a.a.createElement(W,{onClick:this.copyValue.bind(this),name:"content_copy",style:"mini"})):null}},{key:"render",value:function(){var t,e="-";if(this.props.label&&(t=a.a.createElement("label",{className:"label text-view__label"},this.props.label)),this.props.data&&this.props.data[this.props.name]&&(e=this.props.data[this.props.name],this.props.url)){var n=!0===this.props.url?e:this.props.data[this.props.name+"_url"];e=a.a.createElement("a",{href:n,target:"_blank",title:e,className:"text-view__url",onClick:this.goToUrl.bind(this)},this.props.truncateLength?Yt(e,this.props.truncateLength,this.props.truncateSuffix):e)}return a.a.createElement("div",{className:"text-view text-view--"+this.props.style},t,a.a.createElement("span",{className:"text-view__value"},e,this.renderCopyIcon()))}}])&&ne(e.prototype,n),r&&ne(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ue,"defaultProps",{path:{},type:"",id:0,label:"",url:!1,truncateLength:0,truncateSuffix:"",copyable:!1,style:"default"});var se=ue;function le(t){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=me(t);if(e){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(i,t);var e,n,r,o=de(i);function i(){return ce(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"onClick",value:function(t){this.props.onClick&&this.props.onClick(t),t.stopPropagation()}},{key:"render",value:function(){var t,e=this;this.props.icon&&(t=a.a.createElement("span",{className:"button__icon"},a.a.createElement(W,{style:"mini",name:this.props.icon})));var n=this.props.label?a.a.createElement("span",{className:"button__label"},this.props.label):null;return a.a.createElement("button",{className:p("button",this.props.style)+" button--has-icon",onClick:function(t){return e.onClick(t)},type:this.props.type},t,n,this.props.text)}}])&&fe(e.prototype,n),r&&fe(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ye,"defaultProps",{label:"",text:"",type:"button",style:"default",icon:"",onClick:function(t){}});var ve=ye;function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xe(t);if(e){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(i,t);var e,n,r,o=Ee(i);function i(){return ge(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var t=this;return a.a.createElement("button",{className:p("link",this.props.style),onClick:function(e){return t.onClick(e)},type:"button"},this.props.text)}}])&&we(e.prototype,n),r&&we(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Oe,"defaultProps",{text:"",style:"default",onClick:function(){}});var Se=Oe;function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=De(t);if(e){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(i,t);var e,n,r,o=je(i);function i(){return Pe(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"goTo",value:function(){if(this.props.back)c.goBack();else{var t={};this.props.data&&this.props.data.id?t.id=this.props.data.id:this.props.path.params.id&&(t.id=this.props.path.params.id),c.goTo(this.props.path.module,this.props.action,t)}}},{key:"render",value:function(){return this.props.style?a.a.createElement(ve,{style:this.props.style,text:this.props.text,onClick:this.goTo.bind(this)}):a.a.createElement(Se,{onClick:this.goTo.bind(this),text:this.props.text})}}])&&Re(e.prototype,n),r&&Re(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ne,"defaultProps",{path:{},data:{},action:"",back:!1});var Le=Ne;function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e){return(Be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ue(t);if(e){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(t,e){if(e&&("object"===Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Be(t,e)}(i,t);var e,n,r,o=Me(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentList=[],e}return e=i,(n=[{key:"handleSubmit",value:function(t){this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"getData",value:function(t){return this.componentList.forEach((function(e){e.ref.current.getData(t)})),t}},{key:"getStackStyle",value:function(){return this.props.grid?{gridTemplateColumns:this.props.grid.join("fr ")+"fr"}:{}}},{key:"render",value:function(){this.componentList=Bd.renderComponentsWith(this.props.components,this.props.data,this.props.path,(function(t,e){return a.a.createElement("div",{className:"stack__component",key:e},t)}),!0,this.props.errors);var t=this.componentList.map((function(t){return t.component}));return a.a.createElement("div",{className:"stack stack--"+this.props.direction+(this.props.gapless?" stack--gapless":""),style:this.getStackStyle()},t)}}])&&Ie(e.prototype,n),r&&Ie(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ve,"defaultProps",{components:[],path:{},data:{},direction:"",gapless:!1,grid:null});var We=Ve;function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){Ye(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xe(t);if(e){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(t,e){if(e&&("object"===qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(i,t);var e,n,r,o=Qe(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={language:e.props.languages[0],translatedComponents:e.translateComponentsForAllLanguages()},e.componentList={},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t,e){for(var n=0;n<this.props.components.length;n++)if(!t.components[n]||this.props.components[n].type!==t.components[n].type||this.props.components[n].name!==t.components[n].name){this.setState({translatedComponents:this.translateComponentsForAllLanguages()});break}}},{key:"handleSubmit",value:function(t){var e=this;this.props.languages.forEach((function(n){e.componentList[n].forEach((function(e){e.ref.current.handleSubmit(t)}))}))}},{key:"getData",value:function(t){var e=this;return this.props.languages.forEach((function(n){e.componentList[n].forEach((function(e){e.ref.current.getData(t)}))})),t}},{key:"translateComponentsForAllLanguages",value:function(){var t=this,e={};return this.props.languages.forEach((function(n){e[n]=t.translateComponents(n)})),e}},{key:"translateComponents",value:function(t){return this.props.components.map((function(e){return"text-to-slug-field"===e.type?Ke(Ke({},e),{},{name:e.name+"_"+t,slugName:e.slugName+"_"+t}):Ke(Ke({},e),{},{name:e.name+"_"+t})}))}},{key:"renderTranslatedComponents",value:function(){var t=[];for(var e in this.state.translatedComponents)if(this.state.translatedComponents.hasOwnProperty(e)){this.componentList[e]=Bd.renderComponentsWith(this.state.translatedComponents[e],this.props.data,this.props.path,(function(t,e){return a.a.createElement("div",{className:"translatable__component",key:e},t)}),!0,this.props.errors);var n=this.componentList[e].map((function(t){return t.component}));t.push(a.a.createElement("div",{className:"translatable__components"+(this.state.language===e?" translatable__components--active":""),key:e},n))}return t}},{key:"switchLanguage",value:function(t){this.setState({language:t})}},{key:"renderLanguageSwitcher",value:function(){var t=this;return this.props.languages.map((function(e){return a.a.createElement("button",{type:"button",key:e,onClick:function(n){return t.switchLanguage(e)},className:"translatable__button"+(e===t.state.language?" translatable__button--active":"")},e)}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"translatable"},a.a.createElement("div",{className:"translatable__tabs"},this.renderLanguageSwitcher()),this.renderTranslatedComponents())}}])&&Je(e.prototype,n),r&&Je(e,r),i}(a.a.Component);Ye(Ze,"defaultProps",{id:null,components:[],path:{},data:{},languages:[],errors:{}});var tn=Ze;function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=un(t);if(e){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}function an(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(i,t);var e,n,r,o=on(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={values:e.props.defaultValues.map((function(t){return"".concat(t)}))},e}return e=i,(n=[{key:"renderOptions",value:function(){var t=this,e=[];if(this.props.nullable){var n=this.state.values.includes("");e.push(a.a.createElement("div",{className:"select-list__option",onClick:function(e){return t.handleOptionClick("")},key:""},a.a.createElement("div",{className:"select-list__option-icon"},this.props.multiple?a.a.createElement(W,{name:n?"check_box":"check_box_outline_blank"}):a.a.createElement(W,{name:n?"radio_button_checked":"radio_button_unchecked"})),a.a.createElement("div",{className:"select-list__option-value"}," ",st.get("snippets.none")," ")))}var r=function(n){if(t.props.options.hasOwnProperty(n)){var r=t.state.values.includes(n);e.push(a.a.createElement("div",{className:"select-list__option"+(r?" select-list__option--selected":""),onClick:function(e){return t.handleOptionClick(n)},key:n},a.a.createElement("div",{className:"select-list__option-icon"},t.props.multiple?a.a.createElement(W,{name:r?"check_box":"check_box_outline_blank"}):a.a.createElement(W,{name:r?"radio_button_checked":"radio_button_unchecked"})),a.a.createElement("div",{className:"select-list__option-value"},t.props.options[n])))}};for(var o in this.props.options)r(o);return e}},{key:"clear",value:function(){var t=this;this.setState({values:[]},(function(){t.props.onChange(t.state.values)}))}},{key:"handleOptionClick",value:function(t){this.props.multiple?this.toggleSelection(t):this.selectOnly(t)}},{key:"selectOnly",value:function(t){var e=this;this.setState({values:[t]},(function(){e.props.onChange(e.state.values)}))}},{key:"toggleSelection",value:function(t){var e=this;this.state.values.includes(t)?this.state.values=this.state.values.filter((function(e){return e!==t})):this.state.values.push(t),this.setState({values:this.state.values},(function(){e.props.onChange(e.state.values)}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"select-list"},a.a.createElement("div",{className:"select-list__options"},this.renderOptions()))}}])&&nn(e.prototype,n),r&&nn(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(sn,"defaultProps",{onChange:function(t){},multiple:!0,options:{},defaultValues:[],nullable:!1});var ln=sn;function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e){return(dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yn(t);if(e){var o=yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mn(this,n)}}function mn(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dn(t,e)}(i,t);var e,n,r,o=hn(i);function i(){return fn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"onClick",value:function(t){t.stopPropagation(),this.props.onClick(t)}},{key:"render",value:function(){var t=this;return a.a.createElement("button",{className:p("icon-button",this.props.style),onClick:function(e){return t.onClick(e)},type:"button"},a.a.createElement(W,{name:this.props.name,style:this.props.iconStyle}))}}])&&pn(e.prototype,n),r&&pn(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(vn,"defaultProps",{name:"fingerprint",style:"",iconStyle:"default",onClick:function(t){}});var bn=vn;function gn(t){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xn(t);if(e){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kn(this,n)}}function kn(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var On=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(i,t);var e,n,r,o=En(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:""},e.searchTimeout=null,e}return e=i,(n=[{key:"handleChange",value:function(t){clearTimeout(this.searchTimeout),this.setState({value:t.target.value}),this.searchTimeout=setTimeout(this.search.bind(this),this.props.debounce)}},{key:"handleSubmit",value:function(t){this.search(),t.preventDefault()}},{key:"search",value:function(){this.props.onSearch(this.state.value)}},{key:"clear",value:function(){var t=this;this.setState({value:""},(function(){t.search()}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"search"+(this.state.value?" search--searching":"")},a.a.createElement("div",{className:"search__icon"},a.a.createElement(W,{name:"search"})),a.a.createElement("input",{autoComplete:"off",className:"search__input",name:"search",value:this.state.value,onChange:this.handleChange.bind(this),placeholder:st.get("snippets.search")}),a.a.createElement("div",{className:"search__clear"},a.a.createElement(bn,{style:"transparent",iconStyle:"mini",name:"clear",onClick:this.clear.bind(this)})))}}])&&wn(e.prototype,n),r&&wn(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(On,"defaultProps",{modifiers:["negative"],placeholder:"Type to search...",onSearch:function(t){},debounce:1e3});var Sn=On,Cn=function(t,e){return Object.keys(t).filter((function(n){return e(t[n])})).reduce((function(e,n){return e[n]=t[n],e}),{})};function Pn(t){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tn(t,e){return(Tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nn(t);if(e){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return An(this,n)}}function An(t,e){if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dn(t)}function Dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}(i,t);var e,n,r,o=jn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,isSearching:!1,searchResults:e.props.options,value:e.getDefaultValue()},e.selectRef=a.a.createRef(),e.handleDocumentClick=e.onDocumentClick.bind(Dn(e)),e}return e=i,(n=[{key:"getDefaultValue",value:function(){var t=this.props.multiple?[]:"",e=this.props.multiple?[Object.keys(this.props.options)[0]]:Object.keys(this.props.options)[0];return this.props.value||(this.props.nullable?t:e||t)}},{key:"componentDidUpdate",value:function(t){this.props.value!==t.value&&this.setState({value:this.props.value})}},{key:"componentWillUnmount",value:function(){this.unbindDocumentClick()}},{key:"bindDocumentClick",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"unbindDocumentClick",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"onDocumentClick",value:function(t){this.selectRef.current.contains(t.target)||this.close()}},{key:"toggle",value:function(){this.state.isOpen?this.close():this.open()}},{key:"open",value:function(){this.setState({isOpen:!0}),this.bindDocumentClick()}},{key:"close",value:function(){this.setState({isOpen:!1,searchResults:this.props.options}),this.unbindDocumentClick()}},{key:"search",value:function(t){t?this.setState({isSearching:!0,searchResults:Cn(this.props.options,(function(e){return e.toLowerCase().startsWith(t.toLowerCase())}))}):this.setState({isSearching:!1,searchResults:this.props.options})}},{key:"handleSelectionChange",value:function(t){var e=this;this.setState({isOpen:this.props.multiple,options:this.props.options,value:this.props.multiple?t:t[0]},(function(){e.props.onChange(e.state.value)}))}},{key:"renderDropdownChildren",value:function(){return this.props.children?a.a.createElement("div",{className:"select__footer"},this.props.children):null}},{key:"renderDropdown",value:function(){var t,e=this;return this.state.isOpen?(this.props.search&&Object.keys(this.props.options).length>5&&(t=a.a.createElement("div",{className:"select__search"},a.a.createElement(Sn,{debounce:100,onSearch:function(t){return e.search(t)}}))),a.a.createElement("div",{className:"select__dropdown"},t,a.a.createElement("div",{className:"select__list"},a.a.createElement(ln,{nullable:this.props.nullable,multiple:this.props.multiple,defaultValues:this.props.multiple?this.state.value:[this.state.value],options:this.state.isSearching?this.state.searchResults:this.props.options,onChange:function(t){return e.handleSelectionChange(t)}})),this.renderDropdownChildren())):null}},{key:"render",value:function(){var t,e=this;return t=this.props.multiple?this.state.value.length?this.state.value.map((function(t){return e.props.options[t]})).join(", "):this.props.nullText:this.props.options[this.state.value]?this.props.options[this.state.value]:this.props.nullText,a.a.createElement("div",{className:"select",ref:this.selectRef},a.a.createElement("div",{className:"select__field",onClick:this.toggle.bind(this)},a.a.createElement("div",{className:"select__value"},t),a.a.createElement("div",{className:"select__icon"},a.a.createElement(W,{name:this.state.isOpen?this.props.closeIcon:this.props.openIcon}))),this.renderDropdown())}}])&&Rn(e.prototype,n),r&&Rn(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ln,"defaultProps",{options:{},multiple:!1,value:"",search:!0,nullable:!1,nullText:"",onChange:function(t){},openIcon:"expand_more",closeIcon:"expand_less"});var Fn=Ln;function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vn(t);if(e){var o=Vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(i,t);var e,n,r,o=zn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||Object.keys(e.props.options)[0]},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||Object.keys(this.props.options)[0]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value,t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value}},{key:"handleChange",value:function(t){this.setState({value:t})}},{key:"render",value:function(){var t=this;return a.a.createElement(Nt,{name:this.props.name,required:!1,label:this.props.label,tooltip:this.props.tooltip},a.a.createElement(Fn,{value:this.state.value,options:this.props.options,onChange:function(e){return t.handleChange(e)}}))}}])&&Bn(e.prototype,n),r&&Bn(e,r),i}(a.a.Component);function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gn(t);if(e){var o=Gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qn(this,n)}}function Qn(t,e){if(e&&("object"===qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Wn,"defaultProps",{data:{},label:"",name:"",options:{},disabled:!1,showRequiredIndicator:!1,tooltip:""});var Xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jn(t,e)}(i,t);var e,n,r,o=$n(i);function i(){return Hn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.name]?a.a.createElement("div",{className:"enum-view enum-view--"+this.props.style},this.props.options[this.props.data[this.props.name]]):null}}])&&Kn(e.prototype,n),r&&Kn(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Xn,"defaultProps",{data:{},label:"",name:"",options:{}});var Yn=Xn;function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=or(t);if(e){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(t,e){if(e&&("object"===Zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}(i,t);var e,n,r,o=nr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:!1},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]})}},{key:"handleChange",value:function(t){this.setState({value:t.target.checked?1:0})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value}},{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,tooltip:this.props.tooltip,required:this.props.showRequiredIndicator,label:this.props.label},a.a.createElement("input",{id:bt(this.props.name),name:this.props.name,className:"checkbox",type:"checkbox",checked:1===this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this)}))}}])&&tr(e.prototype,n),r&&tr(e,r),i}(a.a.Component);function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pr(t);if(e){var o=pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fr(this,n)}}function fr(t,e){if(e&&("object"===ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pr(t){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ir,"defaultProps",{data:{},label:"",name:"",tooltip:"",disabled:!1,showRequiredIndicator:!1});var dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lr(t,e)}(i,t);var e,n,r,o=cr(i);function i(){return ur(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.name]?a.a.createElement(Nt,{name:this.props.name,label:this.props.label},a.a.createElement("div",{className:"boolean-view boolean-view--"+(1===this.props.data[this.props.name]?"checked":"unchecked")})):null}}])&&sr(e.prototype,n),r&&sr(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(dr,"defaultProps",{data:{},label:"",name:""});var hr=dr;function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e){return(vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wr(t);if(e){var o=wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gr(this,n)}}function gr(t,e){if(e&&("object"===mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wr(t){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}(i,t);var e,n,r,o=br(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentList=[],e.state={open:!0},e}return e=i,(n=[{key:"handleSubmit",value:function(t){this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var t;this.props.title&&(t=a.a.createElement("div",{className:"section__header"},a.a.createElement("div",{className:"section__title"},this.props.title),a.a.createElement("div",{className:"section__collapse-button",onClick:this.toggle.bind(this)}))),this.componentList=Bd.renderComponentsWith(this.props.components,this.props.data,this.props.path,(function(t,e){return a.a.createElement("div",{className:"section__component",key:e},t)}),!0,this.props.errors);var e=this.componentList.map((function(t){return t.component}));return a.a.createElement("div",{className:"section section--"+(this.state.open?"open":"closed")},t,a.a.createElement("div",{className:"section__content"},e))}}])&&yr(e.prototype,n),r&&yr(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(_r,"defaultProps",{title:"",components:[],path:{},data:{},errors:{}});var Er=_r;function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sr(t,e){return(Sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rr(t);if(e){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(t,e){if(e&&("object"===kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rr(t){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sr(t,e)}(i,t);var e,n,r,o=Cr(i);function i(){return xr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("h1",{className:p("title",this.props.style)},this.props.children)}}])&&Or(e.prototype,n),r&&Or(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Tr,"defaultProps",{style:"default"});var jr=Tr;function Ar(t){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t,e){return(Lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Br(t);if(e){var o=Br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ir(this,n)}}function Ir(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lr(t,e)}(i,t);var e,n,r,o=Fr(i);function i(){return Dr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"handleSubmit",value:function(t){}},{key:"renderHeaderComponents",value:function(){var t=this;return this.props.action.header?this.props.action.header.map((function(e,n){return a.a.createElement("div",{className:"action-component__header-component",key:n},Bd.renderComponent(e,{},t.props.path))})):null}},{key:"renderHeader",value:function(){return this.props.title||this.props.action.title||this.props.action.header?a.a.createElement("div",{className:"action-component__header"},a.a.createElement("div",{className:"action-component__title"},a.a.createElement(jr,{style:"small"},this.props.title||this.props.action.title)),a.a.createElement("div",{className:"action-component__header-components"},this.renderHeaderComponents())):null}},{key:"render",value:function(){return a.a.createElement("div",{className:"action-component"},this.renderHeader(),a.a.createElement("div",{className:"action-component__content"},yy.renderAction(this.props.action,this.props.data,this.props.path)))}}])&&Nr(e.prototype,n),r&&Nr(e,r),i}(a.a.Component);function zr(t){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e){return(Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hr(t);if(e){var o=Hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hr(t){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Mr,"defaultProps",{data:{},action:{},path:{},title:""});var Kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(i,t);var e,n,r,o=Wr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={currentTabIndex:0},e}return e=i,(n=[{key:"handleSubmit",value:function(t){this.componentLists.forEach((function(e){e.forEach((function(e){e.ref.current.handleSubmit(t)}))}))}},{key:"getData",value:function(t){return this.componentLists.forEach((function(e){e.forEach((function(e){e.ref.current.getData(t)}))})),t}},{key:"switchTab",value:function(t){this.setState({currentTabIndex:t})}},{key:"getTabsNav",value:function(){var t=this;return this.props.tabs.map((function(e,n){return a.a.createElement("div",{className:"tabs__nav-item"+(n===t.state.currentTabIndex?" tabs__nav-item--active":""),key:n,onClick:function(e){return t.switchTab(n)}},a.a.createElement("div",{className:"tabs__tab-title"},e.title))}))}},{key:"getTabsContent",value:function(){var t=this;return this.props.tabs.map((function(e,n){return a.a.createElement("div",{className:"tabs__tab",key:n,style:{display:n===t.state.currentTabIndex?"block":"none"}},t.componentLists[n].map((function(t){return t.component})))}))}},{key:"render",value:function(){var t=this;return this.componentLists=this.props.tabs.map((function(e,n){return Bd.renderComponentsWith(e.components,t.props.data,t.props.path,(function(t,e){return a.a.createElement("div",{className:"tabs__component",key:e},t)}),!0,t.props.errors)})),a.a.createElement("div",{className:"tabs"},a.a.createElement("div",{className:"tabs__nav"},this.getTabsNav()),a.a.createElement("div",{className:"tabs__content"},this.getTabsContent()))}}])&&Ur(e.prototype,n),r&&Ur(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Kr,"defaultProps",{tabs:{},path:{},data:{},errors:{}});var Jr=Kr;function $r(t){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gr(t,e){return(Gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zr(t);if(e){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(t,e){if(e&&("object"===$r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var to=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gr(t,e)}(n,t);var e=Xr(n);function n(){return Qr(this,n),e.apply(this,arguments)}return n}(Ut);function eo(t){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ro(t,e){return(ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ao(t);if(e){var o=ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return io(this,n)}}function io(t,e){if(e&&("object"===eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(to,"defaultProps",{htmlType:"password"});var uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)}(n,t);var e=oo(n);function n(){return no(this,n),e.apply(this,arguments)}return n}(Ut);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(uo,"defaultProps",{htmlType:"email"});var so=n("vDqi"),lo=n.n(so);function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){if(e&&("object"===co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function po(t){var e="function"==typeof Map?new Map:void 0;return(po=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ho(t,arguments,vo(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),yo(r,t)})(t)}function ho(t,e,n){return(ho=mo()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&yo(o,n.prototype),o}).apply(null,arguments)}function mo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function yo(t,e){return(yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bo;Error;lo.a.defaults.withCredentials=!0,bo=l.get("csrf"),lo.a.defaults.headers.common["X-CSRF-TOKEN"]=bo,lo.a.interceptors.request.use((function(t){return document.body.classList.add("api-loading"),t}),(function(t){return Promise.reject(t)})),lo.a.interceptors.response.use((function(t){return document.body.classList.remove("api-loading"),t}),(function(t){return document.body.classList.remove("api-loading"),Promise.reject(t)}));var go={modules:{},execute:{},auth:{},media:{}};go.auth.user=function(){return lo.a.get("cmf/api/auth/user")},go.auth.logout=function(){return lo.a.get("cmf/api/auth/logout")},go.auth.sessionInfo=function(){return lo.a.get("cmf/api/auth/session-info")},go.auth.keepAlive=function(){return lo.a.post("cmf/api/auth/csrf-keep-alive")},go.auth.login=function(t,e){return lo.a.post("cmf/api/auth/login",{email:t,password:e})},go.media.upload=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r={file:t};return e&&(r.directory=e),lo.a.post("cmf/api/media/upload",s(r),{onUploadProgress:n})},go.media.uploadChunk=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i={status:t,filename:e,chunk:r};return n&&(i.path=n),o&&(i.directory=o),lo.a.post("cmf/api/media/upload-chunk",s(i))},go.media.path=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};return t&&(e.directory=t),lo.a.get("cmf/api/media/path",{params:e})},go.media.loadDirectories=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};return t&&(e.directory=t),lo.a.get("cmf/api/media/load-directories",{params:e})},go.media.loadFiles=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};return t&&(e.directory=t),lo.a.get("cmf/api/media/load-files",{params:e})},go.media.createDirectory=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={name:t};return e&&(n.directory=e),lo.a.post("cmf/api/media/create-directory",n)},go.media.renameDirectory=function(t,e){return lo.a.post("cmf/api/media/rename-directory",{name:t,directory:e})},go.media.deleteDirectory=function(t){return lo.a.post("cmf/api/media/delete-directory",{directory:t})},go.media.moveDirectory=function(t,e){return lo.a.post("cmf/api/media/move-directory",{directory:t,id:e})},go.media.renameFile=function(t,e){return lo.a.post("cmf/api/media/rename-file",{name:t,file:e})},go.media.deleteFile=function(t){return lo.a.post("cmf/api/media/delete-file",{file:t})},go.media.deleteFiles=function(t){return lo.a.post("cmf/api/media/delete-files",{files:JSON.stringify(t)})},go.media.labelFile=function(t,e){return lo.a.post("cmf/api/media/label-file",{label:t,file:e})},go.media.updateFileDescription=function(t,e){return lo.a.post("cmf/api/media/update-file-description",{description:t,file:e})},go.media.updateFileCopyright=function(t,e){return lo.a.post("cmf/api/media/update-file-copyright",{copyright:t,file:e})},go.media.updateFileVisibility=function(t,e){return lo.a.post("cmf/api/media/update-file-visibility",{visibility:t,file:e})},go.media.updateFilesDescription=function(t,e){return lo.a.post("cmf/api/media/update-files-description",{description:t,files:JSON.stringify(e)})},go.media.updateFilesCopyright=function(t,e){return lo.a.post("cmf/api/media/update-files-copyright",{copyright:t,files:JSON.stringify(e)})},go.media.moveFile=function(t,e){return lo.a.post("cmf/api/media/move-file",{directory:t,file:e})},go.media.moveFiles=function(t,e){return lo.a.post("cmf/api/media/move-files",{directory:t,files:JSON.stringify(e)})},go.modules.index=function(){return lo.a.get("cmf/api/modules")},go.modules.action=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return lo.a.get("cmf/api/modules/".concat(t.module,"/").concat(t.action),{params:e})},go.execute.get=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return lo.a.get("cmf/api/modules/".concat(t.module,"/").concat(t.action,"/").concat(e,"/").concat(n),{params:r})},go.execute.post=function(t,e,n,r){return lo.a.post("cmf/api/modules/".concat(t.module,"/").concat(t.action,"/").concat(e,"/").concat(n),s(r))};var wo=go;function _o(t){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ko(t,e){return(ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=So(t);if(e){var o=So(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oo(this,n)}}function Oo(t,e){if(e&&("object"===_o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function So(t){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ko(t,e)}(i,t);var e,n,r,o=xo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={number:"-"},e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this;wo.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){t.setState({number:e.data})}))}},{key:"render",value:function(){var t=this.props.icon?a.a.createElement("div",{className:"custom-number__icon"},a.a.createElement(W,{name:this.props.icon,style:["medium","soft"]})):null,e=this.props.title?a.a.createElement("div",{className:"custom-number__title"},this.props.title):null;return a.a.createElement("div",{className:"custom-number custom-number--"+this.props.style},t,this.state.number,e)}}])&&Eo(e.prototype,n),r&&Eo(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Co,"defaultProps",{path:{},type:"",id:0,style:"default",icon:null,title:""});var Po=Co;function Ro(t){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function To(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ao(t,e){return(Ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Do(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lo(t);if(e){var o=Lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return No(this,n)}}function No(t,e){if(e&&("object"===Ro(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)}(i,t);var e,n,r,o=Do(i);function i(){return To(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t={};return this.props.data&&void 0!==this.props.data[this.props.name]&&(t.backgroundColor=this.props.data[this.props.name]),a.a.createElement(Nt,{name:this.props.name,label:this.props.label},a.a.createElement("div",{className:"color-view",style:t}))}}])&&jo(e.prototype,n),r&&jo(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Fo,"defaultProps",{data:{},label:"",name:""});var Io=Fo;function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zo(t,e){return(zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wo(t);if(e){var o=Wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vo(this,n)}}function Vo(t,e){if(e&&("object"===Bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wo(t){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zo(t,e)}(i,t);var e,n,r,o=Uo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={busy:[],done:[]},e}return e=i,(n=[{key:"handleChange",value:function(t){for(var e=t.target.files,n=0;n<e.length;n++)this.upload(e[n])}},{key:"upload",value:function(t){var e=this,n=this.state.busy;n.push({filename:t.name}),this.setState({busy:n});var r=new FormData;r.append("file",t),wo.execute.post(this.props.path,this.props.id,"upload",r).then((function(t){var n=t.data;e.done(n)}))}},{key:"done",value:function(t){var e=this.state.done;e.unshift(t),this.setState({done:e})}},{key:"renderDone",value:function(){return a.a.createElement("div",{className:"uploads"},this.state.done.map((function(t,e){return a.a.createElement("div",{className:"uploads__thumb",key:e},a.a.createElement("img",{src:"storage/"+t.filename}),t.mime_type)})))}},{key:"renderBusy",value:function(){return a.a.createElement("div",{className:"uploads"},this.state.busy.map((function(t,e){return a.a.createElement("div",{className:"uploads__bar",key:e},t.filename)})))}},{key:"render",value:function(){return a.a.createElement("div",{className:"file-upload"},this.renderDone(),this.renderBusy(),a.a.createElement("input",{type:"file",id:bt("file"),name:"file",multiple:!0,onChange:this.handleChange.bind(this)}))}}])&&Mo(e.prototype,n),r&&Mo(e,r),i}(a.a.Component);function Ho(t){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jo(t,e,n){return(Jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $o(t,e){return($o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xo(t);if(e){var o=Xo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Go(this,n)}}function Go(t,e){if(e&&("object"===Ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xo(t){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$o(t,e)}(i,t);var e,n,r,o=Qo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||"",slugValue:e.props.data[e.props.slugName]||""},e}return e=i,(n=[{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value,t[this.props.slugName]=this.state.slugValue}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name],slugValue:this.props.data[this.props.slugName]})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value,slugValue:Xt(t.target.value)})}},{key:"renderSlugPrefix",value:function(){return a.a.createElement("span",{className:"text-to-slug-field__slug-prefix"},this.props.slugPrefix)}},{key:"changeSlugValue",value:function(){var t=this;Zt.prompt({title:st.get("snippets.update_slug"),defaultValue:this.state.slugValue,confirm:function(e){t.setState({slugValue:Xt(e)})}})}},{key:"render",value:function(){var t=a.a.createElement("span",{className:"text-to-slug-field__slug-placeholder"},"");return this.state.slugValue&&(t=a.a.createElement(a.a.Fragment,null,this.renderSlugPrefix(),a.a.createElement("span",{className:"text-to-slug-field__slug-slug",onClick:this.changeSlugValue.bind(this)},this.state.slugValue))),a.a.createElement("div",{className:"text-to-slug-field"},a.a.createElement("div",{className:"text-to-slug-field__field"},Jo(Xo(i.prototype),"render",this).call(this)),a.a.createElement("div",{className:"text-to-slug-field__slug"},t))}}])&&Ko(e.prototype,n),r&&Ko(e,r),i}(Ut);function Zo(t){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ni(t,e){return(ni=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ii(t);if(e){var o=ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oi(this,n)}}function oi(t,e){if(e&&("object"===Zo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Yo,"defaultProps",{data:{},path:{},type:"",id:0,label:"",slugName:"",slugPrefix:"",tooltip:""});var ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ni(t,e)}(i,t);var e,n,r,o=ri(i);function i(){return ti(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"placeholder"+(this.props.onClick?" placeholder--clickable":""),onClick:this.props.onClick},a.a.createElement("div",{className:"placeholder__icon"},a.a.createElement(W,{name:this.props.icon,style:"placeholder"})),a.a.createElement("div",{className:"placeholder__text"},this.props.children),this.props.button?a.a.createElement("div",{className:"placeholder__button"},a.a.createElement(ve,{text:this.props.button,style:["secondary","small"],icon:this.props.icon,onClick:this.props.onClick})):null)}}])&&ei(e.prototype,n),r&&ei(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ai,"defaultProps",{icon:"upload_file",button:"",onClick:null});var ui=ai;function si(t){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ci(t,e){return(ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=di(t);if(e){var o=di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pi(this,n)}}function pi(t,e){if(e&&("object"===si(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function di(t){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ci(t,e)}(i,t);var e,n,r,o=fi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:"",fileAction:""},e.inputRef=a.a.createRef(),e.files=[],e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name],fileAction:"keep"})}},{key:"handleSubmit",value:function(t){"keep"===this.state.fileAction?t[this.props.name]="keep":this.files.length&&(t[this.props.name]=this.files[0]),t[this.props.name+"_action"]=this.state.fileAction}},{key:"onChange",value:function(t){var e=this;this.files=t.target.files;var n=this.files[0];if(n.type.match(/image.*/)){var r=new FileReader;r.onload=function(t){e.setState({value:r.result,fileAction:"create"})},r.readAsDataURL(n)}}},{key:"deselect",value:function(){this.inputRef.current.value="",this.setState({value:"",fileAction:"delete"})}},{key:"render",value:function(){var t,e=a.a.createElement("input",{ref:this.inputRef,type:"file",id:bt(this.props.name),name:this.props.name,className:"image-upload__input",onChange:this.onChange.bind(this)});return this.state.value?(this.props.isRequired||(t=a.a.createElement("div",{className:"image-upload__options"},a.a.createElement(Se,{text:"Remove",onClick:this.deselect.bind(this)}))),a.a.createElement(Nt,{name:this.props.name,label:this.props.label},a.a.createElement("div",{className:"image-upload"},a.a.createElement("div",{className:"image-upload__thumbnail"},a.a.createElement("img",{src:this.state.value}),e),t))):a.a.createElement(Nt,{name:this.props.name,label:this.props.label},a.a.createElement("div",{className:"image-upload"},a.a.createElement("div",{className:"image-upload__placeholder"},a.a.createElement(ui,{icon:"upload_file"},"Select a ",this.props.name),e)))}}])&&li(e.prototype,n),r&&li(e,r),i}(a.a.Component);function mi(t){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vi(t,e){return(vi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wi(t);if(e){var o=wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gi(this,n)}}function gi(t,e){if(e&&("object"===mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wi(t){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(hi,"defaultProps",{data:{},label:"",name:"",isRequired:!1});var _i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vi(t,e)}(i,t);var e,n,r,o=bi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:""},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},a.a.createElement("input",{id:bt(this.props.name),name:this.props.name,className:"date-time-field",type:"datetime-local",value:this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this)}))}}])&&yi(e.prototype,n),r&&yi(e,r),i}(a.a.Component);function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ki(){return(ki=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oi(t,e){return(Oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pi(t);if(e){var o=Pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ci(this,n)}}function Ci(t,e){if(e&&("object"===Ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(_i,"defaultProps",{data:{},label:"",name:"",tooltip:"",errors:{}});var Ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oi(t,e)}(i,t);var e,n,r,o=Si(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isSubmitting:!1},e.childRefs=[],e.sidebarRefs=[],e.props.children.length||e.props.sidebar.length?(e.props.children.length&&e.props.children.forEach((function(){return e.childRefs.push(a.a.createRef())})),e.props.sidebar.length&&e.props.sidebar.forEach((function(){return e.sidebarRefs.push(a.a.createRef())})),e):Ci(e)}return e=i,(n=[{key:"submit",value:function(){this.props.onSubmit(this.handleSubmit())}},{key:"onSubmit",value:function(t){t.preventDefault(),this.state.isSubmitting||(this.setState({isSubmitting:!0}),this.submit())}},{key:"ready",value:function(){this.setState({isSubmitting:!1})}},{key:"handleSubmit",value:function(){var t=this,e={};return this.props.children.length||this.props.sidebar.length?(this.props.children.forEach((function(n,r){t.childRefs[r].current.handleSubmit(e)})),this.props.sidebar.forEach((function(n,r){t.sidebarRefs[r].current.handleSubmit(e)})),e):e}},{key:"hasMultipleChildren",value:function(){return this.props.children.length}},{key:"renderChildren",value:function(){var t=this;return this.props.children.length?this.props.children.map((function(e,n){var r=e.type;return a.a.createElement("div",{key:n,className:"form__input"},a.a.createElement(r,ki({ref:t.childRefs[n]},e.props,{errors:t.props.errors})))})):null}},{key:"renderSidebar",value:function(){var t=this;return this.props.sidebar.length?this.props.sidebar.map((function(e,n){var r=e.type;return a.a.createElement("div",{key:n,className:"form__sidebar-input"},a.a.createElement(r,ki({ref:t.sidebarRefs[n]},e.props,{errors:t.props.errors})))})):null}},{key:"renderContent",value:function(){var t,e;return this.props.sidebar.length?t=a.a.createElement("div",{className:"form__sidebar"},a.a.createElement("div",{className:"form__sidebar-save"},a.a.createElement(ve,{text:this.props.submitButtonText,type:this.props.realForm?"submit":"button",onClick:this.props.realForm?null:this.submit.bind(this),style:"full"})),this.renderSidebar()):e=a.a.createElement("div",{className:"form__footer"},a.a.createElement(ve,{text:this.props.submitButtonText,type:this.props.realForm?"submit":"button",onClick:this.props.realForm?null:this.submit.bind(this)})),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"form__content"},a.a.createElement("div",{className:"form__inputs"},this.renderChildren()),t),e)}},{key:"render",value:function(){var t=this;return this.props.realForm?a.a.createElement("form",{className:"form"+(this.state.isSubmitting?" form--submitting":""),onSubmit:function(e){return t.onSubmit(e)}},this.renderContent()):a.a.createElement("div",{className:"form"+(this.state.isSubmitting?" form--submitting":"")},this.renderContent())}}])&&xi(e.prototype,n),r&&xi(e,r),i}(a.a.Component);function Ti(t){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ji(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Di(t,e){return(Di=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fi(t);if(e){var o=Fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Li(this,n)}}function Li(t,e){if(e&&("object"===Ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fi(t){return(Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ri,"defaultProps",{realForm:!0,errors:{},submitButtonText:st.get("snippets.confirm"),sidebar:[],onSubmit:function(){}});var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Di(t,e)}(i,t);var e,n,r,o=Ni(i);function i(){return ji(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"overlay"}),this.props.children)}}])&&Ai(e.prototype,n),r&&Ai(e,r),i}(a.a.Component);function Bi(t){return(Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ui(t,e){return(Ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qi(t);if(e){var o=qi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wi(this,n)}}function Wi(t,e){if(e&&("object"===Bi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qi(t){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ui(t,e)}(i,t);var e,n,r,o=Vi(i);function i(){return Mi(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"close",value:function(){this.props.onClose()}},{key:"renderToolbar",value:function(){return this.props.toolbar?a.a.createElement("div",{className:"window__toolbar"},this.props.toolbar):null}},{key:"renderFooter",value:function(){return this.props.footer?a.a.createElement("div",{className:"window__footer"},this.props.footer):null}},{key:"render",value:function(){return a.a.createElement("div",{className:p("window",this.props.style)},a.a.createElement("div",{className:"window__header"},a.a.createElement("div",{className:"window__title"},this.props.title),a.a.createElement("div",{className:"window__actions"},this.props.actions,this.props.closeable?a.a.createElement(bn,{key:"window-close",name:"close",style:"transparent",onClick:this.close.bind(this)}):null)),this.renderToolbar(),a.a.createElement("div",{className:"window__content"},this.props.children),this.renderFooter())}}])&&zi(e.prototype,n),r&&zi(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Hi,"defaultProps",{title:"",style:"default",actions:[],toolbar:null,footer:null,closeable:!1,onClose:function(){}});var Ki=Hi;function Ji(t){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qi(t,e){return(Qi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yi(t);if(e){var o=Yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xi(this,n)}}function Xi(t,e){if(e&&("object"===Ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yi(t){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qi(t,e)}(i,t);var e,n,r,o=Gi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={createFormErrors:{},value:e.props.data[e.props.name]?e.props.data[e.props.name].id:"",options:{},isOpen:!1},e.createFormRef=a.a.createRef(),e}return e=i,(n=[{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value}},{key:"getData",value:function(t){var e=this;return t[this.props.name]=this.state.value?this.state.options.find((function(t){return t.id===e.state.value})):null,t}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.props.data[this.props.name]&&this.setState({value:this.props.data[this.props.name].id})}},{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;wo.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(n){var r=n.data.data,o={};r.forEach((function(e){return o[e.id]=e[t.props.titleColumn]}));var i=t.state.value?t.state.value:t.props.nullable?"":r[0].id;t.setState({value:i,options:o},(function(){e&&e()}))}))}},{key:"handleChange",value:function(t){console.log(t),this.setState({value:t})}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"create",value:function(t){var e=this;wo.execute.post(this.props.path,this.props.id,"create",t).then((function(t){e.createFormRef.current.ready(),e.load((function(){e.setState({isOpen:!1,value:t.data.data.id})})),Zt.notify(st.get("snippets.singular_created_selected",{singular:e.props.singular}))}),(function(t){var n=t.response;e.createFormRef.current.ready(),e.setState({createFormErrors:n.data.errors}),Zt.notify(n.data.message)}))}},{key:"renderSidebarComponents",value:function(){return Bd.renderComponents(this.props.sidebarComponents,{},this.props.path)}},{key:"renderCreateComponents",value:function(){return Bd.renderComponents(this.props.createComponents,{},this.props.path)}},{key:"renderCreateWidget",value:function(){return this.state.isOpen?a.a.createElement(Ii,null,a.a.createElement(Ki,{title:st.get("snippets.new_singular",{singular:this.props.singular}),style:"modal",closeable:!0,onClose:this.close.bind(this)},a.a.createElement(Ri,{ref:this.createFormRef,errors:this.state.createFormErrors,realForm:!1,onSubmit:this.create.bind(this),submitButtonText:st.get("snippets.create_singular",{singular:this.props.singular}),sidebar:this.renderSidebarComponents()},this.renderCreateComponents()))):null}},{key:"renderCreate",value:function(){return this.props.create?a.a.createElement("div",{className:"belongs-to-field__btn"},a.a.createElement(ve,{icon:"add",style:["full","small","secondary"],text:st.get("snippets.new_singular",{singular:this.props.singular}),onClick:this.open.bind(this)})):null}},{key:"render",value:function(){var t=this;return a.a.createElement(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip},a.a.createElement("div",{className:"belongs-to-field"},a.a.createElement("div",{className:"belongs-to-field__field"},a.a.createElement(Fn,{nullable:this.props.nullable,nullText:" "+st.get("snippets.no_singular_selected",{singular:this.props.singular})+" ",options:this.state.options,value:this.state.value,onChange:function(e){return t.handleChange(e)}},this.renderCreate()))),this.renderCreateWidget())}}])&&$i(e.prototype,n),r&&$i(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Zi,"defaultProps",{data:{},label:"",name:"",titleColumn:"",nullable:!1,plural:"",singular:"",tooltip:"",create:!1,createComponents:[],sidebarComponents:[]});var ta=Zi;function ea(t){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function na(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oa(t,e){return(oa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ia(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ua(t);if(e){var o=ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aa(this,n)}}function aa(t,e){if(e&&("object"===ea(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ua(t){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oa(t,e)}(i,t);var e,n,r,o=ia(i);function i(){return na(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.name]?a.a.createElement("div",{className:"belongs-to-view"},this.props.data[this.props.name]):null}}])&&ra(e.prototype,n),r&&ra(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(sa,"defaultProps",{data:{},label:"",name:""});var la=sa,ca=n("rX62"),fa=n.n(ca),pa=n("8Ee6"),da=(n("Egg9"),function(t){var e=Math.floor(Math.log(t)/Math.log(1e3));return 1*(t/Math.pow(1e3,e)).toFixed()+" "+["bytes","kB","MB","GB","TB"][e]});function ha(t){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ya(t,e){return(ya=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function va(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ga(t);if(e){var o=ga(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ba(this,n)}}function ba(t,e){if(e&&("object"===ha(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ga(t){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ya(t,e)}(i,t);var e,n,r,o=va(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={redrawKey:0,value:e.props.data[e.props.name]||""},e}return e=i,(n=[{key:"handleEditorReady",value:function(t){fa.a.config.textAttributes.sup={tagName:"sup",inheritable:!1};var e=t.element.editorController.toolbarController.element,n=e.querySelector(".trix-button-group");n&&n.insertAdjacentHTML("beforeend",'<button type="button" data-trix-attribute="sup" class="trix-button">A<sup>2</sup></button>');var r=e.querySelector(".trix-button-group--block-tools");r&&r.remove();var o=e.querySelector(".trix-button-group--file-tools");o&&o.remove()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({redrawKey:this.state.redrawKey+1,value:this.props.data[this.props.name]||""})}},{key:"handleChange",value:function(t,e){this.setState({value:t})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value||"",t}},{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip},a.a.createElement("div",{className:"richtext-field"},a.a.createElement(pa.TrixEditor,{key:this.state.redrawKey,value:this.props.data[this.props.name]||"",onChange:this.handleChange.bind(this),onEditorReady:this.handleEditorReady.bind(this)})))}}])&&ma(e.prototype,n),r&&ma(e,r),i}(a.a.Component);function _a(t){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xa(t,e){return(xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ca(t);if(e){var o=Ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sa(this,n)}}function Sa(t,e){if(e&&("object"===_a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ca(t){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(wa,"defaultProps",{data:{},label:"",name:"",tooltip:""});var Pa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xa(t,e)}(i,t);var e,n,r,o=Oa(i);function i(){return Ea(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"handleSubmit",value:function(t){}},{key:"render",value:function(){return this.props.data[this.props.name]?a.a.createElement(Nt,{name:this.props.name,label:this.props.label},a.a.createElement("div",{className:"image-view"},a.a.createElement("img",{src:this.props.data[this.props.name]}))):null}}])&&ka(e.prototype,n),r&&ka(e,r),i}(a.a.Component);function Ra(t){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ja(t,e){return(ja=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Aa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Na(t);if(e){var o=Na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Da(this,n)}}function Da(t,e){if(e&&("object"===Ra(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Na(t){return(Na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Pa,"defaultProps",{data:{},label:"",name:""});var La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ja(t,e)}(i,t);var e,n,r,o=Aa(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:!!e.props.data[e.props.name]&&1===e.props.data[e.props.name]},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:1===this.props.data[this.props.name]})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value?1:0}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value?1:0,t}},{key:"switch",value:function(){this.setState({value:!this.state.value})}},{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip},a.a.createElement("div",{className:"boolean-field boolean-field--"+(this.state.value?"checked":"unchecked"),onClick:this.switch.bind(this)}))}}])&&Ta(e.prototype,n),r&&Ta(e,r),i}(a.a.Component);function Fa(t){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ia(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ba(t,e){return(Ba=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ma(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ua(t);if(e){var o=Ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return za(this,n)}}function za(t,e){if(e&&("object"===Fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ua(t){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(La,"defaultProps",{data:{},label:"",name:"",tooltip:""});var Va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ba(t,e)}(n,t);var e=Ma(n);function n(){return Ia(this,n),e.apply(this,arguments)}return n}(se);function Wa(t){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ka(t,e){return(Ka=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qa(t);if(e){var o=Qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $a(this,n)}}function $a(t,e){if(e&&("object"===Wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qa(t){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ka(t,e)}(i,t);var e,n,r,o=Ja(i);function i(){return qa(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"handleSubmit",value:function(t){}},{key:"render",value:function(){var t;return this.props.data[this.props.name]&&(t=a.a.createElement("img",{src:this.props.data[this.props.name]})),a.a.createElement(Nt,{name:this.props.name,label:this.props.label},a.a.createElement("div",{className:"thumbnail"},t))}}])&&Ha(e.prototype,n),r&&Ha(e,r),i}(a.a.Component);function Xa(t){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ya(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Za(t,e){return(Za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nu(t);if(e){var o=nu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eu(this,n)}}function eu(t,e){if(e&&("object"===Xa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nu(t){return(nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ga,"defaultProps",{data:{},label:"",name:""});var ru=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Za(t,e)}(i,t);var e,n,r,o=tu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isLoaded:!1},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){var e=this;this.props.src!==t.src&&this.setState({isLoaded:!1},(function(){e.load()}))}},{key:"componentDidMount",value:function(){this.props.autoload&&this.load()}},{key:"load",value:function(){var t=this;if(!this.state.isLoaded){var e=new Image;e.src=this.props.src,e.onload=function(){t.setState({isLoaded:!0}),t.props.onLoaded()}}}},{key:"render",value:function(){return a.a.createElement("div",{className:"thumb"+(this.state.isLoaded?" thumb--loaded":"")},a.a.createElement("img",{src:this.props.src,className:"thumb__img"}))}}])&&Ya(e.prototype,n),r&&Ya(e,r),i}(a.a.Component);function ou(t){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function au(t,e){return(au=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lu(t);if(e){var o=lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return su(this,n)}}function su(t,e){if(e&&("object"===ou(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lu(t){return(lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ru,"defaultProps",{src:"",autoload:!0,onLoaded:function(){}});var cu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&au(t,e)}(i,t);var e,n,r,o=uu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentList=[],e}return e=i,(n=[{key:"handleSubmit",value:function(t){this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"renderBooleanView",value:function(){return this.props.booleanView?a.a.createElement("div",{className:"card__boolean"},Bd.renderComponent(this.props.booleanView,this.props.data,this.props.path)):null}},{key:"renderComponents",value:function(){if(!this.props.components.length)return null;this.componentList=Bd.renderComponentsWith(this.props.components,this.props.data,this.props.path,(function(t,e){return a.a.createElement("div",{className:"card__component",key:e},t)}),!0);var t=this.componentList.map((function(t){return t.component}));return a.a.createElement("div",{className:"card__content"},t)}},{key:"render",value:function(){var t,e,n={};return this.props.data[this.props.photo]&&this.props.data[this.props.photo].is_image&&(n.backgroundImage="url("+this.props.data[this.props.photo].conversions.preview+")"),this.props.subtitleField&&this.props.data[this.props.subtitleField]&&(t=a.a.createElement("div",{className:"card__subtitle"},this.props.data[this.props.subtitleField])),this.props.labelField&&this.props.data[this.props.labelField]&&(e=a.a.createElement("div",{className:"card__label"},this.props.data[this.props.labelField])),a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card__photo",style:n},e,this.renderBooleanView()),a.a.createElement("div",{className:"card__main"},a.a.createElement("div",{className:"card__title"},this.props.data[this.props.titleField]),t,this.renderComponents()))}}])&&iu(e.prototype,n),r&&iu(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(cu,"defaultProps",{data:{},titleField:"",subtitleField:"",labelField:"",booleanView:null,photo:""});var fu=cu;function pu(t){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hu(t,e){return(hu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bu(t);if(e){var o=bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yu(this,n)}}function yu(t,e){if(e&&("object"===pu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vu(t)}function vu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bu(t){return(bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hu(t,e)}(i,t);var e,n,r,o=mu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,dropDirectionX:"right",dropDirectionY:"down"},e.dropdownRef=a.a.createRef(),e.handleDocumentClick=e.onDocumentClick.bind(vu(e)),e}return e=i,(n=[{key:"componentWillUnmount",value:function(){this.unbindDocumentClick()}},{key:"bindDocumentClick",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"unbindDocumentClick",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"onDocumentClick",value:function(t){this.props.autoClose?this.close():this.dropdownRef.current.contains(t.target)||this.close()}},{key:"toggle",value:function(t){t.stopPropagation();var e=window.innerHeight/2,n=window.innerWidth/2;this.state.isOpen?this.close():this.open(t.clientX>n?"left":"right",t.clientY>e?"up":"down")}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"down";this.setState({isOpen:!0,dropDirectionX:t,dropDirectionY:e}),this.bindDocumentClick()}},{key:"close",value:function(){this.setState({isOpen:!1}),this.unbindDocumentClick()}},{key:"render",value:function(){var t=a.a.createElement(ve,{text:this.props.text,label:this.props.label,style:["secondary","small"],onClick:this.toggle.bind(this),icon:this.state.isOpen?this.props.closeIcon:this.props.openIcon});return this.props.text||(t=a.a.createElement(bn,{name:this.state.isOpen?this.props.closeIcon:this.props.openIcon,iconStyle:"small",onClick:this.toggle.bind(this)})),a.a.createElement("div",{className:p("dropdown",this.props.style)+(this.state.isOpen?" dropdown--open":"")+" dropdown--"+this.state.dropDirectionX+" dropdown--"+this.state.dropDirectionY,ref:this.dropdownRef},a.a.createElement("div",{className:"dropdown__trigger"},t),a.a.createElement("div",{className:"dropdown__content"},this.props.children))}}])&&du(e.prototype,n),r&&du(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(gu,"defaultProps",{label:"",text:"",style:null,autoClose:!1,openIcon:"expand_more",closeIcon:"expand_less"});var wu=gu;function _u(t){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xu(t,e){return(xu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ou(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cu(t);if(e){var o=Cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Su(this,n)}}function Su(t,e){if(e&&("object"===_u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cu(t){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xu(t,e)}(i,t);var e,n,r,o=Ou(i);function i(){return Eu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"goTo",value:function(t){var e={};this.props.data&&this.props.data.id?e.id=this.props.data.id:this.props.path.params.id&&(e.id=this.props.path.params.id),c.goTo(this.props.path.module,t,e)}},{key:"render",value:function(){var t=this;return a.a.createElement(wu,{text:this.props.text,style:this.props.style},a.a.createElement(O,{links:this.props.links,onClick:function(e){return t.goTo(e)}}))}}])&&ku(e.prototype,n),r&&ku(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Pu,"defaultProps",{path:{},data:{},text:"",links:[],style:null});var Ru=Pu,Tu=n("o0o1"),ju=n.n(Tu),Au={"application/json":{name:"json",description:"JavaScript Object Notation",color:"#333333"},"application/pdf":{name:"pdf",description:"Portable document format",color:"#ca3932"},"application/msword":{name:"doc",description:"Word-document",color:"#01178f"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{name:"docx",description:"Word-document",color:"#01178f"},"application/vnd.ms-powerpoint":{name:"ppt",description:"PowerPoint-presentation",color:"#c74423"},"application/vnd.ms-excel":{name:"xls",description:"Excel spreadsheet",color:"#0ba734"},"application/zip":{name:"zip",description:"ZIP-archive",color:"#d53222"},"image/vnd.adobe.photoshop":{name:"psd",description:"Adobe Photoshop file",color:"#106688"},"video/x-msvideo":{name:"avi",description:"AVI video"},"video/mp4":{name:"mp4",description:"MP4 video",color:"#379bf2"},"video/mpeg":{name:"mpeg",description:"MPEG video",color:"#379bf2"},"video/webm":{name:"webm",description:"Web video file",color:"#276297"},"audio/mpeg":{name:"mp3",description:"MP3 audio"},"audio/wav":{name:"wav",description:"Waveform audio",color:"#ef7a1a"},"audio/x-wav":{name:"wav",description:"Waveform audio",color:"#ef7a1a"},"audio/webm":{name:"weba",description:"Web audio file"},"image/bmp":{name:"bmp",description:"Bitmap image"},"image/gif":{name:"gif",description:"GIF image"},"image/jpeg":{name:"jpg",description:"JPEG image"},"image/png":{name:"png",description:"PNG image"},"image/svg":{name:"svg",description:"SVG image",color:"#d9992a"},"image/svg+xml":{name:"svg",description:"SVG image",color:"#d9992a"},"image/tiff":{name:"tiff",description:"TIFF image"},"image/webp":{name:"webp",description:"Web image file"},"text/plain":{name:"txt",description:"Plain text file",color:"#bbb"},"text/css":{name:"css",description:"CSS text file"},"text/html":{name:"html",description:"HTML document"},"text/javascript":{name:"js",description:"JavaScript file"},"text/csv":{name:"csv",description:"Comma seperated file"},"application/octet-stream":{name:"bin",description:"Binary file"}};function Du(t){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fu(t,e){return(Fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Iu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mu(t);if(e){var o=Mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bu(this,n)}}function Bu(t,e){if(e&&("object"===Du(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mu(t){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fu(t,e)}(i,t);var e,n,r,o=Iu(i);function i(){return Nu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getFileFormat",value:function(){var t=Au;return t[this.props.file.mime_type]?t[this.props.file.mime_type].name:"unknown"}},{key:"getFileColor",value:function(){var t=Au;return t[this.props.file.mime_type]&&t[this.props.file.mime_type].color?t[this.props.file.mime_type].color:"#ccc"}},{key:"render",value:function(){var t;return t=this.props.file.is_image?a.a.createElement(ru,{src:this.props.file.conversions[this.props.mediaConversion]}):a.a.createElement("div",{className:"file-preview__textual",style:{"--color":this.getFileColor()}},a.a.createElement("span",null,this.getFileFormat())),a.a.createElement("div",{className:p("file-preview",this.props.style)},t)}}])&&Lu(e.prototype,n),r&&Lu(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(zu,"defaultProps",{file:{},style:[],mediaConversion:"thumb"});var Uu=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null},Vu=function(t,e,n){return.299*t+.587*e+.114*n>186?"#000000":"#ffffff"};function Wu(t){return(Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ku(t,e){return(Ku=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qu(t);if(e){var o=Qu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $u(this,n)}}function $u(t,e){if(e&&("object"===Wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qu(t){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ku(t,e)}(i,t);var e,n,r,o=Ju(i);function i(){return qu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=Uu(this.props.color);return a.a.createElement("span",{className:p("tag-label",this.props.style),style:{backgroundColor:this.props.color,color:Vu(t[0],t[1],t[2])}},this.props.text)}}])&&Hu(e.prototype,n),r&&Hu(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Gu,"defaultProps",{text:"",color:"#cccccc",style:""});var Xu=Gu;function Yu(t){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(t,e){return(es=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ns(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=os(t);if(e){var o=os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rs(this,n)}}function rs(t,e){if(e&&("object"===Yu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var is=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&es(t,e)}(i,t);var e,n,r,o=ns(i);function i(){return Zu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"renderActions",value:function(){return this.props.actions.length?a.a.createElement("div",{className:"file__actions"},this.props.actions):null}},{key:"renderSelectionMode",value:function(){var t=this;return this.props.selectionMode?a.a.createElement("div",{className:"file__checkbox"},a.a.createElement(bn,{onClick:function(e){return t.props.onClick(e,t.props.file)},name:this.props.isSelected?"check_box":"check_box_outline_blank",style:"transparent"})):null}},{key:"renderLabel",value:function(){if(Object.keys(this.props.fileLabels).length){var t=this.props.fileLabels[this.props.file.label]||null;if(t)return a.a.createElement("div",{className:"file__label"},a.a.createElement(Xu,{text:t.name,color:t.color,style:"grid"===this.props.viewMode?["small"]:[]}))}return null}},{key:"getFileType",value:function(){var t=Au;return t[this.props.file.mime_type]?t[this.props.file.mime_type].description:"unknown"}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"file file--"+this.props.viewMode+(this.props.isSelected?" file--selected":""),onClick:function(e){return t.props.onClick(e,t.props.file)}},this.renderSelectionMode(),a.a.createElement("div",{className:"file__preview"},a.a.createElement(zu,{file:this.props.file,mediaConversion:"grid"===this.props.viewMode?"contain":"thumb",style:"grid"===this.props.viewMode?["grid","full"]:["list"]})),a.a.createElement("div",{className:"file__content"},a.a.createElement("div",{className:"file__name"},this.props.file.name),a.a.createElement("div",{className:"file__type"},this.getFileType()),a.a.createElement("div",{className:"file__size"},da(this.props.file.size)," (",this.props.file.disk,")")),this.renderLabel(),this.renderActions())}}])&&ts(e.prototype,n),r&&ts(e,r),i}(a.a.Component);function as(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(is,"defaultProps",{file:{},fileLabels:{},isSelected:!1,selectionMode:!1,viewMode:"list",actions:[],onClick:function(t,e){}});var us=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"on",value:function(t,e){void 0===this.eventQueue[t]&&(this.eventQueue[t]=[]),this.eventQueue[t].push(e)}},{key:"off",value:function(t,e){this.eventQueue[t]&&(this.eventQueue[t]=this.eventQueue[t].filter((function(t){return t!==e})))}},{key:"trigger",value:function(t,e){void 0!==this.eventQueue[t]&&this.eventQueue[t].forEach((function(t){t(e)}))}}],(n=null)&&as(e.prototype,n),r&&as(e,r),t}();function ss(t){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fs(t,e){return(fs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ps(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hs(t);if(e){var o=hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ds(this,n)}}function ds(t,e){if(e&&("object"===ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hs(t){return(hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(us,"eventQueue",{});var ms=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fs(t,e)}(i,t);var e,n,r,o=ps(i);function i(){return ls(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return{queued:"hourglass_empty",uploading:"arrow_upward"}[this.props.status]}},{key:"render",value:function(){return a.a.createElement("div",{className:"upload-status upload-status--"+this.props.status},a.a.createElement("div",{className:"upload-status__icon"},a.a.createElement(W,{name:this.getIcon()})))}}])&&cs(e.prototype,n),r&&cs(e,r),i}(a.a.Component);function ys(t){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gs(t,e){return(gs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ws(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Es(t);if(e){var o=Es(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _s(this,n)}}function _s(t,e){if(e&&("object"===ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Es(t){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ms,"defaultProps",{status:""});var ks=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gs(t,e)}(i,t);var e,n,r,o=ws(i);function i(){return vs(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"file-placeholder"},a.a.createElement("div",{className:"file-placeholder__status"},a.a.createElement(ms,{status:this.props.data.status})),a.a.createElement("div",{className:"file-placeholder__content"},a.a.createElement("div",{className:"file-placeholder__name"},this.props.data.name),a.a.createElement("div",{className:"file-placeholder__size"},da(this.props.data.size)),a.a.createElement("div",{className:"file-placeholder__progress"},a.a.createElement("progress",{className:"file-placeholder__progress-bar",max:100,value:this.props.data.progress}))))}}])&&bs(e.prototype,n),r&&bs(e,r),i}(a.a.Component);function xs(t){return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ss(t,e){return(Ss=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rs(t);if(e){var o=Rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ps(this,n)}}function Ps(t,e){if(e&&("object"===xs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rs(t){return(Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ks,"defaultProps",{data:{}});var Ts=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ss(t,e)}(i,t);var e,n,r,o=Cs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1},e}return e=i,(n=[{key:"toggle",value:function(){this.props.onToggle(),this.state.isOpen?this.props.onClose():this.props.onOpen(),this.setState({isOpen:!this.state.isOpen})}},{key:"select",value:function(){this.props.onClick()}},{key:"render",value:function(){return a.a.createElement("div",{className:p("tree-item",this.props.style)},this.props.collapsible?a.a.createElement("div",{className:"tree-item__toggle"},a.a.createElement(W,{name:this.state.isOpen?"expand_more":"chevron_right",onClick:this.toggle.bind(this)})):null,a.a.createElement("div",{className:"tree-item__content",onClick:this.select.bind(this)},a.a.createElement("div",{className:"tree-item__icon"},a.a.createElement(W,{name:this.props.icon,style:"alt"})),a.a.createElement("div",{className:"tree-item__text"},this.props.text)))}}])&&Os(e.prototype,n),r&&Os(e,r),i}(a.a.Component);function js(t){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function As(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Ds(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){As(i,r,o,a,u,"next",t)}function u(t){As(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ls(t,e){return(Ls=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bs(t);if(e){var o=Bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Is(this,n)}}function Is(t,e){if(e&&("object"===js(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bs(t){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ts,"defaultProps",{icon:"folder",style:"default",text:"",collapsible:!0,onOpen:function(){},onClose:function(){},onToggle:function(){},onClick:function(){}});var Ms=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ls(t,e)}(s,t);var e,n,r,o,i,u=Fs(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=u.call(this,t)).state={directories:[],directoriesMap:{}},e}return e=s,(n=[{key:"componentDidMount",value:function(){this.load()}},{key:"componentDidUpdate",value:function(t){this.props.directory!==t.directory&&this.load()}},{key:"componentWillUnmount",value:function(){}},{key:"select",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onDirectoryClick(t)}},{key:"load",value:(i=Ds(ju.a.mark((function t(){var e=this;return ju.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wo.media.loadDirectories(this.props.directory).then((function(t){e.setState({directories:t.data.data})}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"loadChildren",value:(o=Ds(ju.a.mark((function t(e){var n=this;return ju.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wo.media.loadDirectories(e).then((function(t){var r=n.state.directoriesMap;r[e]=t.data.data,n.setState({directoriesMap:r})}));case 2:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"toggleCollapse",value:function(t){if(this.state.directoriesMap[t]){var e=this.state.directoriesMap;delete e[t],this.setState({directoriesMap:e})}else this.loadChildren(t)}},{key:"renderChildren",value:function(t){var e=this;return this.state.directoriesMap[t]?this.state.directoriesMap[t].map((function(t){return e.renderDirectory(t)})):null}},{key:"renderDirectory",value:function(t){var e=this;return a.a.createElement("div",{className:"directory-tree__item",key:t.id},a.a.createElement(Ts,{icon:"folder",text:t.name,style:this.props.selectedDirectory===t.id?"selected":"default",onToggle:function(){return e.toggleCollapse(t.id)},onClick:function(){return e.select(t.id)}}),a.a.createElement("div",{className:"directory-tree__children"},this.renderChildren(t.id)))}},{key:"render",value:function(){var t=this;return this.state.directories.length?a.a.createElement("div",{className:"directory-tree"},a.a.createElement(Ts,{icon:"home",text:st.get("snippets.files_root"),style:null===this.props.selectedDirectory?"selected":"default",collapsible:!1,onClick:function(){return t.select()}}),this.state.directories.map((function(e){return t.renderDirectory(e)}))):null}}])&&Ns(e.prototype,n),r&&Ns(e,r),s}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ms,"defaultProps",{directory:null,selectedDirectory:null,onDirectoryClick:function(t){}});var zs=Ms;function Us(t){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qs(t,e){return(qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Js(t);if(e){var o=Js(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ks(this,n)}}function Ks(t,e){if(e&&("object"===Us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Js(t){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qs(t,e)}(i,t);var e,n,r,o=Hs(i);function i(){return Vs(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"confirmMove",value:function(t){var e=this;Zt.confirm({title:st.get("snippets.move"),text:st.get("snippets.move_files_text"),confirmButtonText:st.get("snippets.move_files_confirm"),cancelButtonText:st.get("snippets.move_files_cancel"),confirm:function(){return e.props.onConfirm(t)}})}},{key:"render",value:function(){var t=this;return a.a.createElement(Ki,{style:["modal"],title:st.get("snippets.move"),footer:[a.a.createElement(ve,{key:"cancel",text:st.get("snippets.move_files_cancel"),style:"secondary",onClick:function(e){return t.props.onCancel()}})]},a.a.createElement(zs,{selectedDirectory:this.props.directory?this.props.directory.id:null,onDirectoryClick:function(e){return t.confirmMove(e)}}))}}])&&Ws(e.prototype,n),r&&Ws(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}($s,"defaultProps",{directory:null,onCancel:function(){},onConfirm:function(t){}});var Qs=$s;function Gs(t){return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zs(t,e){return(Zs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nl(t);if(e){var o=nl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return el(this,n)}}function el(t,e){if(e&&("object"===Gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nl(t){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zs(t,e)}(i,t);var e,n,r,o=tl(i);function i(){return Xs(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this,e="default";return"grid"===this.props.viewMode?e="extra-large":"list"===this.props.viewMode&&(e="large"),a.a.createElement("div",{className:"directory directory--"+this.props.viewMode,onClick:function(e){return t.props.onClick(e,t.props.directory)}},a.a.createElement("div",{className:"directory__icon"},a.a.createElement(W,{name:"folder",style:[e,"alt"]})),a.a.createElement("div",{className:"directory__content"},a.a.createElement("div",{className:"directory__name"},this.props.directory.name),a.a.createElement("div",{className:"directory__type"},st.get("snippets.directory"))))}}])&&Ys(e.prototype,n),r&&Ys(e,r),i}(a.a.Component);function ol(t){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function il(t){return function(t){if(Array.isArray(t))return al(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return al(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return al(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ul(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sl(t,e){return(sl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ll(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pl(t);if(e){var o=pl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cl(this,n)}}function cl(t,e){if(e&&("object"===ol(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fl(t)}function fl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pl(t){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(rl,"defaultProps",{directory:{},viewMode:"list",actions:[],onClick:function(t,e){}});var dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sl(t,e)}(i,t);var e,n,r,o=ll(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={uploads:[],files:e.props.files,moveAction:!1,moveFileId:null,moveFileIds:[],moveDirectoryId:null},e.handleOnUploadQueued=e.onUploadQueued.bind(fl(e)),e.handleOnUploadQueuedMultiple=e.onUploadQueuedMultiple.bind(fl(e)),e.handleOnUploadStart=e.onUploadStart.bind(fl(e)),e.handleOnUploadProgress=e.onUploadProgress.bind(fl(e)),e.handleOnUploadSuccess=e.onUploadSuccess.bind(fl(e)),e.handleOnUploadFail=e.onUploadFail.bind(fl(e)),e}return e=i,(n=[{key:"componentDidUpdate",value:function(t,e,n){t.files!==this.props.files&&this.setState({files:this.props.files})}},{key:"componentDidMount",value:function(){us.on("media.upload.queued",this.handleOnUploadQueued),us.on("media.upload.queuedMultiple",this.handleOnUploadQueuedMultiple),us.on("media.upload.start",this.handleOnUploadStart),us.on("media.upload.progress",this.handleOnUploadProgress),us.on("media.upload.success",this.handleOnUploadSuccess),us.on("media.upload.fail",this.handleOnUploadFail)}},{key:"componentWillUnmount",value:function(){us.off("media.upload.queued",this.handleOnUploadQueued),us.off("media.upload.queuedMultiple",this.handleOnUploadQueuedMultiple),us.off("media.upload.start",this.handleOnUploadStart),us.off("media.upload.progress",this.handleOnUploadProgress),us.off("media.upload.success",this.handleOnUploadSuccess),us.off("media.upload.fail",this.handleOnUploadFail)}},{key:"onUploadQueued",value:function(t){this.setState({uploads:[].concat(il(this.state.uploads),[{id:t.id,size:t.size,name:t.filename,progress:0,status:"queued"}])})}},{key:"onUploadQueuedMultiple",value:function(t){var e=t.files.map((function(t){return{id:t.id,size:t.size,name:t.filename,progress:0,status:"queued"}})),n=this.state.uploads.concat(e);this.setState({uploads:n})}},{key:"onUploadStart",value:function(t){}},{key:"onUploadProgress",value:function(t){this.state.uploads.forEach((function(e){e.id===t.id&&(e.status="uploading",e.progress=t.progress)})),this.setState({uploads:this.state.uploads})}},{key:"onUploadSuccess",value:function(t){var e=t.file,n=e.directory?e.directory.id:null,r=this.props.currentDirectory?this.props.currentDirectory.id:null;this.setState({files:n===r?[e].concat(il(this.state.files)):this.state.files,uploads:this.state.uploads.filter((function(e){return e.id!==t.id}))})}},{key:"onUploadFail",value:function(t){this.setState({uploads:this.state.uploads.filter((function(e){return e.id!==t.id}))})}},{key:"onDirectoryContextClick",value:function(t,e){var n=this;"delete"===t?Zt.confirm({title:st.get("snippets.delete_directory_title"),text:st.get("snippets.delete_directory_text"),confirmButtonText:st.get("snippets.delete_directory_confirm"),cancelButtonText:st.get("snippets.delete_directory_cancel"),confirm:function(){return n.props.onDirectoryDelete(e.id)}}):"rename"===t?Zt.prompt({title:st.get("snippets.rename"),defaultValue:e.name,confirm:function(t){return n.props.onDirectoryRename(t,e.id)}}):"move"===t&&this.setState({moveAction:!0,moveDirectoryId:e.id})}},{key:"onFileContextClick",value:function(t,e){var n=this;"delete"===t?Zt.confirm({title:st.get("snippets.delete_file_title"),text:st.get("snippets.delete_file_text"),confirmButtonText:st.get("snippets.delete_file_confirm"),cancelButtonText:st.get("snippets.delete_file_cancel"),confirm:function(){return n.props.onFileDelete(e.id)}}):"rename"===t?Zt.prompt({title:st.get("snippets.rename_file"),defaultValue:e.name,confirm:function(t){return n.props.onFileRename(t,e.id)}}):"download"===t?this.props.onFileOpen(e):"move"===t?this.setState({moveAction:!0,moveFileId:e.id,moveFileIds:[]}):"multi-delete"===t?this.props.onSelectionDelete(this.props.selectedFileIds,this.props.selectedFiles):"multi-move"===t&&this.setState({moveAction:!0,moveFileId:null,moveFileIds:this.props.selectedFileIds})}},{key:"handleFileClick",value:function(t,e){t.shiftKey||t.metaKey||this.props.selectionMode?this.toggleFileSelection(e):this.deselectAllExcept(e),this.props.onFileClick(e.id)}},{key:"toggleFileSelection",value:function(t){this.isFileSelected(t)?this.deselectFile(t):this.selectFile(t)}},{key:"deselectFile",value:function(t){this.props.onSelectionChange(this.props.selectedFileIds.filter((function(e){return e!==t.id})),this.props.selectedFiles.filter((function(e){return e.id!==t.id})))}},{key:"selectFile",value:function(t){this.props.onSelectionChange([].concat(il(this.props.selectedFileIds),[t.id]),[].concat(il(this.props.selectedFiles),[t]))}},{key:"deselectAllExcept",value:function(t){this.props.onSelectionChange([t.id],[t])}},{key:"isFileSelected",value:function(t){return this.props.selectedFileIds.includes(t.id)}},{key:"renderMoveWidget",value:function(){var t=this;return this.state.moveAction?a.a.createElement(Ii,null,a.a.createElement(Qs,{directory:this.props.currentDirectory,onCancel:function(e){t.setState({moveAction:!1,moveFileId:null,moveFileIds:[],moveDirectoryId:null})},onConfirm:function(e){t.setState({moveAction:!1},(function(){t.state.moveFileIds.length?t.props.onSelectionMove(e,t.state.moveFileIds):t.state.moveFileId&&t.props.onFileMove(e,t.state.moveFileId),t.state.moveDirectoryId!==e?t.state.moveDirectoryId&&t.props.onDirectoryMove(e,t.state.moveDirectoryId):Zt.notify(st.get("snippets.cant_move_directory_inside_self"))}))}})):null}},{key:"renderUploads",value:function(){return this.state.uploads.length?a.a.createElement("div",{className:"file-list"},this.state.uploads.map((function(t,e){return a.a.createElement("div",{className:"file-list__item",key:e},a.a.createElement(ks,{data:t}))}))):null}},{key:"renderFiles",value:function(){var t=this;if(!this.state.files.length)return null;var e=[[st.get("snippets.rename"),"rename"],[st.get("snippets.move"),"move"],[st.get("snippets.download"),"download"],[st.get("snippets.delete"),"delete"]];return this.props.selectedFileIds.length>1&&(e=[[st.get("snippets.move_files",{amount:this.props.selectedFileIds.length}),"multi-move"],[st.get("snippets.delete_files",{amount:this.props.selectedFileIds.length}),"multi-delete"]]),a.a.createElement("div",{className:"file-list file-list--"+this.props.viewMode},this.state.files.map((function(n,r){return a.a.createElement("div",{className:"file-list__item",key:r},a.a.createElement(N,{key:r,links:e,onClick:function(e){return t.onFileContextClick(e,n)}},a.a.createElement(is,{viewMode:t.props.viewMode,file:n,fileLabels:t.props.fileLabels,isSelected:t.isFileSelected(n),selectionMode:t.props.selectionMode,onClick:function(e,n){return t.handleFileClick(e,n)}})))})))}},{key:"renderDirectories",value:function(){var t=this;return this.props.directories.length?a.a.createElement("div",{className:"directory-list directory-list--"+this.props.viewMode},this.props.directories.map((function(e,n){return a.a.createElement("div",{className:"directory-list__item",key:n},a.a.createElement(N,{key:n,links:[[st.get("snippets.rename"),"rename"],[st.get("snippets.move"),"move"],[st.get("snippets.delete"),"delete"]],onClick:function(n){return t.onDirectoryContextClick(n,e)}},a.a.createElement(rl,{viewMode:t.props.viewMode,directory:e,onClick:function(e,n){return t.props.onDirectoryClick(n.id)}})))}))):null}},{key:"renderContent",value:function(){return this.state.uploads.length||this.props.directories.length||this.state.files.length?a.a.createElement("div",{className:"file-browser__content"},this.renderUploads(),this.renderDirectories(),this.renderFiles()):a.a.createElement("div",{className:"file-browser__content"},a.a.createElement("div",{className:"file-browser__placeholder"},a.a.createElement(ui,null,st.get("snippets.directory_is_empty"))))}},{key:"render",value:function(){return a.a.createElement("div",{className:"file-browser"},this.renderContent(),this.renderMoveWidget())}}])&&ul(e.prototype,n),r&&ul(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(dl,"defaultProps",{files:[],directories:[],currentDirectory:null,fileLabels:{},selectionMode:!1,selectedFileIds:[],selectedFiles:[],viewMode:"list",onDirectoryClick:function(t){},onFileClick:function(t){},onDirectoryDelete:function(t){},onDirectoryRename:function(t,e){},onDirectoryMove:function(t,e){},onFileDelete:function(t){},onFileRename:function(t){},onFileMove:function(t,e){},onFileOpen:function(t){},onSelectionChange:function(t,e){},onSelectionDelete:function(t,e){},onSelectionMove:function(t,e){}});var hl=dl;function ml(t){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bl(t,e){return(bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_l(t);if(e){var o=_l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wl(this,n)}}function wl(t,e){if(e&&("object"===ml(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _l(t){return(_l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var El=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bl(t,e)}(i,t);var e,n,r,o=gl(i);function i(){return yl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"breadcrumbs"},a.a.createElement("ul",{className:"breadcrumbs__list"},a.a.createElement("li",{onClick:function(e){return t.onClick(null)}},a.a.createElement("span",null,this.props.rootText)),this.props.items.map((function(e,n){return a.a.createElement("li",{key:n},a.a.createElement("span",{onClick:function(n){return t.onClick(e)}},e.name))}))))}}])&&vl(e.prototype,n),r&&vl(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(El,"defaultProps",{rootText:st.get("snippets.files_root"),items:[],onClick:function(t){}});var kl=!1,xl=[],Ol=0,Sl={queueMultiple:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=[],o=0;o<t.length;o++){var i=t[o];Ol++,xl.push([Ol,i,e,n]),r.push({id:Ol,size:i.size,filename:i.name})}us.trigger("media.upload.queuedMultiple",{files:r}),kl||this.process()},queue:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Ol++,xl.push([Ol,t,e,n]),us.trigger("media.upload.queued",{id:Ol,size:t.size,filename:t.name}),kl||this.process()},process:function(){var t=this;if(xl.length){kl=!0;var e=xl[0];this.processChunkUpload(e[1],e[2],(function(t){us.trigger("media.upload.start",{id:e[0],size:e[1].size,filename:t})}),(function(t){us.trigger("media.upload.progress",{id:e[0],progress:t})}),(function(n){kl=!1,xl.shift(),t.process(),us.trigger("media.upload.success",{id:e[0],file:n}),e[3](n)}),(function(){us.trigger("media.upload.fail",{id:e[0]}),kl=!1,xl.shift(),t.process()}))}},isDone:function(){return 0===xl.length},processChunkUpload:function(t,e,n,r,o,i){var a,u,s,l=Math.ceil(t.size/524288),c=0,f=t.name;!function p(){(u=524288*c)>t.size&&(u=s+1),s=u+524288>=t.size?t.size:u+524288;var d=0===c?"start":c===l?"end":"progress";"start"===d&&n(f),wo.media.uploadChunk(d,f,a||null,t.slice(u,s),e).then((function(t){var e=t.data;("created"===e.status&&(a=e.path),++c<=l)?(r(c/l*100),p()):o(e.data)}),(function(t){i()}))}()}};function Cl(t){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tl(t,e){return(Tl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dl(t);if(e){var o=Dl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Al(this,n)}}function Al(t,e){if(e&&("object"===Cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dl(t){return(Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tl(t,e)}(i,t);var e,n,r,o=jl(i);function i(){return Pl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"handleChange",value:function(t){this.upload(t.target.files)}},{key:"upload",value:function(t){var e=this;Sl.queueMultiple(t,this.props.directory,(function(t){e.props.onFileUploaded(t),Sl.isDone()&&e.props.onUploadDone()}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"file-uploader"},a.a.createElement("div",{className:"file-uploader__input"},a.a.createElement("input",{type:"file",name:"file-uploader",multiple:!0,onChange:this.handleChange.bind(this)})),a.a.createElement("div",{className:"file-uploader__placeholder"},a.a.createElement(ui,null,st.get("snippets.select_files_from_computer"))))}}])&&Rl(e.prototype,n),r&&Rl(e,r),i}(a.a.Component);function Ll(t){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Il(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bl(t,e){return(Bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ml(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ul(t);if(e){var o=Ul(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zl(this,n)}}function zl(t,e){if(e&&("object"===Ll(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ul(t){return(Ul=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Nl,"defaultProps",{directory:null,onUploadDone:function(){},onFileUploaded:function(t){}});var Vl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bl(t,e)}(i,t);var e,n,r,o=Ml(i);function i(){return Fl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"sticky-sidebar"},a.a.createElement("div",{className:"sticky-sidebar__content"},this.props.children),a.a.createElement("div",{className:"sticky-sidebar__side"},this.props.sidebar))}}])&&Il(e.prototype,n),r&&Il(e,r),i}(a.a.Component);function Wl(t){return(Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ql(t){return function(t){if(Array.isArray(t))return Hl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Hl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kl(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Jl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $l(t,e){return($l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ql(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xl(t);if(e){var o=Xl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gl(this,n)}}function Gl(t,e){if(e&&("object"===Wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xl(t){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$l(t,e)}(s,t);var e,n,r,o,i,u=Ql(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=u.call(this,t)).state={isLoading:!0,directories:[],files:[],directoryPath:[],currentDirectory:null,selectedFileIds:e.props.defaultSelectedFileIds||[],selectedFiles:e.props.defaultSelectedFiles||[],fileBrowserViewMode:"list"},e}return e=s,(n=[{key:"componentDidMount",value:function(){this.props.defaultDirectoryId?this.load(this.props.defaultDirectoryId):this.load()}},{key:"load",value:(o=ju.a.mark((function t(){var e,n=this,r=arguments;return ju.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,t.next=3,lo.a.all([wo.media.path(e),wo.media.loadDirectories(e),wo.media.loadFiles(e)]).then(lo.a.spread((function(t,e,r){var o=t.data.data,i=e.data.data,a=r.data.data;n.setState({isLoading:!1,directoryPath:o,currentDirectory:o[o.length-1],directories:i,files:a})})));case 3:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Kl(i,n,r,a,u,"next",t)}function u(t){Kl(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onSelectionChange",value:function(t,e){this.setState({selectedFileIds:t,selectedFiles:e}),this.props.onSelectionChange(t,e)}},{key:"onSelectionConfirm",value:function(){this.props.onSelectionConfirm(this.state.selectedFileIds,this.state.selectedFiles)}},{key:"deselect",value:function(t){var e=this,n=this.state.selectedFileIds.filter((function(e){return e!==t})),r=this.state.selectedFiles.filter((function(e){return e.id!==t}));this.setState({selectedFileIds:n,selectedFiles:r},(function(){e.props.onSelectionChange(e.state.selectedFileIds,e.state.selectedFiles)}))}},{key:"select",value:function(t){var e=this;this.setState({selectedFileIds:[].concat(ql(this.state.selectedFileIds),[t.id]),selectedFiles:[].concat(ql(this.state.selectedFiles),[t])},(function(){e.props.onSelectionChange(e.state.selectedFileIds,e.state.selectedFiles)}))}},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"openDirectory",value:function(t){this.load(t)}},{key:"handleUploadDone",value:function(){Zt.i18nNotify("snippets.files_uploaded"),this.load(this.state.currentDirectory?this.state.currentDirectory.id:null)}},{key:"handleFileUploaded",value:function(t){this.select(t)}},{key:"handleRenameFile",value:function(t,e){var n=this;t&&wo.media.renameFile(t,e).then((function(t){Zt.i18nNotify("snippets.file_renamed"),n.load(n.state.currentDirectory?n.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.changes_unsuccessful")}))}},{key:"handleRenameDirectory",value:function(t,e){var n=this;t&&wo.media.renameDirectory(t,e).then((function(t){Zt.i18nNotify("snippets.directory_renamed"),n.load(n.state.currentDirectory?n.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.changes_unsuccessful")}))}},{key:"handleMoveSelection",value:function(t,e){var n=this;wo.media.moveFiles(t,e).then((function(t){Zt.i18nNotify("snippets.files_moved"),n.load(n.state.currentDirectory?n.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.file_not_moved")}))}},{key:"handleMoveFile",value:function(t,e){var n=this;wo.media.moveFile(t,e).then((function(t){Zt.i18nNotify("snippets.file_moved"),n.load(n.state.currentDirectory?n.state.currentDirectory.id:null)}),(function(t){Zt.i18nNotify("snippets.file_not_moved")}))}},{key:"promptCreateDirectory",value:function(){var t=this;Zt.prompt({title:st.get("snippets.new_directory"),confirmButtonText:st.get("snippets.confirm"),cancelButtonText:st.get("snippets.cancel"),confirm:function(e){wo.media.createDirectory(e,t.state.currentDirectory?t.state.currentDirectory.id:null).then((function(){Zt.i18nNotify("snippets.directory_created"),t.load(t.state.currentDirectory?t.state.currentDirectory.id:null)}))}})}},{key:"onSelectedFileContextClick",value:function(t,e){"jump_to"===t?this.load(e.directory?e.directory.id:null):"deselect"===t&&this.deselect(e.id)}},{key:"changeFileBrowserViewMode",value:function(t){this.setState({fileBrowserViewMode:t})}},{key:"renderSidebar",value:function(){var t=this,e=[[st.get("snippets.deselect"),"deselect"],[st.get("snippets.jump_to_folder"),"jump_to"]];return this.state.selectedFiles.length?a.a.createElement("div",{className:"file-picker-widget__selection"},a.a.createElement("div",{className:"file-picker-widget__selection-header"},st.get("snippets.your_selection")," (",this.state.selectedFiles.length,")"),this.state.selectedFiles.map((function(n,r){return a.a.createElement("div",{className:"file-picker-widget__file",key:r},a.a.createElement(N,{links:e,onClick:function(e){return t.onSelectedFileContextClick(e,n)}},a.a.createElement(is,{file:n,viewMode:"minimal",actions:[a.a.createElement(bn,{key:"delete",name:"delete",style:"transparent",onClick:function(e){return t.deselect(n.id)}})]})))}))):a.a.createElement("div",{className:"file-picker-widget__selection"},a.a.createElement(ui,{icon:"checklist"},st.get("snippets.your_selection_is_empty")))}},{key:"renderContent",value:function(){var t=this;return this.state.isLoading?null:a.a.createElement(Vl,{sidebar:this.renderSidebar()},a.a.createElement(hl,{viewMode:this.state.fileBrowserViewMode,fileLabels:this.props.fileLabels,currentDirectory:this.state.currentDirectory,selectionMode:this.props.selectionMode,selectedFiles:this.state.selectedFiles,selectedFileIds:this.state.selectedFileIds,directories:this.state.directories,files:this.state.files,onDirectoryRename:this.handleRenameDirectory.bind(this),onFileRename:this.handleRenameFile.bind(this),onFileMove:this.handleMoveFile.bind(this),onDirectoryClick:function(e){return t.openDirectory(e)},onSelectionChange:this.onSelectionChange.bind(this),onSelectionMove:this.handleMoveSelection.bind(this)}))}},{key:"render",value:function(){var t=this;return a.a.createElement(Ki,{style:["modal","wide"],closeable:!0,onClose:this.onCancel.bind(this),title:[a.a.createElement(wu,{key:"path",style:["primary","small"],openIcon:"folder",closeIcon:"folder"},a.a.createElement(zs,{selectedDirectory:this.state.currentDirectory?this.state.currentDirectory.id:null,onDirectoryClick:function(e){return t.openDirectory(e)}})),a.a.createElement(El,{key:"breadcrumbs",items:this.state.directoryPath,onClick:function(e){e?t.openDirectory(e.id):t.openDirectory()}})],actions:[a.a.createElement(bn,{key:"view-list",name:"view_list",onClick:function(e){return t.changeFileBrowserViewMode("list")}}),a.a.createElement(bn,{key:"view-grid",name:"grid_view",onClick:function(e){return t.changeFileBrowserViewMode("grid")}}),a.a.createElement(ve,{key:"new-dir",text:st.get("snippets.new_directory"),style:["secondary","small"],onClick:this.promptCreateDirectory.bind(this)}),a.a.createElement(wu,{key:"upload",text:st.get("snippets.upload"),style:["primary","small"]},a.a.createElement(Nl,{directory:this.state.currentDirectory?this.state.currentDirectory.id:null,onFileUploaded:this.handleFileUploaded.bind(this),onUploadDone:this.handleUploadDone.bind(this)}))],footer:[a.a.createElement(ve,{key:"cancel",text:st.get("snippets.cancel"),style:["secondary"],onClick:this.onCancel.bind(this)}),a.a.createElement(ve,{key:"confirm",text:this.props.selectionMode?st.get("snippets.confirm_selection"):st.get("snippets.select_file"),style:this.state.selectedFileIds.length?[]:["disabled"],onClick:this.state.selectedFileIds.length?this.onSelectionConfirm.bind(this):null})]},this.renderContent())}}])&&Jl(e.prototype,n),r&&Jl(e,r),s}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Yl,"defaultProps",{multiple:!1,onSelectionChange:function(t,e){},onSelectionConfirm:function(t,e){},onCancel:function(){},defaultDirectoryId:null,defaultSelectedFileIds:[],defaultSelectedFiles:[],selectionMode:!1,fileLabels:{}});var Zl=Yl;function tc(t){return(tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ec(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rc(t,e){return(rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ac(t);if(e){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ic(this,n)}}function ic(t,e){if(e&&("object"===tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ac(t){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rc(t,e)}(i,t);var e,n,r,o=oc(i);function i(){return ec(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"renderLabel",value:function(){if(Object.keys(this.props.fileLabels).length){var t=this.props.fileLabels[this.props.file.label]||null;if(t)return a.a.createElement("div",{className:"file-thumb__label"},a.a.createElement(Xu,{text:t.name,color:t.color,style:"small"}))}return null}},{key:"render",value:function(){return a.a.createElement("div",{className:"file-thumb"},a.a.createElement("div",{className:"file-thumb__preview"},a.a.createElement(zu,{file:this.props.file,style:["full"],mediaConversion:this.props.mediaConversion})),a.a.createElement("div",{className:"file-thumb__name"},this.props.file.name),this.renderLabel())}}])&&nc(e.prototype,n),r&&nc(e,r),i}(a.a.Component);function sc(t){return(sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cc(t,e){return(cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dc(t);if(e){var o=dc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pc(this,n)}}function pc(t,e){if(e&&("object"===sc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dc(t){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(uc,"defaultProps",{mediaConversion:"thumb",fileLabels:{}});var hc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cc(t,e)}(i,t);var e,n,r,o=fc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,selectedFile:e.props.data[e.props.name]||null,selectedFileId:e.props.data[e.props.name]?e.props.data[e.props.name].id:null},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedFile:this.props.data[this.props.name],selectedFileId:this.props.data[this.props.name]?this.props.data[this.props.name].id:null})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedFile||null,t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.selectedFileId||null}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"onSelectionConfirm",value:function(t,e){this.setState({isOpen:!1,selectedFile:e[0],selectedFileId:t[0]})}},{key:"renderFilePreview",value:function(){return this.state.selectedFile?a.a.createElement("div",{className:"file-select-field__selected-file"},a.a.createElement(uc,{mediaConversion:"contain",file:this.state.selectedFile,fileLabels:this.props.fileLabels})):a.a.createElement(ui,{icon:"library_add"},st.get("snippets.select_singular",{singular:this.props.label}))}},{key:"render",value:function(){var t;return this.state.isOpen&&(t=a.a.createElement(Ii,null,a.a.createElement(Zl,{fileLabels:this.props.fileLabels,defaultSelectedFiles:this.state.selectedFile?[this.state.selectedFile]:null,defaultSelectedFileIds:this.state.selectedFile?[this.state.selectedFile.id]:null,defaultDirectoryId:this.state.selectedFile&&this.state.selectedFile.directory?this.state.selectedFile.directory.id:null,onCancel:this.close.bind(this),onSelectionConfirm:this.onSelectionConfirm.bind(this)}))),a.a.createElement(a.a.Fragment,null,a.a.createElement(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors},a.a.createElement("div",{className:p("file-select-field",this.props.style),onClick:this.open.bind(this)},this.renderFilePreview())),t)}}])&&lc(e.prototype,n),r&&lc(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(hc,"defaultProps",{path:{},data:{},label:"",name:"",style:"",fileLabels:{}});var mc=hc;function yc(t){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bc(t,e){return(bc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_c(t);if(e){var o=_c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wc(this,n)}}function wc(t,e){if(e&&("object"===yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _c(t){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ec=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bc(t,e)}(i,t);var e,n,r,o=gc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!0},e}return e=i,(n=[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"renderCollapseButton",value:function(){if(this.props.children.length)return a.a.createElement(bn,{name:this.state.isOpen?"remove":"add",iconStyle:"mini",onClick:this.toggle.bind(this)})}},{key:"renderContent",value:function(){if(this.props.children.length)return a.a.createElement("div",{className:"collapsible__content"},this.props.children)}},{key:"render",value:function(){return a.a.createElement("div",{className:"collapsible"+(this.state.isOpen?" collapsible--open":" collapsible--closed")},a.a.createElement("div",{className:"collapsible__header"},this.renderCollapseButton(),a.a.createElement("div",{className:"collapsible__title"},this.props.title),a.a.createElement("div",{className:"collapsible__actions"},this.props.actions)),this.renderContent())}}])&&vc(e.prototype,n),r&&vc(e,r),i}(a.a.Component);function kc(t){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sc(t,e){return(Sc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rc(t);if(e){var o=Rc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pc(this,n)}}function Pc(t,e){if(e&&("object"===kc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rc(t){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ec,"defaultProps",{title:"",actions:[]});var Tc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sc(t,e)}(i,t);var e,n,r,o=Cc(i);function i(){return xc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("hr",{className:"divider"})}}])&&Oc(e.prototype,n),r&&Oc(e,r),i}(a.a.Component);function jc(t){return(jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ac(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Dc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lc(t,e){return(Lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bc(t);if(e){var o=Bc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ic(this,n)}}function Ic(t,e){if(e&&("object"===jc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bc(t){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lc(t,e)}(i,t);var e,n,r,o=Fc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={addedBlocks:e.getAddedBlocks(),blocksToRemoveById:[],blocksToRemoveByOrder:[]},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t,e){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({addedBlocks:this.getAddedBlocks()})}},{key:"getData",value:function(t){return t}},{key:"handleSubmit",value:function(t){var e=this,n={update:[],removeById:this.state.blocksToRemoveById,removeByOrder:this.state.blocksToRemoveByOrder};this.componentLists.forEach((function(t,r){var o=Ac(t,3),i=o[0],a=o[1],u=o[2],s={id:a};s[e.props.typeColumn]=u,s[e.props.orderColumn]=r,i.forEach((function(t){return t.ref.current.handleSubmit(s)})),n.update.push(s)})),t[this.props.name]=JSON.stringify(n),this.setState({blocksToRemoveById:[],blocksToRemoveByOrder:[]})}},{key:"getBlockDefinition",value:function(t){return this.props.blocks[t]}},{key:"getAddedBlocks",value:function(){var t=this;return(this.props.data[this.props.name]||[]).map((function(e,n){var r=e[t.props.typeColumn],o=t.getBlockDefinition(r);return o?{id:e.id,data:e,name:o.name,type:o.type,components:o.components}:null}))}},{key:"syncBlocksData",value:function(){var t=this.state.addedBlocks;return this.componentLists.forEach((function(e,n){var r=Ac(e,3),o=r[0],i=(r[1],r[2],t[n].data);o.forEach((function(e){e.ref.current.getData&&(t.data=e.ref.current.getData(i))}))})),t}},{key:"sortUp",value:function(t){if(!(t<=0)){var e=this.syncBlocksData(),n=t-1,r=[e[n],e[t]];e[t]=r[0],e[n]=r[1],this.setState({addedBlocks:e}),Zt.notify(st.get("snippets.order_changed"))}}},{key:"sortDown",value:function(t){if(!(t>=this.state.addedBlocks.length-1)){var e=this.syncBlocksData(),n=t+1,r=[e[n],e[t]];e[t]=r[0],e[n]=r[1],this.setState({addedBlocks:e}),Zt.notify(st.get("snippets.order_changed"))}}},{key:"removeBlock",value:function(t,e){var n=this;Zt.confirm({title:st.get("snippets.delete_singular_title",{singular:this.props.singular}),text:st.get("snippets.delete_singular_text",{singular:this.props.singular}),confirm:function(){var r=n.state.blocksToRemoveById,o=n.state.blocksToRemoveByOrder,i=n.syncBlocksData();i.splice(t,1),e?r.push(e):o.push(t),n.setState({addedBlocks:i,blocksToRemoveById:r,blocksToRemoveByOrder:o}),Zt.notify(st.get("snippets.singular_deleted",{singular:n.props.singular}))}})}},{key:"addBlock",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getBlockDefinition(t),r=this.state.addedBlocks,o={id:null,name:n.name,type:n.type,components:n.components,data:{}};null!==e?(r.splice(e,0,o),Zt.notify(st.get("snippets.singular_inserted",{singular:this.props.singular}))):(r.push(o),Zt.notify(st.get("snippets.singular_added",{singular:this.props.singular}))),this.setState({addedBlocks:r})}},{key:"renderAddBlockDropdown",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object.getOwnPropertyNames(this.props.blocks);return r.length?1===r.length?t?a.a.createElement(ve,{onClick:function(t){return e.addBlock(r[0],n)},icon:"add",style:["small","secondary"],text:t}):a.a.createElement(bn,{name:"post_add",iconStyle:"small",onClick:function(t){return e.addBlock(r[0],n)}}):a.a.createElement(wu,{autoClose:!0,text:t,openIcon:"post_add",closeIcon:"post_add",key:n},a.a.createElement(O,{links:this.getTypeLinks(),onClick:function(t){return e.addBlock(t,n)}})):null}},{key:"optionDropdownClick",value:function(t,e,n){"delete"===t&&this.removeBlock(e,n)}},{key:"getTypeLinks",value:function(){var t=this;return Object.getOwnPropertyNames(this.props.blocks).map((function(e){return[t.props.blocks[e].name,e]}))}},{key:"getTypeLinksInsertBelow",value:function(){var t=this;return Object.getOwnPropertyNames(this.props.blocks).map((function(e){return[st.get("snippets.insert_singular_below",{singular:t.props.blocks[e].name}),e]}))}},{key:"renderContentBlocks",value:function(){var t=this;return this.componentLists=[],this.state.addedBlocks.length?this.state.addedBlocks.map((function(e,n){if(!e)return null;var r=Bd.renderComponentsWith(e.components,e.data,t.props.path,(function(t,e){return a.a.createElement("div",{className:"content-blocks__component",key:e},t)}),!0);return t.componentLists.push([r,e.id,e.type]),a.a.createElement("div",{className:"content-blocks__item",key:n},a.a.createElement(Ec,{title:e.name,actions:[a.a.createElement(bn,{key:0,style:["transparent",n>0?"enabled":"disabled"],iconStyle:"mini",name:"arrow_upward",onClick:function(e){return t.sortUp(n)}}),a.a.createElement(bn,{key:1,style:["transparent",n<t.state.addedBlocks.length-1?"enabled":"disabled"],iconStyle:"mini",name:"arrow_downward",onClick:function(e){return t.sortDown(n)}}),a.a.createElement(wu,{key:3,autoClose:!0,openIcon:"more_horiz",closeIcon:"more_horiz"},a.a.createElement(O,{links:t.getTypeLinksInsertBelow(),onClick:function(e){return t.addBlock(e,n+1)}}),a.a.createElement(Tc,null),a.a.createElement(O,{style:"warning",links:[[Gt(st.get("snippets.delete_singular",{singular:t.props.singular})),"delete"]],onClick:function(r){return t.optionDropdownClick(r,n,e.id)}}))]},r.map((function(t){return t.component}))))})):a.a.createElement(ui,{icon:"post_add"},st.get("snippets.no_plural_added",{plural:this.props.plural}))}},{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip},a.a.createElement("div",{className:"content-blocks"},a.a.createElement("div",{className:"content-blocks__content"},this.renderContentBlocks()),a.a.createElement("div",{className:"content-blocks__footer"},this.renderAddBlockDropdown(Gt(st.get("snippets.add_singular",{singular:this.props.singular}))))))}}])&&Nc(e.prototype,n),r&&Nc(e,r),i}(a.a.Component);function zc(t){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wc(t,e){return(Wc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kc(t);if(e){var o=Kc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hc(this,n)}}function Hc(t,e){if(e&&("object"===zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Kc(t){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Mc,"defaultProps",{data:{},label:"",name:"",singular:"",plural:"",tooltip:"",blocks:{},typeColumn:"",orderColumn:""});var Jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wc(t,e)}(i,t);var e,n,r,o=qc(i);function i(){return Uc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"tags"},this.props.tags.map((function(e,n){return a.a.createElement("div",{className:"tags__tag"+(t.props.onClick?" tags__tag--clickable":""),key:n,onClick:t.props.onClick?function(n){return t.props.onClick(e)}:null},e)})))}}])&&Vc(e.prototype,n),r&&Vc(e,r),i}(a.a.Component);function $c(t){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qc(t){return function(t){if(Array.isArray(t))return Gc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Gc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xc(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zc(t,e){return(Zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nf(t);if(e){var o=nf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ef(this,n)}}function ef(t,e){if(e&&("object"===$c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nf(t){return(nf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Jc,"defaultProps",{tags:[],onClick:null});var rf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zc(t,e)}(s,t);var e,n,r,o,i,u=tf(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=u.call(this,t)).state={isLoading:!0,selectedTags:e.props.selectedTags,tags:[]},e}return e=s,(n=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:(o=ju.a.mark((function t(){var e=this;return ju.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:wo.execute.get(this.props.path,this.props.id,"load",{}).then((function(t){var n=t.data;n.sort((function(t,e){return t>e?1:e>t?-1:0})),e.setState({tags:n,isLoading:!1})}));case 1:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Xc(i,n,r,a,u,"next",t)}function u(t){Xc(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"onConfirm",value:function(){this.props.onConfirm(this.state.selectedTags)}},{key:"onTagClick",value:function(t){this.setState({selectedTags:[].concat(Qc(this.state.selectedTags),[t])})}},{key:"onSelectedTagClick",value:function(t){var e=this.state.selectedTags.filter((function(e){return e!==t}));this.setState({selectedTags:e})}},{key:"renderContent",value:function(){return this.state.isLoading?null:this.state.tags.length?(this.state.selectedTags.length&&(t=a.a.createElement("div",{className:"tags-browser__selected"},a.a.createElement("div",{className:"tags-browser__title"},st.get("snippets.selected_tags")),a.a.createElement(Jc,{tags:this.state.selectedTags,onClick:this.onSelectedTagClick.bind(this)}))),this.state.tags.length&&(e=a.a.createElement("div",{className:"tags-browser__available"},a.a.createElement("div",{className:"tags-browser__title"},st.get("snippets.available_tags")),a.a.createElement(Jc,{tags:this.state.tags,onClick:this.onTagClick.bind(this)}))),a.a.createElement("div",{className:"tags-browser__tags"},t,e)):a.a.createElement(ui,null,st.get("snippets.no_tags_available"));var t,e}},{key:"render",value:function(){return a.a.createElement(Ki,{style:"modal",title:st.get("snippets.tags"),closeable:!0,onClose:this.onCancel.bind(this),footer:[a.a.createElement(ve,{key:0,text:st.get("snippets.cancel"),style:["secondary"],onClick:this.onCancel.bind(this)}),a.a.createElement(ve,{key:1,text:st.get("snippets.confirm"),onClick:this.onConfirm.bind(this)})]},a.a.createElement("div",{className:"tags-browser"},a.a.createElement("div",{className:"tags-browser__content"},this.renderContent())))}}])&&Yc(e.prototype,n),r&&Yc(e,r),s}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(rf,"defaultProps",{id:0,path:{},selectedTags:[],onCancel:function(){},onConfirm:function(t){}});var of=rf;function af(t){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uf(t){return function(t){if(Array.isArray(t))return sf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return sf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cf(t,e){return(cf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=df(t);if(e){var o=df(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pf(this,n)}}function pf(t,e){if(e&&("object"===af(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function df(t){return(df=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cf(t,e)}(i,t);var e,n,r,o=ff(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).inputRef=a.a.createRef(),e.autosuggestTimeout=null,e.state={browserIsOpen:!1,autosuggestIsOpen:!1,autosuggest:[],tags:e.props.data[e.props.id+"_tags"]||[]},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.id+"_tags"]!==t.data[this.props.id+"_tags"]&&this.setState({tags:this.props.data[this.props.id+"_tags"]})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.searchTimeout)}},{key:"getData",value:function(t){return t[this.props.id+"_tags"]=this.state.tags||[],t}},{key:"handleSubmit",value:function(t){t[this.props.id+"_tags"]=JSON.stringify(this.state.tags)}},{key:"handleChange",value:function(t){var e=this;clearTimeout(this.searchTimeout);var n=t.target.value;n?this.searchTimeout=setTimeout((function(){return e.autosuggest(n)}),200):this.setState({autosuggestIsOpen:!1})}},{key:"handleKeyDown",value:function(t){if("Backspace"===t.key&&""===t.target.value&&this.removeLastTag(),"Tab"===t.key&&(t.preventDefault(),""!==t.target.value))if(this.state.autosuggestIsOpen&&this.state.autosuggest.length)t.target.value="",this.addTag(this.state.autosuggest[0]);else{var e=t.target.value.replace(",","");t.target.value="",this.addTag(e)}if("Enter"===t.key){t.preventDefault();var n=t.target.value.replace(",","");t.target.value="",this.addTag(n)}}},{key:"handleKeyUp",value:function(t){if(","===t.key){var e=t.target.value.replace(",","");t.target.value="",this.addTag(e)}}},{key:"handleBlur",value:function(t){var e=this;clearTimeout(this.searchTimeout);var n=t.target,r=n.value;this.searchTimeout=setTimeout((function(){n.value="",e.setState({tags:r?[].concat(uf(e.state.tags),[r]):e.state.tags,autosuggestIsOpen:!1})}),1e3)}},{key:"handleSuggestionClick",value:function(t){var e=this;clearTimeout(this.searchTimeout),this.inputRef.current.value="",this.inputRef.current.focus(),t&&this.addTag(t,(function(){e.setState({autosuggestIsOpen:!1})}))}},{key:"addTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};clearTimeout(this.searchTimeout),t&&this.setState({autosuggestIsOpen:!1,tags:[].concat(uf(this.state.tags),[t])},e)}},{key:"removeLastTag",value:function(){this.setState({tags:this.state.tags.slice(0,-1)})}},{key:"autosuggest",value:function(t){var e=this;t.length>1&&wo.execute.get(this.props.path,this.props.id,"autosuggest",{search:t}).then((function(t){e.setState({autosuggestIsOpen:!0,autosuggest:t.data})}))}},{key:"openBrowser",value:function(){this.setState({browserIsOpen:!0})}},{key:"closeBrowser",value:function(){this.setState({browserIsOpen:!1})}},{key:"confirmBrowser",value:function(t){this.setState({tags:t,browserIsOpen:!1})}},{key:"render",value:function(){var t,e,n=this;return this.state.autosuggestIsOpen&&this.state.autosuggest.length&&(e=a.a.createElement("div",{className:"tags-field__autosuggest"},this.state.autosuggest.map((function(t,e){return a.a.createElement("div",{className:"tags-field__autosuggestion",key:e,onClick:function(e){return n.handleSuggestionClick(t)}},t)})))),this.state.browserIsOpen&&(t=a.a.createElement(Ii,null,a.a.createElement(of,{id:this.props.id,path:this.props.path,selectedTags:this.state.tags,onCancel:this.closeBrowser.bind(this),onConfirm:function(t){return n.confirmBrowser(t)}}))),a.a.createElement(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},a.a.createElement("div",{className:"tags-field"},a.a.createElement("div",{className:"tags-field__wrap"},a.a.createElement("div",{className:"tags-field__browse"},a.a.createElement(bn,{style:"transparent",name:"fact_check",onClick:this.openBrowser.bind(this)})),a.a.createElement("div",{className:"tags-field__tags"},a.a.createElement(Jc,{tags:this.state.tags})),a.a.createElement("div",{className:"tags-field__input"},a.a.createElement("input",{className:"tags-field__input-field",ref:this.inputRef,onChange:this.handleChange.bind(this),onKeyUp:this.handleKeyUp.bind(this),onKeyDown:this.handleKeyDown.bind(this),onBlur:this.handleBlur.bind(this)})),e,t)))}}])&&lf(e.prototype,n),r&&lf(e,r),i}(a.a.Component);function mf(t){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bf(t,e){return(bf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_f(t);if(e){var o=_f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wf(this,n)}}function wf(t,e){if(e&&("object"===mf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _f(t){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(hf,"defaultProps",{id:0,data:{},label:"",disabled:!1,showRequiredIndicator:!1,errors:{},style:"",tooltip:""});var Ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bf(t,e)}(i,t);var e,n,r,o=gf(i);function i(){return yf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return this.props.data&&void 0!==this.props.data[this.props.id+"_tags"]?a.a.createElement("div",{className:"tags-view"},a.a.createElement(Jc,{tags:this.props.data[this.props.id+"_tags"]})):null}}])&&vf(e.prototype,n),r&&vf(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ef,"defaultProps",{id:0,data:{}});var kf=function(t,e,n){return t.splice(n,0,t.splice(e,1)[0]),t};function xf(t){return(xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sf(t,e){return(Sf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rf(t);if(e){var o=Rf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pf(this,n)}}function Pf(t,e){if(e&&("object"===xf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rf(t){return(Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sf(t,e)}(i,t);var e,n,r,o=Cf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,selectedFiles:e.props.data[e.props.name]||[],selectedFilesIds:e.props.data[e.props.name]?e.props.data[e.props.name].map((function(t){return t.id})):[]},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedFiles:this.props.data[this.props.name]||[],selectedFilesIds:this.props.data[this.props.name]?this.props.data[this.props.name].map((function(t){return t.id})):[]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedFiles||[],t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.selectedFilesIds||[]}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"onSelectionConfirm",value:function(t,e){this.setState({isOpen:!1,selectedFiles:e,selectedFilesIds:t})}},{key:"remove",value:function(t){this.state.selectedFiles.splice(t,1),this.state.selectedFilesIds.splice(t,1),this.setState({selectedFiles:this.state.selectedFiles,selectedFilesIds:this.state.selectedFilesIds})}},{key:"sortForward",value:function(t){t!==this.state.selectedFiles.length-1&&this.setState({selectedFiles:kf(this.state.selectedFiles,t,t+1),selectedFilesIds:kf(this.state.selectedFilesIds,t,t+1)})}},{key:"sortBackward",value:function(t){0!==t&&this.setState({selectedFiles:kf(this.state.selectedFiles,t,t-1),selectedFilesIds:kf(this.state.selectedFilesIds,t,t-1)})}},{key:"renderItemOverlay",value:function(t){var e,n,r,o=this;return this.props.orderColumn&&(0!==t&&(n=a.a.createElement(bn,{name:"arrow_back",onClick:function(e){return o.sortBackward(t)}})),t!==this.state.selectedFiles.length-1&&(r=a.a.createElement(bn,{name:"arrow_forward",onClick:function(e){return o.sortForward(t)}})),e=a.a.createElement("div",{className:"gallery-field__item-order"},n,r)),a.a.createElement("div",{className:"gallery-field__item-overlay"},a.a.createElement("div",{className:"gallery-field__item-delete"},a.a.createElement(bn,{name:"delete",onClick:function(e){return o.remove(t)}})),e)}},{key:"renderContent",value:function(){var t=this;return this.state.selectedFiles.length?a.a.createElement("div",{className:"gallery-field__grid"},this.state.selectedFiles.map((function(e,n){return a.a.createElement("div",{className:"gallery-field__item",key:n},a.a.createElement(uc,{file:e,fileLabels:t.props.fileLabels,mediaConversion:"contain"}),t.renderItemOverlay(n))})),a.a.createElement(ui,{icon:"image_search",onClick:this.open.bind(this)},st.get("snippets.add_plural",{plural:this.props.plural}))):a.a.createElement(ui,{icon:"image_search",onClick:this.open.bind(this)},st.get("snippets.select_plural",{plural:this.props.plural}))}},{key:"render",value:function(){var t;return this.state.isOpen&&(t=a.a.createElement(Ii,null,a.a.createElement(Zl,{fileLabels:this.props.fileLabels,selectionMode:!0,defaultSelectedFiles:this.state.selectedFiles,defaultSelectedFileIds:this.state.selectedFilesIds,onCancel:this.close.bind(this),onSelectionConfirm:this.onSelectionConfirm.bind(this)}))),a.a.createElement(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},a.a.createElement("div",{className:"gallery-field"},a.a.createElement("div",{className:"gallery-field__btn"},a.a.createElement(ve,{style:["small","secondary"],icon:"add",text:st.get("snippets.select_plural",{plural:this.props.plural}),onClick:this.open.bind(this)})),a.a.createElement("div",{className:"gallery-field__content"},this.renderContent())),t)}}])&&Of(e.prototype,n),r&&Of(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Tf,"defaultProps",{path:{},data:{},label:"",name:"",style:"",singular:"",plural:"",tooltip:"",orderColumn:"",fileLabels:{}});var jf=Tf;function Af(t){return(Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lf(t,e){return(Lf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bf(t);if(e){var o=Bf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return If(this,n)}}function If(t,e){if(e&&("object"===Af(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bf(t){return(Bf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lf(t,e)}(i,t);var e,n,r,o=Ff(i);function i(){return Df(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"renderActions",value:function(){return this.props.actions.length?a.a.createElement("div",{className:"item__actions"},this.props.actions):null}},{key:"renderSelectionMode",value:function(){return this.props.selectionMode?a.a.createElement("div",{className:"item__checkbox"},a.a.createElement(bn,{name:this.props.isSelected?"check_box":"check_box_outline_blank",style:"transparent"})):null}},{key:"getRowStyle",value:function(){var t={gridTemplateColumns:"repeat("+this.props.components.length+", 1fr)"};return this.props.grid.length&&(t.gridTemplateColumns=this.props.grid.join("fr ")+"fr"),t}},{key:"renderItemContent",value:function(){var t=this;return this.props.components.length?a.a.createElement("div",{className:"item__row",style:this.getRowStyle()},this.props.components.map((function(e,n){return a.a.createElement("div",{className:"item__component",key:n},Bd.renderComponent(e,t.props.item,t.props.path))}))):a.a.createElement("div",{className:"item__name"},this.props.item[this.props.titleColumn])}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"item"+(this.props.isSelected?" item--selected":""),onClick:function(e){return t.props.onClick(e,t.props.item)}},this.renderSelectionMode(),a.a.createElement("div",{className:"item__content"},this.renderItemContent()),this.renderActions())}}])&&Nf(e.prototype,n),r&&Nf(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Mf,"defaultProps",{path:{},item:{},titleColumn:"",isSelected:!1,selectionMode:!1,components:[],actions:[],grid:[],onClick:function(t,e){}});var zf=Mf;function Uf(t){return(Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qf(t,e){return(qf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jf(t);if(e){var o=Jf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kf(this,n)}}function Kf(t,e){if(e&&("object"===Uf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Jf(t){return(Jf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qf(t,e)}(i,t);var e,n,r,o=Hf(i);function i(){return Vf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"changePage",value:function(t){this.props.onPageChange(t)}},{key:"render",value:function(){var t,e,n=this;return this.props.currentPage>1&&(t=a.a.createElement(bn,{name:"arrow_left",onClick:function(t){return n.changePage(n.props.currentPage-1)}})),this.props.currentPage<this.props.lastPage&&(e=a.a.createElement(bn,{name:"arrow_right",onClick:function(t){return n.changePage(n.props.currentPage+1)}})),a.a.createElement("div",{className:"pagination"},a.a.createElement("div",{className:"pagination__status"},this.props.from," - ",this.props.to," of ",this.props.total),a.a.createElement("div",{className:"pagination__controls"},a.a.createElement("div",{className:"pagination__prev"},t),a.a.createElement("div",{className:"pagination__next"},e)))}}])&&Wf(e.prototype,n),r&&Wf(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}($f,"defaultProps",{currentPage:0,lastPage:0,perPage:0,total:0,from:0,to:0,onPageChange:function(t){}});var Qf=$f;function Gf(t){return(Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xf(t){return function(t){if(Array.isArray(t))return Yf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Yf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tp(t,e){return(tp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ep(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rp(t);if(e){var o=rp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return np(this,n)}}function np(t,e){if(e&&("object"===Gf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rp(t){return(rp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var op=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tp(t,e)}(i,t);var e,n,r,o=ep(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isLoading:!0,searchKeyword:"",items:[],meta:null,selectedItemIds:e.props.defaultSelectedItemIds||[],selectedItems:e.props.defaultSelectedItems||[]},e}return e=i,(n=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.searchKeyword&&(e.search=this.state.searchKeyword),wo.execute.get(this.props.path,this.props.id,"load",e).then((function(e){var n=e.data.data;t.setState({isLoading:!1,items:n,meta:e.data.meta||null})}))}},{key:"search",value:function(t){var e=this;this.setState({isLoading:!0,searchKeyword:t},(function(){e.load()}))}},{key:"onSelectionChange",value:function(t,e){this.setState({selectedItemIds:t,selectedItems:e}),this.props.onSelectionChange(t,e)}},{key:"onSelectionConfirm",value:function(){this.props.onSelectionConfirm(this.state.selectedItemIds,this.state.selectedItems)}},{key:"onCancel",value:function(){this.props.onCancel()}},{key:"deselect",value:function(t){var e=this,n=this.state.selectedItemIds.filter((function(e){return e!==t.id})),r=this.state.selectedItems.filter((function(e){return e.id!==t.id}));this.setState({selectedItemIds:n,selectedItems:r},(function(){e.props.onSelectionChange(e.state.selectedItemIds,e.state.selectedItems)}))}},{key:"select",value:function(t){var e=this;this.setState({selectedItemIds:[].concat(Xf(this.state.selectedItemIds),[t.id]),selectedItems:[].concat(Xf(this.state.selectedItems),[t])},(function(){e.props.onSelectionChange(e.state.selectedItemIds,e.state.selectedItems)}))}},{key:"toggleItemSelection",value:function(t){this.isItemSelected(t)?this.deselect(t):this.select(t)}},{key:"isItemSelected",value:function(t){return this.state.selectedItemIds.includes(t.id)}},{key:"changePage",value:function(t){this.load({page:t})}},{key:"renderSidebar",value:function(){var t=this;return this.state.selectedItems.length?a.a.createElement("div",{className:"item-picker-widget__selection"},a.a.createElement("div",{className:"item-picker-widget__selection-header"},"Your selection (",this.state.selectedItems.length,")"),this.state.selectedItems.map((function(e,n){return a.a.createElement(zf,{key:n,item:e,titleColumn:t.props.titleColumn,actions:[a.a.createElement(bn,{key:"delete",name:"delete",style:"transparent",onClick:function(n){return t.deselect(e)}})]})}))):a.a.createElement("div",{className:"item-picker-widget__selection"},a.a.createElement("div",{className:"item-picker-widget__selection-header"},st.get("snippets.your_selection")," (",this.state.selectedItems.length,")"),a.a.createElement(ui,{icon:"checklist"},st.get("snippets.your_selection_is_empty")))}},{key:"renderPlaceholder",value:function(){return this.state.searchKeyword?a.a.createElement("div",{className:"index__placeholder"},st.get("snippets.no_plural_found_for_search",{plural:this.props.plural,search:this.state.searchKeyword})):a.a.createElement("div",{className:"index__placeholder"},st.get("snippets.no_plural_found",{plural:this.props.plural}))}},{key:"renderPagination",value:function(){return this.state.meta&&this.state.meta.total?a.a.createElement(Qf,{key:"pagination",currentPage:this.state.meta.current_page,lastPage:this.state.meta.last_page,perPage:this.state.meta.per_page,total:this.state.meta.total,from:this.state.meta.from,to:this.state.meta.to,onPageChange:this.changePage.bind(this)}):null}},{key:"renderRows",value:function(){var t=this;if(!this.state.isLoading)return this.state.items.map((function(e,n){return a.a.createElement("div",{key:n,className:"item-picker-widget__row"},a.a.createElement(zf,{path:t.props.path,item:e,titleColumn:t.props.titleColumn,grid:t.props.grid,components:t.props.components,isSelected:t.isItemSelected(e),selectionMode:!0,onClick:function(n){return t.toggleItemSelection(e)}}))}))}},{key:"render",value:function(){var t=this;return a.a.createElement(Ki,{style:["modal","wide"],title:Gt(this.props.plural),closeable:!0,onClose:this.onCancel.bind(this),actions:[this.props.search?a.a.createElement(Sn,{key:"search",onSearch:function(e){return t.search(e)}}):null],footer:[a.a.createElement("div",{className:"item-picker-widget__footer"},a.a.createElement("div",{className:"item-picker-widget__footer-pagination"},this.renderPagination()),a.a.createElement("div",{className:"item-picker-widget__footer-actions"},a.a.createElement(ve,{key:"cancel",text:st.get("snippets.cancel"),style:["secondary"],onClick:this.onCancel.bind(this)}),a.a.createElement(ve,{key:"confirm",text:this.props.selectionMode?st.get("snippets.confirm_selection"):st.get("snippets.select_singular",{singular:this.props.singular}),style:this.state.selectedItemIds.length?[]:["disabled"],onClick:this.state.selectedItemIds.length?this.onSelectionConfirm.bind(this):null})))]},a.a.createElement(Vl,{sidebar:this.renderSidebar()},this.state.items.length?this.renderRows():this.renderPlaceholder()))}}])&&Zf(e.prototype,n),r&&Zf(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(op,"defaultProps",{id:0,path:{},titleColumn:"",grid:[],components:[],defaultSelectedItemIds:[],defaultSelectedItems:[],search:!1,onSelectionChange:function(t,e){},onSelectionConfirm:function(t,e){},onCancel:function(){}});var ip=op;function ap(t){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function up(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return sp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cp(t,e){return(cp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dp(t);if(e){var o=dp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pp(this,n)}}function pp(t,e){if(e&&("object"===ap(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dp(t){return(dp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cp(t,e)}(i,t);var e,n,r,o=fp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isOpen:!1,selectedItems:e.props.data[e.props.name]||[],selectedItemsIds:e.props.data[e.props.name]?e.props.data[e.props.name].map((function(t){return t.id})):[]},e.pivotComponentLists=[],e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedItems:this.props.data[this.props.name]||[],selectedItemsIds:this.props.data[this.props.name]?this.props.data[this.props.name].map((function(t){return t.id})):[]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedItems||[],t}},{key:"handleSubmit",value:function(t){var e=this,n={ids:this.state.selectedItemsIds||[]},r={};this.pivotComponentLists.forEach((function(t,n){var o=up(t,2),i=o[0],a=o[1];if(e.state.selectedItemsIds.includes(a)){var u={};i.forEach((function(t){return t.ref.current.handleSubmit(u)})),r[a]=u}})),n.pivot=r,t[this.props.name]=JSON.stringify(n)}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"deselect",value:function(t){var e=this;Zt.confirm({title:st.get("snippets.delete_singular_title",{singular:this.props.singular}),text:st.get("snippets.delete_singular_text",{singular:this.props.singular}),confirm:function(){var n=e.state.selectedItemsIds.filter((function(e){return e!==t.id})),r=e.state.selectedItems.filter((function(e){return e.id!==t.id}));e.setState({selectedItemsIds:n,selectedItems:r}),Zt.notify(st.get("snippets.singular_deleted",{singular:e.props.singular}))}})}},{key:"onSelectionConfirm",value:function(t,e){this.setState({isOpen:!1,selectedItems:e,selectedItemsIds:t})}},{key:"renderPivotComponents",value:function(t){var e=t.pivot||{},n=Bd.renderComponentsWith(this.props.pivotComponents,e,this.props.path,(function(t,e){return a.a.createElement("div",{className:"many-to-many-field__pivot-component",key:e},t)}),!0);return this.pivotComponentLists.push([n,t.id]),n.map((function(t){return t.component}))}},{key:"renderContent",value:function(){var t=this;return this.pivotComponentLists=[],this.state.selectedItems.length?a.a.createElement("div",{className:"many-to-many-field__list"},this.state.selectedItems.map((function(e,n){return a.a.createElement(Ec,{title:e[t.props.titleColumn],key:n,actions:[a.a.createElement(bn,{key:"delete",name:"delete",style:"transparent",onClick:function(n){return t.deselect(e)}})]},t.renderPivotComponents(e))}))):a.a.createElement(ui,{icon:"image_search",onClick:this.open.bind(this)},"Select ",this.props.plural)}},{key:"render",value:function(){var t;return this.state.isOpen&&(t=a.a.createElement(Ii,null,a.a.createElement(ip,{id:this.props.id,path:this.props.path,plural:this.props.plural,singular:this.props.plural,titleColumn:this.props.titleColumn,grid:this.props.grid,components:this.props.components,search:this.props.search,onCancel:this.close.bind(this),onSelectionConfirm:this.onSelectionConfirm.bind(this),defaultSelectedItems:this.state.selectedItems,defaultSelectedItemIds:this.state.selectedItemsIds}))),a.a.createElement(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors},a.a.createElement("div",{className:"many-to-many-field"},a.a.createElement("div",{className:"many-to-many-field__btn"},a.a.createElement(ve,{style:["small","secondary"],icon:"add",text:"Select "+this.props.plural,onClick:this.open.bind(this)})),a.a.createElement("div",{className:"many-to-many-field__content"},this.renderContent())),t)}}])&&lp(e.prototype,n),r&&lp(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(hp,"defaultProps",{path:{},data:{},components:[],pivotComponents:[],label:"",name:"",style:"",singular:"",plural:"",titleColumn:"",search:!1,grid:[]});var mp=hp;function yp(t){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vp(t){return function(t){if(Array.isArray(t))return bp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return bp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wp(t,e){return(wp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kp(t);if(e){var o=kp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ep(this,n)}}function Ep(t,e){if(e&&("object"===yp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function kp(t){return(kp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wp(t,e)}(i,t);var e,n,r,o=_p(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={createFormErrors:{},isOpen:!1,items:[],options:{},selectedItems:e.props.data[e.props.name]||[],selectedItemsIds:e.props.data[e.props.name]?e.props.data[e.props.name].map((function(t){return t.id})):[]},e.createFormRef=a.a.createRef(),e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({selectedItems:this.props.data[this.props.name]||[],selectedItemsIds:this.props.data[this.props.name]?this.props.data[this.props.name].map((function(t){return t.id})):[]})}},{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;wo.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(n){var r=n.data.data,o={};r.forEach((function(e){return o[e.id]=e[t.props.titleColumn]})),t.setState({items:r,options:o},(function(){e&&e()}))}))}},{key:"getData",value:function(t){return t[this.props.name]=this.state.selectedItems||[],t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.selectedItemsIds||[]}},{key:"handleChange",value:function(t){this.setState({selectedItemsIds:t,selectedItems:this.state.items.filter((function(e){return t.includes("".concat(e.id))}))})}},{key:"open",value:function(){this.setState({isOpen:!0})}},{key:"close",value:function(){this.setState({isOpen:!1})}},{key:"create",value:function(t){var e=this;wo.execute.post(this.props.path,this.props.id,"create",t).then((function(t){e.createFormRef.current.ready(),e.load((function(){e.setState({isOpen:!1,selectedItemsIds:[].concat(vp(e.state.selectedItemsIds),[t.data.data.id])})})),Zt.notify(st.get("snippets.singular_created_selected",{singular:e.props.singular}))}),(function(t){var n=t.response;e.createFormRef.current.ready(),e.setState({createFormErrors:n.data.errors}),Zt.notify(n.data.message)}))}},{key:"renderSidebarComponents",value:function(){return Bd.renderComponents(this.props.sidebarComponents,{},this.props.path)}},{key:"renderCreateComponents",value:function(){return Bd.renderComponents(this.props.createComponents,{},this.props.path)}},{key:"renderCreateWidget",value:function(){return this.state.isOpen?a.a.createElement(Ii,null,a.a.createElement(Ki,{title:st.get("snippets.new_singular",{singular:this.props.singular}),style:"modal",closeable:!0,onClose:this.close.bind(this)},a.a.createElement(Ri,{ref:this.createFormRef,errors:this.state.createFormErrors,realForm:!1,onSubmit:this.create.bind(this),submitButtonText:st.get("snippets.create_singular",{singular:this.props.singular}),sidebar:this.renderSidebarComponents()},this.renderCreateComponents()))):null}},{key:"renderCreate",value:function(){return this.props.create?a.a.createElement("div",{className:"many-to-many-select-field__btn"},a.a.createElement(ve,{icon:"add",style:["full","small","secondary"],text:st.get("snippets.new_singular",{singular:this.props.singular}),onClick:this.open.bind(this)})):null}},{key:"render",value:function(){var t=this;return a.a.createElement(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip,errors:this.props.errors},a.a.createElement("div",{className:"many-to-many-select-field"},a.a.createElement("div",{className:"many-to-many-select-field__field"},a.a.createElement(Fn,{multiple:!0,value:this.state.selectedItemsIds,options:this.state.options,nullText:" "+st.get("snippets.no_plural_selected",{plural:this.props.plural})+" ",onChange:function(e){return t.handleChange(e)}},this.renderCreate()))),this.renderCreateWidget())}}])&&gp(e.prototype,n),r&&gp(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(xp,"defaultProps",{path:{},data:{},label:"",name:"",style:"",singular:"",plural:"",titleColumn:"",tooltip:"",create:!1,createComponents:[],sidebarComponents:[]});var Op=xp;function Sp(t){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cp(t){return function(t){if(Array.isArray(t))return Pp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tp(t,e){return(Tp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dp(t);if(e){var o=Dp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ap(this,n)}}function Ap(t,e){if(e&&("object"===Sp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dp(t){return(Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Np=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tp(t,e)}(i,t);var e,n,r,o=jp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={addedItems:e.props.data[e.props.name]||[]},e}return e=i,(n=[{key:"handleSubmit",value:function(t){var e=[];this.componentLists.forEach((function(t){var n={};t.forEach((function(t){t.ref.current.handleSubmit(n)})),e.push(n)})),t[this.props.name]=JSON.stringify(e)}},{key:"getData",value:function(t){return t[this.props.name]=this.state.addedItems||[],t}},{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.props.data[this.props.name]&&this.setState({addedItems:this.props.data[this.props.name]})}},{key:"addItem",value:function(){this.setState({addedItems:[].concat(Cp(this.state.addedItems),[{}])})}},{key:"sortUp",value:function(t){if(!(t<=0)){var e=this.state.addedItems,n=t-1,r=[e[n],e[t]];e[t]=r[0],e[n]=r[1],this.setState({addedItems:e})}}},{key:"sortDown",value:function(t){if(!(t>=this.state.addedItems.length-1)){var e=this.state.addedItems,n=t+1,r=[e[n],e[t]];e[t]=r[0],e[n]=r[1],this.setState({addedItems:e})}}},{key:"removeItem",value:function(t){var e=this.state.addedItems;e.splice(t,1),this.setState({addedItems:e})}},{key:"renderItems",value:function(){var t=this;return this.componentLists=[],this.state.addedItems.length?this.state.addedItems.map((function(e,n){var r=Bd.renderComponentsWith(t.props.components,e,t.props.path,(function(t,e){return a.a.createElement("div",{className:"json-field__component",key:e},t)}),!0,t.props.errors);return t.componentLists.push(r),a.a.createElement("div",{className:"json-field__item",key:n},a.a.createElement("div",{className:"json-field__item-content"},r.map((function(t){return t.component}))),a.a.createElement("div",{className:"json-field__item-actions"},a.a.createElement(bn,{style:["transparent",n>0?"enabled":"disabled"],iconStyle:"mini",name:"arrow_upward",onClick:function(e){return t.sortUp(n)}}),a.a.createElement(bn,{style:["transparent",n<t.state.addedItems.length-1?"enabled":"disabled"],iconStyle:"mini",name:"arrow_downward",onClick:function(e){return t.sortDown(n)}}),a.a.createElement(bn,{style:"transparent",iconStyle:"mini",name:"delete",onClick:function(e){return t.removeItem(n)}})))})):a.a.createElement(ui,{onClick:this.addItem.bind(this),icon:"post_add"},"No ",this.props.plural," added yet")}},{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,label:this.props.label,tooltip:this.props.tooltip},a.a.createElement("div",{className:"json-field"},a.a.createElement("div",{className:"json-field__content"},this.renderItems()),a.a.createElement("div",{className:"json-field__footer"},a.a.createElement(ve,{onClick:this.addItem.bind(this),icon:"add",style:["small","secondary"],text:Gt(st.get("snippets.add_singular",{singular:this.props.singular}))}))))}}])&&Rp(e.prototype,n),r&&Rp(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Np,"defaultProps",{id:0,data:{},label:"",name:"",plural:"",singular:"",tooltip:"",components:[],errors:{}});var Lp=Np;function Fp(t){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bp(t,e){return(Bp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Up(t);if(e){var o=Up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zp(this,n)}}function zp(t,e){if(e&&("object"===Fp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Up(t){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bp(t,e)}(i,t);var e,n,r,o=Mp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||""},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||""})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},a.a.createElement("input",{id:bt(this.props.name),name:this.props.name,className:"date-field",type:"date",value:this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this)}))}}])&&Ip(e.prototype,n),r&&Ip(e,r),i}(a.a.Component);function Wp(t){return(Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kp(t,e){return(Kp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qp(t);if(e){var o=Qp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $p(this,n)}}function $p(t,e){if(e&&("object"===Wp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qp(t){return(Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Vp,"defaultProps",{data:{},label:"",name:"",tooltip:"",errors:{}});var Gp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kp(t,e)}(i,t);var e,n,r,o=Jp(i);function i(){return qp(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"handleSubmit",value:function(t){}},{key:"render",value:function(){var t;return this.props.data[this.props.name]&&(t=a.a.createElement(ru,{src:this.props.data[this.props.name].conversions.thumb})),a.a.createElement(Nt,{name:this.props.name,label:this.props.label},a.a.createElement("div",{className:"thumb-component"},t))}}])&&Hp(e.prototype,n),r&&Hp(e,r),i}(a.a.Component);function Xp(t){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zp(t,e){return(Zp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function td(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nd(t);if(e){var o=nd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ed(this,n)}}function ed(t,e){if(e&&("object"===Xp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nd(t){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Gp,"defaultProps",{data:{},label:"",name:""});var rd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zp(t,e)}(i,t);var e,n,r,o=td(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||""},e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||""})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value||""}},{key:"render",value:function(){var t;if(this.state.value){var e=Uu(this.state.value);t=a.a.createElement("div",{className:"color-field__color",style:{backgroundColor:this.state.value,color:Vu(e[0],e[1],e[2])}},this.state.value)}else t=a.a.createElement("div",{className:"color-field__color"},"Select a color");return a.a.createElement(Nt,{name:this.props.name,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},a.a.createElement("div",{className:"color-field"},t,a.a.createElement("input",{id:bt(this.props.name),name:this.props.name,className:"color-field__input",type:"color",value:this.state.value,disabled:this.props.disabled,onChange:this.handleChange.bind(this)})))}}])&&Yp(e.prototype,n),r&&Yp(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(rd,"defaultProps",{data:{},label:"",name:"",tooltip:"",errors:{}});var od=rd;function id(t){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ud(t,e){return(ud=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cd(t);if(e){var o=cd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ld(this,n)}}function ld(t,e){if(e&&("object"===id(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cd(t){return(cd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ud(t,e)}(i,t);var e,n,r,o=sd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={},e}return e=i,(n=[{key:"componentDidMount",value:function(){}},{key:"sortUp",value:function(){var t={};this.props.data&&this.props.data.id&&(t.id=this.props.data.id),wo.execute.get(this.props.path,this.props.id,"sortUp",t).then((function(t){c.refresh(),Zt.notify("Item has been sorted up!")}))}},{key:"sortDown",value:function(){var t={};this.props.data&&this.props.data.id&&(t.id=this.props.data.id),wo.execute.get(this.props.path,this.props.id,"sortDown",t).then((function(t){c.refresh(),Zt.notify("Item has been sorted down!")}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"manual-order-controls"},a.a.createElement("div",{className:"manual-order-controls__item"},a.a.createElement(bn,{style:"transparent",iconStyle:"small",name:"arrow_upward",onClick:this.sortUp.bind(this)})),a.a.createElement("div",{className:"manual-order-controls__item"},a.a.createElement(bn,{style:"transparent",iconStyle:"small",name:"arrow_downward",onClick:this.sortDown.bind(this)})))}}])&&ad(e.prototype,n),r&&ad(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(fd,"defaultProps",{path:{},data:{},type:"",id:0});var pd=fd;function dd(t){return(dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function md(t,e){return(md=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bd(t);if(e){var o=bd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vd(this,n)}}function vd(t,e){if(e&&("object"===dd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function bd(t){return(bd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&md(t,e)}(i,t);var e,n,r,o=yd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={value:e.props.data[e.props.name]||Object.keys(e.props.options)[0]},e.componentList=[],e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){this.props.data[this.props.name]!==t.data[this.props.name]&&this.setState({value:this.props.data[this.props.name]||Object.keys(this.props.options)[0]})}},{key:"getData",value:function(t){return t[this.props.name]=this.state.value,this.componentList.forEach((function(e){e.ref.current.getData(t)})),t}},{key:"handleSubmit",value:function(t){t[this.props.name]=this.state.value,this.componentList.forEach((function(e){e.ref.current.handleSubmit(t)}))}},{key:"handleChange",value:function(t){this.setState({value:t})}},{key:"getEnumOptions",value:function(){var t=this,e={};return Object.keys(this.props.options).forEach((function(n){return e[n]=t.props.options[n].name})),e}},{key:"getEnumComponents",value:function(){return this.props.options[this.state.value].components}},{key:"render",value:function(){var t=this;this.componentList=Bd.renderComponentsWith(this.getEnumComponents(),this.props.data,this.props.path,(function(t,e){return a.a.createElement("div",{className:"enum-switch-field__component",key:e},t)}),!0,this.props.errors);var e=this.componentList.map((function(t){return t.component}));return a.a.createElement("div",{className:"enum-switch-field"},a.a.createElement(Nt,{name:this.props.name,required:!1,label:this.props.label,tooltip:this.props.tooltip},a.a.createElement(Fn,{value:this.state.value,options:this.getEnumOptions(),onChange:function(e){return t.handleChange(e)}})),a.a.createElement("div",{className:"enum-switch-field__content"},e))}}])&&hd(e.prototype,n),r&&hd(e,r),i}(a.a.Component);function wd(t){return(wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ed(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kd(t,e){return(kd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sd(t);if(e){var o=Sd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Od(this,n)}}function Od(t,e){if(e&&("object"===wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Sd(t){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(gd,"defaultProps",{data:{},label:"",name:"",options:{},tooltip:""});var Cd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kd(t,e)}(i,t);var e,n,r,o=xd(i);function i(){return _d(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.text;return this.props.url&&(t=a.a.createElement("a",{className:"text-literal__link",target:"_blank",href:this.props.url},this.props.text)),a.a.createElement("div",{className:p("text-literal",this.props.style)},t)}}])&&Ed(e.prototype,n),r&&Ed(e,r),i}(a.a.Component);function Pd(t){return(Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Td(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jd(t,e){return(jd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ad(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nd(t);if(e){var o=Nd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dd(this,n)}}function Dd(t,e){if(e&&("object"===Pd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Nd(t){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Cd,"defaultProps",{id:0,text:"",url:"",style:""});var Ld=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jd(t,e)}(i,t);var e,n,r,o=Ad(i);function i(){return Rd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement(Nt,{name:this.props.name,required:this.props.showRequiredIndicator,label:this.props.label,errors:this.props.errors,tooltip:this.props.tooltip},a.a.createElement("input",{id:bt(this.props.name),name:this.props.name,className:p("time-field",this.props.style),type:this.props.htmlType,value:this.state.value||"",disabled:this.props.disabled,placeholder:this.props.placeholder,step:null!==this.props.step?this.props.step:null,min:null!==this.props.min?this.props.min:null,max:null!==this.props.max?this.props.max:null,onChange:this.handleChange.bind(this),onKeyUp:this.handleChange.bind(this),autoComplete:"off"}))}}])&&Td(e.prototype,n),r&&Td(e,r),i}(Ut);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Ld,"defaultProps",{htmlType:"time",min:null,max:null});var Fd={"text-literal":Cd,"time-field":Ld,"number-field":Qt,"date-field":Vp,"date-time-field":_i,"date-time-view":Va,"enum-field":Wn,"enum-view":Yn,"enum-switch-field":gd,"text-field":Ut,"text-to-slug-field":Yo,"text-view":se,"password-field":to,"email-field":uo,checkbox:ir,"boolean-view":hr,link:Le,stack:We,translatable:tn,section:Er,"action-component":Mr,tabs:Jr,"custom-number":Po,"color-view":Io,"color-field":od,"file-upload":qo,"image-upload":hi,"image-view":Pa,"belongs-to-field":ta,"belongs-to-view":la,"richtext-field":wa,"boolean-field":La,thumbnail:Ga,card:fu,dropdown:Ru,"file-select-field":mc,"gallery-field":jf,"content-blocks":Mc,"tags-field":hf,"tags-view":Ef,"many-to-many-field":mp,"many-to-many-select-field":Op,"json-field":Lp,thumb:Gp,"manual-order-controls":pd};function Id(){return(Id=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Bd={renderComponent:function(t,e,n){if(t){var r=Fd[t.type];return a.a.createElement(r,Id({},t,{data:e,path:n}))}},renderComponents:function(t,e,n){return t.map((function(t,r){var o=Fd[t.type];return a.a.createElement(o,Id({},t,{data:e,path:n,key:r}))}))},renderComponentsWith:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return t.map((function(t,u){var s=null;o&&(s=a.a.createRef());var l=Fd[t.type];return{component:r(a.a.createElement(l,Id({},t,{data:e,errors:i,path:n,ref:s})),u),ref:s}}))}};function Md(t){return(Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ud(t,e){return(Ud=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qd(t);if(e){var o=qd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wd(this,n)}}function Wd(t,e){if(e&&("object"===Md(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qd(t){return(qd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ud(t,e)}(i,t);var e,n,r,o=Vd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={humanReadableValue:"All"},e.selectListRef=a.a.createRef(),e}return e=i,(n=[{key:"handleChange",value:function(t){var e=this,n=t.map((function(t){return e.props.options[t]}));this.setState({humanReadableValue:n.length?n.join(", "):"All"}),this.props.onChange(this.props.id,t.join(","))}},{key:"clear",value:function(){this.selectListRef.current.clear()}},{key:"render",value:function(){var t=this.props.label?this.props.label:Gt(this.props.field);return a.a.createElement("div",{className:"enum-filter"},a.a.createElement(wu,{label:t,text:this.state.humanReadableValue},a.a.createElement(ln,{options:this.props.options,onChange:this.handleChange.bind(this),ref:this.selectListRef})))}}])&&zd(e.prototype,n),r&&zd(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Hd,"defaultProps",{id:0,type:"",options:{},field:"",label:"",onChange:function(){}});var Kd=Hd;function Jd(t){return(Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qd(t,e){return(Qd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yd(t);if(e){var o=Yd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xd(this,n)}}function Xd(t,e){if(e&&("object"===Jd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yd(t){return(Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qd(t,e)}(i,t);var e,n,r,o=Gd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={options:{},humanReadableValue:"All"},e.selectListRef=a.a.createRef(),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;wo.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){var n={};e.data.data.forEach((function(e){n[e.id]=e[t.props.titleColumn]})),t.setState({options:n})}))}},{key:"handleChange",value:function(t){var e=this,n=t.map((function(t){return e.state.options[t]}));this.setState({humanReadableValue:n.length?n.join(", "):"All"}),this.props.onChange(this.props.id,t.join(","))}},{key:"clear",value:function(){this.selectListRef.current.clear()}},{key:"render",value:function(){var t=this.props.label?this.props.label:Gt(this.props.field);return a.a.createElement("div",{className:"enum-filter"},a.a.createElement(wu,{label:t,text:this.state.humanReadableValue},a.a.createElement(ln,{options:this.state.options,onChange:this.handleChange.bind(this),ref:this.selectListRef})))}}])&&$d(e.prototype,n),r&&$d(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Zd,"defaultProps",{id:0,type:"",field:"",label:"",titleColumn:"",onChange:function(){}});var th=Zd;function eh(t){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rh(t,e){return(rh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ah(t);if(e){var o=ah(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ih(this,n)}}function ih(t,e){if(e&&("object"===eh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ah(t){return(ah=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rh(t,e)}(i,t);var e,n,r,o=oh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={options:[],humanReadableValue:st.get("snippets.tags_all")},e.selectListRef=a.a.createRef(),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;wo.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){var n={};e.data.forEach((function(t){n[t.id]=t.name})),t.setState({options:n})}))}},{key:"handleChange",value:function(t){var e=this,n=t.map((function(t){return e.state.options[t]}));this.setState({humanReadableValue:n.length?n.join(", "):st.get("snippets.tags_all")}),this.props.onChange(this.props.id,t.join(","))}},{key:"clear",value:function(){this.selectListRef.current.clear()}},{key:"render",value:function(){var t=this.props.label?this.props.label:st.get("snippets.tag");return a.a.createElement("div",{className:"enum-filter"},a.a.createElement(wu,{label:t,text:this.state.humanReadableValue},a.a.createElement(ln,{options:this.state.options,onChange:this.handleChange.bind(this),ref:this.selectListRef})))}}])&&nh(e.prototype,n),r&&nh(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(uh,"defaultProps",{id:0,type:"",label:"",onChange:function(){}});var sh={"enum-filter":Kd,"belongs-to-filter":th,"tag-filter":uh};function lh(){return(lh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ch=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return t.map((function(t,u){var s=i?a.a.createRef():null,l=sh[t.type];return{filter:r(a.a.createElement(l,lh({},t,{data:e,path:n,onChange:o,ref:s})),u),ref:s}}))};function fh(t){return(fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dh(t,e){return(dh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yh(t);if(e){var o=yh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mh(this,n)}}function mh(t,e){if(e&&("object"===fh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yh(t){return(yh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dh(t,e)}(i,t);var e,n,r,o=hh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isLoading:!0,rows:[],meta:null,searchKeyword:null,filterParams:{},hasActiveFilters:!1},e.filterList=[],e}return e=i,(n=[{key:"componentDidUpdate",value:function(t){(this.props.restrictByFk||this.props.relationship)&&this.props.data.id!==t.data.id&&this.load()}},{key:"componentDidMount",value:function(){this.props.restrictByFk||this.props.relationship||this.load()}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.props.restrictByFk&&(e.foreign=this.props.data.id),this.props.relationship&&(e.relation=this.props.data.id),this.state.searchKeyword&&(e.search=this.state.searchKeyword),this.state.filterParams)for(var n in this.state.filterParams)this.state.filterParams.hasOwnProperty(n)&&(e["filter_"+n]=this.state.filterParams[n]);wo.execute.get(this.props.path,this.props.id,"load",e).then((function(e){t.setState({isLoading:!1,rows:e.data.data,meta:e.data.meta||null})}))}},{key:"onRowClick",value:function(t){c.goTo(this.props.path.module,this.props.action,{id:t.id})}},{key:"getRowStyle",value:function(){var t={gridTemplateColumns:"repeat("+this.props.components.length+", 1fr)"};return this.props.grid.length&&(t.gridTemplateColumns=this.props.grid.join("fr ")+"fr"),t}},{key:"renderFilters",value:function(){return this.filterList=ch(this.props.filters,{},this.props.path,(function(t,e){return a.a.createElement("div",{className:"index__header-filter",key:e},t)}),this.onFilterChange.bind(this),!0),this.filterList.map((function(t){return t.filter}))}},{key:"renderFiltersTool",value:function(){return this.props.filters.length?a.a.createElement("div",{className:"index__header-filters-tool"},this.renderFilters(),a.a.createElement("div",{className:"index__header-clear-filters"},a.a.createElement(Se,{onClick:this.state.hasActiveFilters?this.clearFilters.bind(this):null,text:st.get("snippets.clear_filters"),style:this.state.hasActiveFilters?"":"disabled"}))):null}},{key:"renderHeader",value:function(){var t=this,e=this.props.search?a.a.createElement("div",{className:"index__header-search"},a.a.createElement(Sn,{onSearch:function(e){return t.search(e)}})):null;return a.a.createElement("div",{className:"index__header"},a.a.createElement("div",{className:"index__header-title"},Gt(this.props.plural)," ",this.state.meta?"("+this.state.meta.total+")":null),a.a.createElement("div",{className:"index__header-options"},e,this.renderFiltersTool()))}},{key:"renderFooter",value:function(){return this.state.meta&&this.state.meta.total?a.a.createElement("div",{className:"index__footer"},a.a.createElement(Qf,{currentPage:this.state.meta.current_page,lastPage:this.state.meta.last_page,perPage:this.state.meta.per_page,total:this.state.meta.total,from:this.state.meta.from,to:this.state.meta.to,onPageChange:this.changePage.bind(this)})):null}},{key:"renderPlaceholder",value:function(){return this.state.searchKeyword?a.a.createElement("div",{className:"index__placeholder"},st.get("snippets.no_plural_found_for_search",{plural:this.props.plural,search:this.state.searchKeyword})):a.a.createElement("div",{className:"index__placeholder"},st.get("snippets.no_plural_found",{plural:this.props.plural}))}},{key:"renderRows",value:function(){var t=this;return this.state.rows.length?a.a.createElement("div",{className:"index__rows"},this.state.rows.map((function(e){var n=t.props.components.map((function(n,r){return a.a.createElement("div",{className:"index__component",key:r},Bd.renderComponent(n,e,t.props.path))}));return a.a.createElement("div",{className:"index__row"+(t.props.action?" index__row--clickable":""),key:e.id,style:t.getRowStyle(),onClick:t.props.action?t.onRowClick.bind(t,e):null},n)}))):this.renderPlaceholder()}},{key:"changePage",value:function(t){this.load({page:t})}},{key:"onFilterChange",value:function(t,e){var n=this;e?this.state.filterParams[t]=e:delete this.state.filterParams[t],this.setState({filterParams:this.state.filterParams,hasActiveFilters:0!==Object.keys(this.state.filterParams).length},(function(){n.load()}))}},{key:"clearFilters",value:function(){this.filterList.forEach((function(t){return t.ref.current.clear()}))}},{key:"search",value:function(t){var e=this;this.setState({searchKeyword:t},(function(){e.load()}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"index index--"+this.props.style+(this.state.isLoading?" index--loading":"")},this.renderHeader(),this.renderRows(),this.renderFooter())}}])&&ph(e.prototype,n),r&&ph(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(vh,"defaultProps",{type:"",components:[],path:{},id:0,data:{},params:null,search:!1,relationship:!1,filters:[],sorter:null,restrictByFk:null,action:"",style:"default",plural:"",singular:""});var bh=vh;function gh(t){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _h(t,e){return(_h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xh(t);if(e){var o=xh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kh(this,n)}}function kh(t,e){if(e&&("object"===gh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xh(t){return(xh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_h(t,e)}(i,t);var e,n,r,o=Eh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).props.params&&(e.props.path.params=e.props.params),e.state={isLoading:!0,data:{},formErrors:{}},e.formRef=a.a.createRef(),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;wo.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){t.setState({data:e.data.data,isLoading:!1})}))}},{key:"save",value:function(t){var e=this;t.id=this.props.path.params.id,wo.execute.post(this.props.path,this.props.id,"save",t).then((function(t){e.formRef.current.ready(),e.redirect(t.data),Zt.notify(st.get("snippets.singular_updated",{singular:e.props.singular}))}),(function(t){var n=t.response;e.formRef.current.ready(),e.setState({formErrors:n.data.errors}),Zt.notify(st.get("form_has_errors"))}))}},{key:"redirect",value:function(t){c.handleRedirect(this.props,{id:t.data.id})}},{key:"renderContent",value:function(){return Bd.renderComponents(this.props.components,this.state.data,this.props.path)}},{key:"renderSidebar",value:function(){return Bd.renderComponents(this.props.sidebar,this.state.data,this.props.path)}},{key:"renderForm",value:function(){return this.state.isLoading?null:a.a.createElement(Ri,{ref:this.formRef,errors:this.state.formErrors,onSubmit:this.save.bind(this),submitButtonText:Gt(st.get("snippets.save_singular",{singular:this.props.singular})),sidebar:this.renderSidebar()},this.renderContent())}},{key:"render",value:function(){return a.a.createElement("div",{className:"edit"+(this.state.isLoading?" edit--loading":"")},this.renderForm())}}])&&wh(e.prototype,n),r&&wh(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Oh,"defaultProps",{type:"",components:[],sidebar:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,singular:"",plural:""});var Sh=Oh;function Ch(t){return(Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rh(t,e){return(Rh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Th(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ah(t);if(e){var o=Ah(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jh(this,n)}}function jh(t,e){if(e&&("object"===Ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ah(t){return(Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rh(t,e)}(i,t);var e,n,r,o=Th(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={data:{},formErrors:{}},e.formRef=a.a.createRef(),e}return e=i,(n=[{key:"save",value:function(t){var e=this;this.props.attachToRelation&&(t[this.props.attachToRelation]=this.props.path.params.id),this.props.restrictByFk&&(t[this.props.restrictByFk]=this.props.path.params.id),wo.execute.post(this.props.path,this.props.id,"save",t).then((function(t){e.formRef.current.ready(),e.redirect(t.data),Zt.notify(st.get("snippets.singular_created",{singular:e.props.singular}))}),(function(t){var n=t.response;e.formRef.current.ready(),e.setState({formErrors:n.data.errors}),Zt.notify(n.data.message)}))}},{key:"redirect",value:function(t){c.handleRedirect(this.props,{id:t.data.id})}},{key:"renderContent",value:function(){return Bd.renderComponents(this.props.components,this.state.data,this.props.path)}},{key:"renderSidebar",value:function(){return Bd.renderComponents(this.props.sidebar,this.state.data,this.props.path)}},{key:"render",value:function(){return a.a.createElement("div",{className:"create"},a.a.createElement(Ri,{ref:this.formRef,errors:this.state.formErrors,onSubmit:this.save.bind(this),submitButtonText:Gt(st.get("snippets.create_singular",{singular:this.props.singular})),sidebar:this.renderSidebar()},this.renderContent()))}}])&&Ph(e.prototype,n),r&&Ph(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Dh,"defaultProps",{type:"",components:[],sidebar:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,restrictByFk:null,attachToRelation:null});var Nh=Dh;function Lh(t){return(Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ih(t,e){return(Ih=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zh(t);if(e){var o=zh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mh(this,n)}}function Mh(t,e){if(e&&("object"===Lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zh(t){return(zh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ih(t,e)}(i,t);var e,n,r,o=Bh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).props.params&&(e.props.path.params=e.props.params),e}return e=i,(n=[{key:"delete",value:function(){var t=this;wo.execute.get(this.props.path,this.props.id,"delete",this.props.path.params).then((function(e){t.redirect(),Zt.notify(st.get("snippets.singular_deleted",{singular:t.props.singular}))}))}},{key:"redirect",value:function(){c.handleRedirect(this.props)}},{key:"render",value:function(){return a.a.createElement("div",{className:"delete"},a.a.createElement("div",{className:"delete__text"},st.get("snippets.delete_singular_text",{singular:this.props.singular})),a.a.createElement("div",{className:"delete__footer"},a.a.createElement("div",{className:"delete__confirm"},a.a.createElement(ve,{onClick:this.delete.bind(this),text:st.get("snippets.delete_singular_confirm",{singular:this.props.singular})})),a.a.createElement("div",{className:"delete__cancel"},a.a.createElement(ve,{onClick:this.redirect.bind(this),text:st.get("snippets.delete_singular_cancel"),style:"secondary"}))))}}])&&Fh(e.prototype,n),r&&Fh(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Uh,"defaultProps",{type:"",components:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,singular:"",plural:""});var Vh=Uh;function Wh(t){return(Wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hh(t,e){return(Hh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$h(t);if(e){var o=$h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jh(this,n)}}function Jh(t,e){if(e&&("object"===Wh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $h(t){return($h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hh(t,e)}(i,t);var e,n,r,o=Kh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).props.params&&(e.props.path.params=e.props.params),e.state={data:{}},e}return e=i,(n=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var t=this;wo.execute.get(this.props.path,this.props.id,"load",this.props.path.params).then((function(e){t.setState({data:e.data.data})}))}},{key:"render",value:function(){var t=Bd.renderComponents(this.props.components,this.state.data,this.props.path);return a.a.createElement("div",{className:"view"},t)}}])&&qh(e.prototype,n),r&&qh(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Qh,"defaultProps",{components:[],path:{},params:null,type:""});var Gh=Qh;function Xh(t){return(Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tm(t,e){return(tm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function em(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rm(t);if(e){var o=rm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(t,e){if(e&&("object"===Xh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rm(t){return(rm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var om=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tm(t,e)}(i,t);var e,n,r,o=em(i);function i(){return Yh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"export"},"Export under construction")}}])&&Zh(e.prototype,n),r&&Zh(e,r),i}(a.a.Component);function im(t){return(im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sm(t,e){return(sm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fm(t);if(e){var o=fm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cm(this,n)}}function cm(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fm(t){return(fm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sm(t,e)}(i,t);var e,n,r,o=lm(i);function i(){return am(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getControllerUrl",value:function(){var t=u(this.props.path.params);return"cmf/api/modules/".concat(this.props.path.module,"/").concat(this.props.path.action,"/").concat(this.props.id,"/controller")+"?"+t}},{key:"render",value:function(){return a.a.createElement("div",{className:"custom-controller"},a.a.createElement("iframe",{src:this.getControllerUrl()}))}}])&&um(e.prototype,n),r&&um(e,r),i}(a.a.Component);function dm(t){return(dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mm(t,e){return(mm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ym(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bm(t);if(e){var o=bm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vm(this,n)}}function vm(t,e){if(e&&("object"===dm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function bm(t){return(bm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mm(t,e)}(i,t);var e,n,r,o=ym(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).componentLists=[],e.state={currentStepIndex:0},e}return e=i,(n=[{key:"save",value:function(t){var e=this;this.props.restrictByFk&&(t[this.props.restrictByFk]=this.props.path.params.id),wo.execute.post(this.props.path,this.props.id,"save",t).then((function(t){e.redirect(t.data),Zt.notify(st.get("snippets.singular_created",{singular:e.props.singular}))}),(function(t){var e=t.response;for(var n in e.data.errors)Zt.notify(e.data.errors[n])}))}},{key:"redirect",value:function(t){c.handleRedirect(this.props,{id:t.data.id})}},{key:"renderWizard",value:function(){var t=this,e=this.props.steps.map((function(e,n){return a.a.createElement("li",{className:"wizard__step"+(n<=t.state.currentStepIndex?" wizard__step--active":""),onClick:function(e){return t.goTo(n)},key:n},a.a.createElement("span",null,n+1),e.title)}));return a.a.createElement("div",{className:"wizard"},a.a.createElement("div",{className:"wizard__nav"},a.a.createElement("ul",{className:"wizard__steps"},e)),a.a.createElement("div",{className:"wizard__content"},this.renderWizardContent()),a.a.createElement("div",{className:"wizard__footer"},this.renderWizardFooter()))}},{key:"renderWizardFooter",value:function(){return[this.state.currentStepIndex>0?a.a.createElement("div",{className:"wizard__footer-component",key:1},a.a.createElement(Se,{onClick:this.goToPrev.bind(this),text:"Previous"})):null,a.a.createElement("div",{className:"wizard__footer-component",key:2},a.a.createElement(ve,{style:"large",onClick:this.goToNext.bind(this),text:this.isLastStep()?st.get("snippets.create"):st.get("snippets.next")}))]}},{key:"renderWizardContent",value:function(){var t=this;return this.props.steps.map((function(e,n){return a.a.createElement("div",{className:"wizard__step-content",style:{display:n===t.state.currentStepIndex?"block":"none"},key:n},t.componentLists[n].map((function(t){return t.component})))}))}},{key:"isLastStep",value:function(){return this.state.currentStepIndex===this.props.steps.length-1}},{key:"goTo",value:function(t){(t<this.state.currentStepIndex||t===this.state.currentStepIndex+1)&&this.setState({currentStepIndex:t})}},{key:"goToNext",value:function(){if(this.state.currentStepIndex===this.props.steps.length-1){var t={};return this.componentLists.forEach((function(e){e.forEach((function(e){e.ref.current.handleSubmit(t)}))})),void this.save(t)}this.goTo(this.state.currentStepIndex+1)}},{key:"goToPrev",value:function(){this.goTo(this.state.currentStepIndex-1)}},{key:"render",value:function(){var t=this;return this.componentLists=this.props.steps.map((function(e,n){return Bd.renderComponentsWith(e.components,t.props.data,t.props.path,(function(t,e){return a.a.createElement("div",{className:"wizard__component",key:e},t)}),!0)})),a.a.createElement("div",{className:"create-wizard"},a.a.createElement("div",{className:"create-wizard__wizard"},this.renderWizard()))}}])&&hm(e.prototype,n),r&&hm(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(gm,"defaultProps",{type:"",components:[],path:{},id:0,data:{},params:null,redirect:"index",redirectBack:!1,restrictByFk:null,steps:{},singular:"",plural:""});var wm=gm;function _m(t){return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Em(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function km(t,e){return(km=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cm(t);if(e){var o=Cm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(t,e){if(e&&("object"===_m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sm(t)}function Sm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cm(t){return(Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&km(t,e)}(i,t);var e,n,r,o=xm(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isDragOver:!1},e.dragOverHandler=e.handleDragOver.bind(Sm(e)),e.dragLeaveHandler=e.handleDragLeave.bind(Sm(e)),e.dropHandler=e.handleDrop.bind(Sm(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){document.addEventListener("dragover",this.dragOverHandler),document.addEventListener("dragleave",this.dragLeaveHandler),document.addEventListener("drop",this.dropHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("dragover",this.dragOverHandler),document.removeEventListener("dragleave",this.dragLeaveHandler),document.removeEventListener("drop",this.dropHandler)}},{key:"handleDragOver",value:function(t){this.setState({isDragOver:!0}),t.preventDefault()}},{key:"handleDragLeave",value:function(t){this.setState({isDragOver:!1}),t.preventDefault()}},{key:"handleDrop",value:function(t){t.preventDefault();var e=this.props.directory;if(this.setState({isDragOver:!1}),t.dataTransfer){var n=t.dataTransfer.items,r=t.dataTransfer.files;if(n)for(var o=0;o<n.length;o+=1){var i=n[o].webkitGetAsEntry();i&&this.uploadFileTree(i,e)}else r.length&&this.uploadMultiple(r,e)}}},{key:"uploadFileTree",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.isFile?t.file((function(t){".DS_Store"!==t.name&&e.upload(t,n)})):t.isDirectory&&wo.media.createDirectory(t.name,n).then((function(n){var r=n.data.data;Zt.i18nNotify("snippets.directory_created"),e.props.onCreateDirectory(r),t.createReader().readEntries((function(t){for(var n=0;n<t.length;n++)e.uploadFileTree(t[n],r.id)}))}))}},{key:"upload",value:function(t,e){var n=this;this.props.onUploadStart(t,e),Sl.queue(t,e,(function(t){n.props.onCreateFile(t),Sl.isDone()&&n.props.onUploadDone()}))}},{key:"uploadMultiple",value:function(t,e){var n=this;Sl.queueMultiple(t,e,(function(t){n.props.onCreateFile(t),Sl.isDone()&&n.props.onUploadDone()}))}},{key:"uploadProgress",value:function(t,e,n){t.loaded,t.total}},{key:"render",value:function(){return a.a.createElement("div",{className:"file-drop-zone"+(this.state.isDragOver?" file-drop-zone--drag-over":"")},this.props.children)}}])&&Em(e.prototype,n),r&&Em(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Pm,"defaultProps",{directory:null,onUploadStart:function(t,e){},onCreateFile:function(t){},onCreateDirectory:function(t){},onUploadDone:function(){}});var Rm=Pm;function Tm(t){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Am(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dm(t,e){return(Dm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fm(t);if(e){var o=Fm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(t,e){if(e&&("object"===Tm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fm(t){return(Fm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Im=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dm(t,e)}(i,t);var e,n,r,o=Nm(i);function i(){return jm(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"definition-list"},this.props.data.map((function(e,n){var r=e[2]||!1;return a.a.createElement("div",{className:"definition-list__item"+(r?" definition-list__item--editable":""),key:n,onClick:r?function(n){return t.openEditPrompt(e[0],e[1])}:null},a.a.createElement("span",{className:"definition-list__key"},st.get("snippets."+e[0])),a.a.createElement("span",{className:"definition-list__value"},e[1]||(r?a.a.createElement(W,{style:"mini",name:"edit"}):"")))})))}},{key:"openEditPrompt",value:function(t,e){var n=this;Zt.prompt({title:st.get("snippets."+t),defaultValue:e,confirm:function(e){return n.props.onPropertyChange(t,e)},confirmButtonText:st.get("snippets.save")})}}])&&Am(e.prototype,n),r&&Am(e,r),i}(a.a.Component);function Bm(t){return(Bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zm(t,e){return(zm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wm(t);if(e){var o=Wm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(t,e){if(e&&("object"===Bm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wm(t){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Im,"defaultProps",{data:[],onPropertyChange:function(t,e){}});var qm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zm(t,e)}(i,t);var e,n,r,o=Um(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={moveAction:!1},e}return e=i,(n=[{key:"deleteFile",value:function(){this.props.onDeleteFile()}},{key:"renameFile",value:function(){this.props.onRenameFile()}},{key:"moveFile",value:function(){this.setState({moveAction:!0})}},{key:"downloadFile",value:function(){window.open(this.props.file.url)}},{key:"getFileDescription",value:function(){return Au[this.props.file.mime_type]&&Au[this.props.file.mime_type].description?Au[this.props.file.mime_type].description:st.get("snippets.unknown_filetype")}},{key:"handleLabelFile",value:function(t){this.props.onLabelFile(t)}},{key:"handlePropertyChange",value:function(t,e){this.props.onChangeFileProperty(t,e)}},{key:"renderLabelSelect",value:function(){var t=this;if(Object.keys(this.props.fileLabels).length){var e={};return Object.keys(this.props.fileLabels).forEach((function(n){e[n]=t.props.fileLabels[n].name})),a.a.createElement("div",{className:"file-view__label-select"},a.a.createElement(Fn,{value:this.props.file.label,nullable:!0,nullText:st.get("snippets.no_label_selected"),options:e,onChange:function(e){return t.handleLabelFile(e)},openIcon:"edit",closeIcon:"edit"}))}return null}},{key:"renderMoveWidget",value:function(){var t=this;return this.state.moveAction?a.a.createElement(Ii,null,a.a.createElement(Qs,{directory:this.props.file.directory,onCancel:function(e){t.setState({moveAction:!1})},onConfirm:function(e){t.setState({moveAction:!1},(function(){t.props.onMoveFile(e,t.props.file.id)}))}})):null}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:p("file-view",this.props.style)},a.a.createElement("div",{className:"file-view__header"},a.a.createElement(jr,{style:["small"]},this.props.file.name),this.getFileDescription(),this.renderLabelSelect()),a.a.createElement("div",{className:"file-view__content"},a.a.createElement("div",{className:"file-view__preview"},a.a.createElement(zu,{style:"full",file:this.props.file,mediaConversion:"contain"})),a.a.createElement(Im,{data:[["uploaded",this.props.file.created_at],["modified",this.props.file.updated_at],["description",this.props.file.description,!0],["copyright",this.props.file.copyright,!0],["filesize",da(this.props.file.size)],["mimetype",this.props.file.mime_type],["visibility",this.props.file.visibility,!0],["disk",this.props.file.disk],["conversions_disk",this.props.file.conversions_disk]],onPropertyChange:function(e,n){return t.handlePropertyChange(e,n)}})),a.a.createElement("div",{className:"file-view__actions"},a.a.createElement(ve,{text:st.get("snippets.rename"),onClick:this.renameFile.bind(this),style:["secondary","full"]}),a.a.createElement(ve,{text:st.get("snippets.move"),onClick:this.moveFile.bind(this),style:["secondary","full"]}),a.a.createElement(ve,{text:st.get("snippets.download"),onClick:this.downloadFile.bind(this),style:["secondary","full"]})),a.a.createElement("div",{className:"file-view__footer"},a.a.createElement(ve,{text:st.get("snippets.delete_file"),onClick:this.deleteFile.bind(this),style:["full"]})),this.renderMoveWidget())}}])&&Mm(e.prototype,n),r&&Mm(e,r),i}(a.a.Component);function Hm(t){return(Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jm(t,e){return(Jm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gm(t);if(e){var o=Gm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(t,e){if(e&&("object"===Hm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gm(t){return(Gm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(qm,"defaultProps",{file:{},fileLabels:{},style:[],onDeleteFile:function(){},onRenameFile:function(){},onLabelFile:function(t){},onMoveFile:function(){},onChangeFileProperty:function(t,e){}});var Xm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jm(t,e)}(i,t);var e,n,r,o=$m(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={moveAction:!1},e}return e=i,(n=[{key:"deleteFiles",value:function(){this.props.onDeleteFiles()}},{key:"moveFiles",value:function(){this.setState({moveAction:!0})}},{key:"openPropertyEditPrompt",value:function(t,e){var n=this,r=t.toLowerCase();Zt.prompt({title:"Update "+r+" of "+this.props.files.length+" files",text:"Careful! The current "+r+" of "+this.props.files.length+" files will be overwritten with this new "+r+".",defaultValue:e,confirm:function(e){return n.props.onChangeFilesProperty(t,e)},confirmButtonText:"Save"})}},{key:"renderMoveWidget",value:function(){var t=this;return this.state.moveAction?a.a.createElement(Ii,null,a.a.createElement(Qs,{directory:this.props.files[0].directory?this.props.files[0].directory.id:null,onCancel:function(e){t.setState({moveAction:!1})},onConfirm:function(e){t.setState({moveAction:!1},(function(){var n=t.props.files.map((function(t){return t.id}));t.props.onMoveFiles(e,n)}))}})):null}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:p("multi-file-view",this.props.style)},a.a.createElement("div",{className:"multi-file-view__header"},a.a.createElement(jr,{style:["small"]},this.props.files.length," files selected")),a.a.createElement("div",{className:"multi-file-view__actions"},a.a.createElement(ve,{text:"Update description",style:["small","secondary","full"],onClick:function(e){return t.openPropertyEditPrompt("Description","")}}),a.a.createElement(ve,{text:"Update copyright",style:["small","secondary","full"],onClick:function(e){return t.openPropertyEditPrompt("Copyright","")}})),a.a.createElement("div",{className:"multi-file-view__content"},this.props.files.map((function(t,e){return a.a.createElement(is,{file:t,key:e})}))),a.a.createElement("div",{className:"multi-file-view__actions"},a.a.createElement(ve,{text:"Move ".concat(this.props.files.length," files"),onClick:this.moveFiles.bind(this),style:["secondary","full"]})),a.a.createElement("div",{className:"multi-file-view__footer"},a.a.createElement(ve,{text:"Delete ".concat(this.props.files.length," files"),style:["full"],onClick:this.deleteFiles.bind(this)})),this.renderMoveWidget())}}])&&Km(e.prototype,n),r&&Km(e,r),i}(a.a.Component);function Ym(t){return(Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zm(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ey(t,e){return(ey=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ny(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oy(t);if(e){var o=oy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ry(this,n)}}function ry(t,e){if(e&&("object"===Ym(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function oy(t){return(oy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Xm,"defaultProps",{files:[],style:[],onDeleteFiles:function(){},onMoveFiles:function(t,e){},onChangeFilesProperty:function(t,e){}});var iy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ey(t,e)}(s,t);var e,n,r,o,i,u=ny(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=u.call(this,t)).state={isLoading:!0,directories:[],files:[],currentDirectory:null,currentFile:null,selectedFiles:[],selectedFileIds:[],directoryPath:[],fileBrowserViewMode:"list"},e}return e=s,(n=[{key:"componentDidUpdate",value:function(t){this.props.path.params.directory&&this.props.path.params.directory!==t.path.params.directory?this.load(this.props.path.params.directory):this.props.path.params.directory!==t.path.params.directory&&this.load()}},{key:"componentDidMount",value:function(){this.props.path.params.directory?this.load(this.props.path.params.directory):this.load()}},{key:"load",value:(o=ju.a.mark((function t(){var e,n=this,r=arguments;return ju.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,t.next=3,lo.a.all([wo.media.path(e),wo.media.loadDirectories(e),wo.media.loadFiles(e)]).then(lo.a.spread((function(t,e,r){var o=t.data.data,i=e.data.data,a=r.data.data;n.setState({isLoading:!1,directoryPath:o,currentDirectory:o[o.length-1],directories:i,files:a})})));case 3:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Zm(i,n,r,a,u,"next",t)}function u(t){Zm(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"refresh",value:function(){this.props.path.params.directory?this.load(this.props.path.params.directory):this.load()}},{key:"openDirectory",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?c.goTo(this.props.path.module,this.props.path.action,{directory:t}):c.goTo(this.props.path.module,this.props.path.action)}},{key:"handleSelectionChange",value:function(t,e){e.length?1===e.length?this.setState({currentFile:e[0],selectedFiles:e,selectedFileIds:t}):this.setState({currentFile:null,selectedFiles:e,selectedFileIds:t}):this.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]})}},{key:"handleDeleteDirectory",value:function(t){var e=this;wo.media.deleteDirectory(t).then((function(t){e.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]},(function(){Zt.i18nNotify("snippets.directory_deleted"),e.refresh()}))}),(function(t){Zt.i18nNotify("snippets.directory_not_deleted")}))}},{key:"handleRenameDirectory",value:function(t,e){var n=this;t&&wo.media.renameDirectory(t,e).then((function(t){Zt.i18nNotify("snippets.directory_renamed"),n.refresh()}),(function(t){Zt.i18nNotify("snippets.changes_successful")}))}},{key:"handleRenameFile",value:function(t,e){var n=this;t&&wo.media.renameFile(t,e).then((function(t){Zt.i18nNotify("snippets.file_renamed"),n.refresh()}),(function(t){Zt.i18nNotify("snippets.changes_successful")}))}},{key:"handleDeleteFile",value:function(t){var e=this;wo.media.deleteFile(t).then((function(t){e.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]},(function(){Zt.i18nNotify("snippets.file_deleted"),e.refresh()}))}),(function(t){Zt.notify(st.get("snippets.file_not_deleted"))}))}},{key:"handleDeleteFiles",value:function(t){var e=this;wo.media.deleteFiles(t).then((function(n){e.setState({currentFile:null,selectedFiles:[],selectedFileIds:[]},(function(){Zt.i18nNotify("snippets.amount_files_deleted",{amount:t.length}),e.refresh()}))}),(function(t){Zt.i18nNotify("snippets.files_not_deleted")}))}},{key:"handleLabelFile",value:function(t,e){var n=this;wo.media.labelFile(t,e).then((function(t){n.setState({currentFile:t.data.data},(function(){Zt.i18nNotify("snippets.changes_successful"),n.refresh()}))}),(function(t){Zt.i18nNotify("snippets.changes_successful")}))}},{key:"handleChangeFileProperty",value:function(t,e,n){var r=this;["visibility","description","copyright"].includes(t)&&(0,wo.media["updateFile"+Gt(t)])(e,n).then((function(t){r.setState({currentFile:t.data.data},(function(){Zt.notify(st.get("snippets.changes_successful")),r.refresh()}))}),(function(t){Zt.notify(st.get("snippets.changes_unsuccessful"))}))}},{key:"handleChangeFilesProperty",value:function(t,e,n){var r=this;["description","copyright"].includes(t)&&(0,wo.media["updateFiles"+Gt(t)])(e,n).then((function(t){Zt.notify(st.get("snippets.changes_successful")),r.refresh()}),(function(t){Zt.notify(st.get("snippets.changes_unsuccessful"))}))}},{key:"handleMoveDirectory",value:function(t,e){var n=this;wo.media.moveDirectory(t,e).then((function(t){Zt.notify(st.get("snippets.directory_moved")),n.refresh()}),(function(t){Zt.notify(st.get("snippets.changes_unsuccessful"))}))}},{key:"handleMoveFile",value:function(t,e){var n=this;wo.media.moveFile(t,e).then((function(t){Zt.notify(st.get("snippets.file_moved")),n.refresh()}),(function(t){Zt.notify(st.get("snippets.changes_unsuccessful"))}))}},{key:"handleMoveFiles",value:function(t,e){var n=this;wo.media.moveFiles(t,e).then((function(t){Zt.notify(st.get("snippets.files_moved")),n.refresh()}),(function(t){Zt.notify(st.get("snippets.changes_unsuccessful"))}))}},{key:"handleOpenFile",value:function(t){window.open(t.url)}},{key:"handleUploadDone",value:function(){this.refresh()}},{key:"handleCreateDirectory",value:function(t){(!this.props.path.params.directory&&!t.directory||t.directory&&this.props.path.params.directory&&t.directory.id===this.props.path.params.directory)&&this.refresh()}},{key:"promptCreateDirectory",value:function(){var t=this;Zt.prompt({title:st.get("snippets.new_directory_title"),confirmButtonText:st.get("snippets.create"),cancelButtonText:st.get("snippets.cancel"),confirm:function(e){wo.media.createDirectory(e,t.props.path.params.directory).then((function(){Zt.notify(st.get("snippets.directory_created")),t.refresh()}))}})}},{key:"confirmDeleteFiles",value:function(t,e){var n=this;Zt.confirm({title:st.get("snippets.delete_files_title",{amount:t.length}),text:st.get("snippets.delete_files_text"),confirmButtonText:st.get("snippets.delete_files_confirm",{amount:t.length}),cancelButtonText:st.get("snippets.delete_files_cancel"),confirm:function(){return n.handleDeleteFiles(t)}})}},{key:"changeFileBrowserViewMode",value:function(t){this.setState({fileBrowserViewMode:t})}},{key:"renderBreadcrumbs",value:function(){var t=this;return a.a.createElement(El,{items:this.state.directoryPath,onClick:function(e){e?t.openDirectory(e.id):t.openDirectory()}})}},{key:"renderSidebar",value:function(){var t=this;return this.state.currentFile?a.a.createElement(qm,{file:this.state.currentFile,fileLabels:this.props.fileLabels,onLabelFile:function(e){return t.handleLabelFile(e,t.state.currentFile.id)},onChangeFileProperty:function(e,n){return t.handleChangeFileProperty(e,n,t.state.currentFile.id)},onDeleteFile:function(){Zt.confirm({title:st.get("snippets.delete_file_title"),text:st.get("snippets.delete_file_text"),confirmButtonText:st.get("snippets.delete_file_confirm"),cancelButtonText:st.get("snippets.delete_file_cancel"),confirm:function(){return t.handleDeleteFile(t.state.currentFile.id)}})},onRenameFile:function(){Zt.prompt({title:st.get("snippets.rename_file_title"),defaultValue:t.state.currentFile.name,confirmButtonText:st.get("snippets.rename_file_confirm"),cancelButtonText:st.get("snippets.rename_file_cancel"),confirm:function(e){wo.media.renameFile(e,t.state.currentFile.id).then((function(e){t.setState({currentFile:e.data.data},(function(){Zt.notify(st.get("snippets.file_renamed")),t.refresh()}))}))}})},onMoveFile:this.handleMoveFile.bind(this)}):this.state.selectedFiles.length?a.a.createElement(Xm,{files:this.state.selectedFiles,onDeleteFiles:function(){return t.confirmDeleteFiles(t.state.selectedFileIds,t.state.selectedFiles)},onChangeFilesProperty:function(e,n){return t.handleChangeFilesProperty(e,n,t.state.selectedFileIds)},onMoveFiles:this.handleMoveFiles.bind(this)}):null}},{key:"renderContent",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"view-media-directory__main"},a.a.createElement(Rm,{directory:this.state.currentDirectory?this.state.currentDirectory.id:null,onCreateDirectory:this.handleCreateDirectory.bind(this),onUploadDone:this.handleUploadDone.bind(this)},a.a.createElement(hl,{viewMode:this.state.fileBrowserViewMode,currentDirectory:this.state.currentDirectory,directories:this.state.directories,files:this.state.files,fileLabels:this.props.fileLabels,selectedFiles:this.state.selectedFiles,selectedFileIds:this.state.selectedFileIds,onDirectoryClick:this.openDirectory.bind(this),onDirectoryDelete:this.handleDeleteDirectory.bind(this),onDirectoryRename:this.handleRenameDirectory.bind(this),onDirectoryMove:this.handleMoveDirectory.bind(this),onFileDelete:this.handleDeleteFile.bind(this),onFileRename:this.handleRenameFile.bind(this),onFileOpen:this.handleOpenFile.bind(this),onFileMove:this.handleMoveFile.bind(this),onSelectionMove:this.handleMoveFiles.bind(this),onSelectionChange:this.handleSelectionChange.bind(this),onSelectionDelete:this.confirmDeleteFiles.bind(this)}))),a.a.createElement("div",{className:"view-media-directory__side"},this.renderSidebar()))}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"view-media-directory"+(this.state.isLoading?" view-media-directory--loading":"")+(this.state.isDragOver?" view-media-directory--drag-over":"")},a.a.createElement("div",{className:"view-media-directory__header"},a.a.createElement("div",{className:"view-media-directory__header-title"},a.a.createElement(wu,{style:["primary","small"],openIcon:"folder",closeIcon:"folder"},a.a.createElement(zs,{selectedDirectory:this.state.currentDirectory?this.state.currentDirectory.id:null,onDirectoryClick:function(e){return t.openDirectory(e)}})),this.renderBreadcrumbs()),a.a.createElement("div",{className:"view-media-directory__header-options"},a.a.createElement(bn,{name:"view_list",onClick:function(e){return t.changeFileBrowserViewMode("list")}}),a.a.createElement(bn,{name:"grid_view",onClick:function(e){return t.changeFileBrowserViewMode("grid")}}),a.a.createElement(ve,{style:["secondary","small"],onClick:this.promptCreateDirectory.bind(this),text:st.get("snippets.new_directory")}),a.a.createElement(wu,{text:st.get("snippets.upload"),style:["primary","small"],autoClose:!0},a.a.createElement(Nl,{directory:this.state.currentDirectory?this.state.currentDirectory.id:null,onUploadDone:this.handleUploadDone.bind(this)})))),a.a.createElement("div",{className:"view-media-directory__content"},this.state.isLoading?null:this.renderContent()))}}])&&ty(e.prototype,n),r&&ty(e,r),s}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(iy,"defaultProps",{type:"",path:{},id:0,data:{},fileLabels:{}});var ay=iy;function uy(t){return(uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ly(t,e){return(ly=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=py(t);if(e){var o=py(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fy(this,n)}}function fy(t,e){if(e&&("object"===uy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function py(t){return(py=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ly(t,e)}(i,t);var e,n,r,o=cy(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).props.params&&(e.props.path.params=e.props.params),e}return e=i,(n=[{key:"render",value:function(){var t=Bd.renderComponents(this.props.components,{},this.props.path);return a.a.createElement("div",{className:"dashboard"},t)}}])&&sy(e.prototype,n),r&&sy(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(dy,"defaultProps",{components:[],path:{},params:null,type:""});var hy={index:bh,edit:Sh,create:Nh,"create-wizard":wm,delete:Vh,view:Gh,dashboard:dy,export:om,"custom-controller":pm,"view-media-directory":ay};function my(){return(my=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var yy={renderAction:function(t,e,n){if(t){var r=hy[t.type];return a.a.createElement(r,my({},t,{path:n,data:e,key:n.action}))}}};function vy(t){return(vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function by(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return(wy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ky(t);if(e){var o=ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ey(this,n)}}function Ey(t,e){if(e&&("object"===vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ky(t){return(ky=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wy(t,e)}(i,t);var e,n,r,o=_y(i);function i(){return by(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"renderHeader",value:function(){var t=this,e=[];return this.props.action.header&&this.props.action.header.forEach((function(n,r){e.push(a.a.createElement("div",{className:"module__header-component",key:r},Bd.renderComponent(n,{},t.props.path)))})),a.a.createElement("div",{className:"module__header"},a.a.createElement("div",{className:"module__title"},a.a.createElement(jr,null,this.props.action.title||this.props.title)),a.a.createElement("div",{className:"module__header-components"},e))}},{key:"render",value:function(){return a.a.createElement("div",{className:"module"},this.renderHeader(),a.a.createElement("div",{className:"module__main"},yy.renderAction(this.props.action,{},this.props.path)))}}])&&gy(e.prototype,n),r&&gy(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(xy,"defaultProps",{path:{},action:{}});var Oy=xy;function Sy(t){return(Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Py(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return(Ry=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ty(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ay(t);if(e){var o=Ay(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jy(this,n)}}function jy(t,e){if(e&&("object"===Sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ay(t){return(Ay=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ry(t,e)}(i,t);var e,n,r,o=Ty(i);function i(){return Cy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return"Loading..."}}])&&Py(e.prototype,n),r&&Py(e,r),i}(a.a.Component);function Ny(t){return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ly(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iy(t,e){return(Iy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function By(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zy(t);if(e){var o=zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return My(this,n)}}function My(t,e){if(e&&("object"===Ny(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zy(t){return(zy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iy(t,e)}(i,t);var e,n,r,o=By(i);function i(){return Ly(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"logo"},a.a.createElement("div",{className:"logo__emblem"},this.props.name[0]),a.a.createElement("div",{className:"logo__name"},this.props.name,a.a.createElement("br",null),a.a.createElement("span",null,"CMF")))}}])&&Fy(e.prototype,n),r&&Fy(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Uy,"defaultProps",{name:"CMF"});var Vy=Uy;function Wy(t){return(Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ky(t,e){return(Ky=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qy(t);if(e){var o=Qy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $y(this,n)}}function $y(t,e){if(e&&("object"===Wy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qy(t){return(Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ky(t,e)}(i,t);var e,n,r,o=Jy(i);function i(){return qy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"page"},a.a.createElement("div",{className:"page__visual"},a.a.createElement("div",{className:"hero"},st.get("snippets.baseline"))),a.a.createElement("div",{className:"page__content"},a.a.createElement("div",{className:"page__logo"},a.a.createElement(Vy,{name:this.props.title})),a.a.createElement("div",{className:"page__box"},this.props.children)))}}])&&Hy(e.prototype,n),r&&Hy(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Gy,"defaultProps",{title:"CMF"});var Xy=Gy;function Yy(t){return(Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tv(t,e){return(tv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rv(t);if(e){var o=rv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nv(this,n)}}function nv(t,e){if(e&&("object"===Yy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rv(t){return(rv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ov=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tv(t,e)}(i,t);var e,n,r,o=ev(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).formRef=a.a.createRef(),e}return e=i,(n=[{key:"loginAttempt",value:function(t){var e=this;wo.auth.login(t.email,t.password).then((function(t){e.props.onSuccess(t.data.data)}),(function(t){e.formRef.current.ready(),e.props.onFail()}))}},{key:"render",value:function(){return a.a.createElement(Xy,{title:this.props.title},a.a.createElement("div",{className:"login"},a.a.createElement(Ri,{ref:this.formRef,onSubmit:this.loginAttempt.bind(this),submitButtonText:st.get("snippets.login")},a.a.createElement(Ut,{name:"email",label:st.get("snippets.email_address")}),a.a.createElement(Ut,{name:"password",label:st.get("snippets.password"),htmlType:"password"}))))}}])&&Zy(e.prototype,n),r&&Zy(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ov,"defaultProps",{title:"CMF",onSuccess:function(t){},onFail:function(){}});var iv=ov;function av(t){return(av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e){return(lv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pv(t);if(e){var o=pv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fv(this,n)}}function fv(t,e){if(e&&("object"===av(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pv(t){return(pv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lv(t,e)}(i,t);var e,n,r,o=cv(i);function i(){return uv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"logout",value:function(){var t=this;wo.auth.logout().then((function(e){t.props.onLogout()}),(function(t){}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"user-panel"},a.a.createElement("div",{className:"user-panel__avatar"},a.a.createElement(W,{name:"person"})),a.a.createElement("div",{className:"user-panel__name"},this.props.user.name),a.a.createElement("div",{className:"user-panel__actions"},a.a.createElement(wu,{text:st.get("snippets.logout")},a.a.createElement(ve,{onClick:this.logout.bind(this),style:"full",text:st.get("snippets.logout_confirm")}))))}}])&&sv(e.prototype,n),r&&sv(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(dv,"defaultProps",{user:{id:0,name:"",email:""},onLogout:function(){}});var hv=dv;function mv(t){return(mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return(bv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_v(t);if(e){var o=_v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wv(this,n)}}function wv(t,e){if(e&&("object"===mv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _v(t){return(_v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ev=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bv(t,e)}(i,t);var e,n,r,o=gv(i);function i(){return yv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"module"},a.a.createElement("div",{className:"module__header"},a.a.createElement("div",{className:"module__title"},a.a.createElement(jr,null,"Not found"))),a.a.createElement("div",{className:"module__main"},"Are you sure you're trying to access the correct URL? No module or action was found for this request."))}}])&&vv(e.prototype,n),r&&vv(e,r),i}(a.a.Component);function kv(t){return(kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xv(){return(xv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ov(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sv(t,e){return(Sv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tv(t);if(e){var o=Tv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pv(this,n)}}function Pv(t,e){if(e&&("object"===kv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rv(t)}function Rv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tv(t){return(Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sv(t,e)}(i,t);var e,n,r,o=Cv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).state={isAuthenticating:!0,isLoading:!0,isLoggedIn:!1,isError:!1,isNavOpen:!1,user:{},modules:[],path:{},module:null,action:null},c.setCmf(Rv(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this;wo.auth.user().then((function(e){var n=e.data.data;t.onAuthSuccess(n)}),(function(e){t.setState({isAuthenticating:!1})}))}},{key:"componentDidUpdate",value:function(t,e,n){var r=this;if(c.forceRefresh||this.state.path.module!==c.currentPath.module||this.state.path.action!==c.currentPath.action||!d(this.state.path.params,c.currentPath.params)){for(var o=null,i=0;i<this.state.modules.length;i++){if(this.state.modules[i].id===c.currentPath.module){o=this.state.modules[i];break}for(var a=0;a<this.state.modules[i].submodules.length;a++)if(this.state.modules[i].submodules[a].id===c.currentPath.module){o=this.state.modules[i].submodules[a];break}}wo.modules.action(c.currentPath,c.currentPath.params).then((function(t){f(),r.setState({isLoading:!1,isError:!1,path:c.currentPath,module:o,action:t.data.data})})).catch((function(t){r.setState({isLoading:!1,isError:!0,path:c.currentPath})}))}}},{key:"setLoadingState",value:function(){this.setState({isLoading:!0})}},{key:"getVersion",value:function(){return l.get("cmf:version")}},{key:"onAuthSuccess",value:function(t){var e=this;this.setState({isLoggedIn:!0,isAuthenticating:!1,user:t}),wo.modules.index().then((function(t){var n=t.data.data;e.setState({modules:n},(function(){e.bindPopState(),e.goToRequestedModule()}))}))}},{key:"toggleNavigation",value:function(){this.setState({isNavOpen:!this.state.isNavOpen}),document.body.classList.toggle("open-nav")}},{key:"onLoginSuccess",value:function(t){Zt.notify(st.get("snippets.welcome_back",{name:t.name})),this.onAuthSuccess(t)}},{key:"onLoginFail",value:function(){Zt.notify(st.get("snippets.login_failed"))}},{key:"bindPopState",value:function(){var t=this;window.onpopstate=function(e){return t.goToRequestedModule()}}},{key:"goToRequestedModule",value:function(){var t=c.parseLocation(window.location),e=t.module||this.state.modules[0].id,n=t.action||"index";c.update(e,n,t.params)}},{key:"goToIndex",value:function(){c.goTo(this.state.modules[0].id,"index")}},{key:"onLogout",value:function(){this.setState({isLoggedIn:!1}),Zt.notify("User logged out")}},{key:"getUserPanel",value:function(){return a.a.createElement(hv,{user:this.state.user,onLogout:this.onLogout.bind(this)})}},{key:"render",value:function(){return this.state.isAuthenticating?a.a.createElement(Dy,null):this.state.isLoggedIn?(this.state.isError?t=a.a.createElement(Ev,null):this.state.isLoading||(t=a.a.createElement(Oy,xv({},this.state.module,{action:this.state.action,path:this.state.path,key:this.state.module.id}))),a.a.createElement("div",{className:"cmf"},a.a.createElement("div",{className:"cmf__header"},a.a.createElement("button",{className:"cmf__logo",onClick:this.goToIndex.bind(this)},a.a.createElement(Vy,{name:this.props.title})),a.a.createElement("div",{className:"cmf__user"},this.getUserPanel())),a.a.createElement("div",{className:"cmf__main"},a.a.createElement("div",{className:"cmf__nav"},a.a.createElement(vt,{modules:this.state.modules,activeModule:this.state.module})),a.a.createElement("div",{className:"cmf__content"},a.a.createElement("div",{className:"cmf__module"},t),a.a.createElement("div",{className:"cmf__footer"}," ",this.props.title,"  CMF ",this.getVersion()))),a.a.createElement("button",{className:"cmf__nav-trigger",onClick:this.toggleNavigation.bind(this)},a.a.createElement(W,{style:"medium",name:this.state.isNavOpen?"close":"menu"})))):a.a.createElement(iv,{title:this.props.title,onSuccess:this.onLoginSuccess.bind(this),onFail:this.onLoginFail.bind(this)});var t}}])&&Ov(e.prototype,n),r&&Ov(e,r),i}(a.a.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(jv,"defaultProps",{title:"CMF"});var Av=jv,Dv=document.querySelector(".cmf-mount");Dv&&o.a.render(a.a.createElement(Av,{title:Dv.dataset.title}),Dv)},endd:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},eqyj:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var u=[];u.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},g7np:function(t,e,n){"use strict";var r=n("2SVd"),o=n("5oMp");t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},i8i4:function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=n("yl30")},"jfS+":function(t,e,n){"use strict";var r=n("endd");function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},ls82:function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===c)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var c={};function f(){}function p(){}function d(){}var h={};u(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==e&&n.call(y,o)&&(h=y);var v=d.prototype=f.prototype=Object.create(h);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,u){var s=l(t[o],t,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,u(v,"constructor",d),u(d,"constructor",p),p.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),u(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),u(v,a,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},o0o1:function(t,e,n){t.exports=n("ls82")},pyCd:function(t,e){},q1tI:function(t,e,n){"use strict";t.exports=n("viRO")},rX62:function(t,e,n){(function(r){var o,i;(function(){}).call(this),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype.delete=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(e){function n(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void p((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)})))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void c(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,s(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&setTimeout((function(){t._handled||d(t._value)}),1);for(var e=0,n=t._deferreds.length;n>e;e++)i(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function c(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(t){if(n)return;n=!0,u(e,t)}}var f=setTimeout,p="function"==typeof r&&r||function(t){f(t,1)},d=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var r=new o(n);return i(this,new l(t,e,r)),r},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){r(i,t)}),n)}e[i]=a,0==--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var r=0,o=t.length;o>r;r++)t[r].then(e,n)}))},o._setImmediateFn=function(t){p=t},o._setUnhandledRejectionFn=function(t){d=t},t.exports?t.exports=o:e.Promise||(e.Promise=o)}(this),function(){var t="object"==typeof window.customElements,e="function"==typeof document.registerElement;t||e||("undefined"==typeof WeakMap&&function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};n.prototype={set:function(e,n){var r=e[this.name];return r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=n}(),function(t){function e(t){v.push(t),y||(y=!0,c(n))}function n(){y=!1;var t=v;v=[],t.sort((function(t,e){return t.uid_-e.uid_}));var e=!1;t.forEach((function(t){var n=t.takeRecords();(function(t){t.nodes_.forEach((function(e){var n=f.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))})(t),n.length&&(t.callback_(n,t),e=!0)})),e&&n()}function r(t,e){for(var n=t;n;n=n.parentNode){var r=f.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o],a=i.options;if(n===t||a.subtree){var u=e(a);u&&i.enqueue(u)}}}}function o(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++b}function i(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function a(t,e){return h=new i(t,e)}function u(t){return m||((m=function(t){var e=new i(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}(h)).oldValue=t,m)}function s(t,e){return t===e?t:m&&function(t){return t===m||t===h}(t)?m:null}function l(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var c,f=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))c=setTimeout;else if(window.setImmediate)c=window.setImmediate;else{var p=[],d=String(Math.random());window.addEventListener("message",(function(t){if(t.data===d){var e=p;p=[],e.forEach((function(t){t()}))}})),c=function(t){p.push(t),window.postMessage(d,"*")}}var h,m,y=!1,v=[],b=0;o.prototype={observe:function(t,e){if(t=function(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n=f.get(t);n||f.set(t,n=[]);for(var r,o=0;o<n.length;o++)if(n[o].observer===this){(r=n[o]).removeListeners(),r.options=e;break}r||(r=new l(this,t,e),n.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach((function(t){for(var e=f.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},l.prototype={enqueue:function(t){var n=this.observer.records_,r=n.length;if(n.length>0){var o=s(n[r-1],t);if(o)return void(n[r-1]=o)}else e(this.observer);n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=f.get(t);e||f.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=f.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,o=t.target;(s=new a("attributes",o)).attributeName=e,s.attributeNamespace=n;var i=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;r(o,(function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?u(i):s}));break;case"DOMCharacterDataModified":var s=a("characterData",o=t.target);i=t.prevValue;r(o,(function(t){return t.characterData?t.characterDataOldValue?u(i):s:void 0}));break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var l,c,f=t.target;"DOMNodeInserted"===t.type?(l=[f],c=[]):(l=[],c=[f]);var p=f.previousSibling,d=f.nextSibling;(s=a("childList",t.target.parentNode)).addedNodes=l,s.removedNodes=c,s.previousSibling=p,s.nextSibling=d,r(t.relatedNode,(function(t){return t.childList?s:void 0}))}h=m=void 0}},t.JsMutationObserver=o,t.MutationObserver||(t.MutationObserver=o,o._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?function(e){return t((function(){e(performance.now())}))}:function(t){return window.setTimeout(t,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}),!function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}()){var e=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(e.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var n=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||n&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||n&&"function"!=typeof window.Event){var r=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=r.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[];t.addModule=function(t){n.push(t)},t.initializeModules=function(){n.forEach((function(e){e(t)}))},t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule((function(t){function e(t,e){(function t(e,n,r){var o=e.firstElementChild;if(!o)for(o=e.firstChild;o&&o.nodeType!==Node.ELEMENT_NODE;)o=o.nextSibling;for(;o;)!0!==n(o,r)&&t(o,n,r),o=o.nextElementSibling;return null})(t,(function(t){return!!e(t)||void n(t,e)})),n(t,e)}function n(t,n){for(var r=t.shadowRoot;r;)e(r,n),r=r.olderShadowRoot}var r=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=function(t,e){!function t(e,n,o){if(e=window.wrap(e),!(o.indexOf(e)>=0)){o.push(e);for(var i,a=e.querySelectorAll("link[rel="+r+"]"),u=0,s=a.length;s>u&&(i=a[u]);u++)i.import&&t(i.import,n,o);n(e)}}(t,e,[])},t.forSubtree=e})),window.CustomElements.addModule((function(t){function e(t,e){return n(t,e)||r(t,e)}function n(e,n){return!!t.upgrade(e,n)||void(n&&a(e))}function r(t,e){h(t,(function(t){return!!n(t,e)||void 0}))}function o(t){b.push(t),v||(v=!0,setTimeout(i))}function i(){v=!1;for(var t,e=b,n=0,r=e.length;r>n&&(t=e[n]);n++)t();b=[]}function a(t){y?o((function(){u(t)})):u(t)}function u(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function s(t){y?o((function(){l(t)})):l(t)}function l(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function c(t,n){if(d.dom){var r=n[0];if(r&&"childList"===r.type&&r.addedNodes&&r.addedNodes){for(var o=r.addedNodes[0];o&&o!==document&&!o.host;)o=o.parentNode;var i=o&&(o.URL||o._URL||o.host&&o.host.localName)||"";i=i.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,i||"")}var a=function(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}(t);n.forEach((function(t){"childList"===t.type&&(g(t.addedNodes,(function(t){t.localName&&e(t,a)})),g(t.removedNodes,(function(t){t.localName&&function(t){s(t),h(t,(function(t){s(t)}))}(t)})))})),d.dom&&console.groupEnd()}function f(t){if(!t.__observer){var e=new MutationObserver(c.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function p(t){t=window.wrap(t),d.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop()),e(t,t===window.wrap(document)),f(t),d.dom&&console.groupEnd()}var d=t.flags,h=t.forSubtree,m=t.forDocumentTree,y=window.MutationObserver._isPolyfilled&&d["throttle-attached"];t.hasPolyfillMutations=y,t.hasThrottledAttached=y;var v=!1,b=[],g=Array.prototype.forEach.call.bind(Array.prototype.forEach),w=Element.prototype.createShadowRoot;w&&(Element.prototype.createShadowRoot=function(){var t=w.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=function(t){if(t.shadowRoot&&!t.shadowRoot.__watched){d.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)f(e),e=e.olderShadowRoot}},t.upgradeDocumentTree=function(t){m(t,p)},t.upgradeDocument=p,t.upgradeSubtree=r,t.upgradeAll=e,t.attached=a,t.takeRecords=function(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(c(t,e.takeRecords()),i())}})),window.CustomElements.addModule((function(t){function e(e,o,i){return r.upgrade&&console.group("upgrade:",e.localName),o.is&&e.setAttribute("is",o.is),n(e,o),e.__upgraded__=!0,function(t){t.createdCallback&&t.createdCallback()}(e),i&&t.attached(e),t.upgradeSubtree(e,i),r.upgrade&&console.groupEnd(),e}function n(t,e){Object.__proto__||function(t,e,n){for(var r={},o=e;o!==n&&o!==HTMLElement.prototype;){for(var i,a=Object.getOwnPropertyNames(o),u=0;i=a[u];u++)r[i]||(Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i)),r[i]=1);o=Object.getPrototypeOf(o)}}(t,e.prototype,e.native),t.__proto__=e.prototype}var r=t.flags;t.upgrade=function(n,r){if("template"===n.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(n),!n.__upgraded__&&n.nodeType===Node.ELEMENT_NODE){var o=n.getAttribute("is"),i=t.getRegisteredDefinition(n.localName)||t.getRegisteredDefinition(o);if(i&&(o&&i.tag==n.localName||!o&&!i.extends))return e(n,i,r)}},t.upgradeWithDefinition=e,t.implementPrototype=n})),window.CustomElements.addModule((function(t){function e(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,r){n.call(this,t,r,e)};var r=t.removeAttribute;t.removeAttribute=function(t){n.call(this,t,null,r)},t.setAttribute._polyfilled=!0}}function n(t,e,n){t=t.toLowerCase();var r=this.getAttribute(t);n.apply(this,arguments);var o=this.getAttribute(t);this.attributeChangedCallback&&o!==r&&this.attributeChangedCallback(t,r,o)}function r(t){return t?h[t.toLowerCase()]:void 0}function o(t){return function(){return function(t){return c(y(t.tag),t)}(t)}}function i(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n,o=r(e||t);if(o){if(t==o.tag&&e==o.is)return new o.ctor;if(!e&&!o.is)return new o.ctor}return e?((n=i(t)).setAttribute("is",e),n):(n=y(t),t.indexOf("-")>=0&&f(n,HTMLElement),n)}function a(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return l(t),t}}var u,s=(t.isIE,t.upgradeDocumentTree),l=t.upgradeAll,c=t.upgradeWithDefinition,f=t.implementPrototype,p=t.useNative,d=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],h={},m="http://www.w3.org/1999/xhtml",y=document.createElement.bind(document),v=document.createElementNS.bind(document);u=Object.__proto__||p?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},a(Node.prototype,"cloneNode"),a(document,"importNode"),document.registerElement=function(n,i){var a=i||{};if(!n)throw new Error("document.registerElement: first argument `name` must not be empty");if(n.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(n)+"'.");if(function(t){for(var e=0;e<d.length;e++)if(t===d[e])return!0}(n))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(n)+"'. The type name is invalid.");if(r(n))throw new Error("DuplicateDefinitionError: a type with name '"+String(n)+"' is already registered");return a.prototype||(a.prototype=Object.create(HTMLElement.prototype)),a.__name=n.toLowerCase(),a.extends&&(a.extends=a.extends.toLowerCase()),a.lifecycle=a.lifecycle||{},a.ancestry=function t(e){var n=r(e);return n?t(n.extends).concat([n]):[]}(a.extends),function(t){for(var e,n=t.extends,r=0;e=t.ancestry[r];r++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}(a),function(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var r,o=t.prototype,i=!1;o;)o==e&&(i=!0),(r=Object.getPrototypeOf(o))&&(o.__proto__=r),o=r;i||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t.native=e}}(a),e(a.prototype),function(t,e){h[t]=e}(a.__name,a),a.ctor=o(a),a.ctor.prototype=a.prototype,a.prototype.constructor=a.ctor,t.ready&&s(document),a.ctor},document.createElement=i,document.createElementNS=function(t,e,n){return t===m?i(e,n):v(t,e)},t.registry=h,t.instanceof=u,t.reservedTagList=d,t.getRegisteredDefinition=r,document.register=document.registerElement})),function(t){function e(){i(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})((function(){setTimeout((function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}))}))}var n=t.useNative,r=t.initializeModules;if(t.isIE,n){var o=function(){};t.watchShadow=o,t.upgrade=o,t.upgradeAll=o,t.upgradeDocumentTree=o,t.upgradeSubtree=o,t.takeRecords=o,t.instanceof=function(t,e){return t instanceof e}}else r();var i=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t.import&&a(wrap(t.import))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var u=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(u,e)}else e()}(window.CustomElements))}.call(this),function(){}.call(this),function(){(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"",OBJECT_REPLACEMENT_CHARACTER:"",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var t,e,n;if("undefined"==typeof InputEvent)return!1;for(t=0,e=(n=["data","getTargetRanges","inputType"]).length;e>t;t++)if(!(n[t]in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(this);var r=this.Trix;(function(){(function(){r.BasicObject=function(){function t(){}var e,n,r;return t.proxyMethod=function(t){var r,o,i,a,u;return i=n(t),r=i.name,a=i.toMethod,u=i.toProperty,o=i.optional,this.prototype[r]=function(){var t,n;return t=null!=a?o?"function"==typeof this[a]?this[a]():void 0:this[a]():null!=u?this[u]:void 0,o?null!=(n=null!=t?t[r]:void 0)?e.call(n,t,arguments):void 0:(n=t[r],e.call(n,t,arguments))}},n=function(t){var e,n;if(!(n=t.match(r)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},e=Function.prototype.apply,r=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Object=function(e){function n(){this.id=++o}var o;return t(n,e),o=0,n.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},n.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},n.prototype.isEqualTo=function(t){return this===t},n.prototype.inspect=function(){var t,e,n;return t=function(){var t,r,o;for(e in o=[],r=null!=(t=this.contentsForInspection())?t:{})n=r[e],o.push(e+"="+n);return o}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},n.prototype.contentsForInspection=function(){},n.prototype.toJSONString=function(){return JSON.stringify(this)},n.prototype.toUTF16String=function(){return r.UTF16String.box(this)},n.prototype.getCacheKey=function(){return this.id.toString()},n}(r.BasicObject)}.call(this),function(){r.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){r.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var t,e;r.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+r.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+r.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(t){return t.replace(/\r\n/g,"\n")},breakableWhitespacePattern:RegExp("[^\\S"+r.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(t){return t.replace(RegExp(""+r.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(t,n){var o,i,a,u;return t=r.UTF16String.box(t),(n=r.UTF16String.box(n)).length<t.length?(u=(i=e(t,n))[0],o=i[1]):(o=(a=e(n,t))[0],u=a[1]),{added:o,removed:u}}}),e=function(e,n){var o,i,a,u,s;return e.isEqualTo(n)?["",""]:(a=(u=(i=t(e,n)).utf16String.length)?(s=i.offset,o=e.codepoints.slice(0,s).concat(e.codepoints.slice(s+u)),t(n,r.UTF16String.fromCodepoints(o))):t(n,e),[i.utf16String.toString(),a.utf16String.toString()])},t=function(t,e){var n,r,o;for(n=0,r=t.length,o=e.length;r>n&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(o-1));)r--,o--;return{utf16String:t.slice(n,r),offset:n}}}.call(this),function(){r.extend({copyObject:function(t){var e,n,r;for(e in null==t&&(t={}),n={},t)r=t[e],n[e]=r;return n},objectsAreEqual:function(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}})}.call(this),function(){var t=[].slice;r.extend({arraysAreEqual:function(t,e){var n,r,o;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(r=n=0,o=t.length;o>n;r=++n)if(t[r]!==e[r])return!1;return!0},arrayStartsWith:function(t,e){return null==t&&(t=[]),null==e&&(e=[]),r.arraysAreEqual(t.slice(0,e.length),e)},spliceArray:function(){var e,n,r;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],(r=n.slice(0)).splice.apply(r,e),r},summarizeArrayChange:function(t,e){var n,r,o,i,a,u,s,l,c,f,p;for(null==t&&(t=[]),null==e&&(e=[]),n=[],f=[],o=new Set,i=0,s=t.length;s>i;i++)p=t[i],o.add(p);for(r=new Set,a=0,l=e.length;l>a;a++)p=e[a],r.add(p),o.has(p)||n.push(p);for(u=0,c=t.length;c>u;u++)p=t[u],r.has(p)||f.push(p);return{added:n,removed:f}}})}.call(this),function(){var t,e,n,o;t=null,e=null,o=null,n=null,r.extend({getAllAttributeNames:function(){return null!=t?t:t=r.getTextAttributeNames().concat(r.getBlockAttributeNames())},getBlockConfig:function(t){return r.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=e?e:e=Object.keys(r.config.blockAttributes)},getTextConfig:function(t){return r.config.textAttributes[t]},getTextAttributeNames:function(){return null!=o?o:o=Object.keys(r.config.textAttributes)},getListAttributeNames:function(){var t,e;return null!=n?n:n=function(){var n,o;for(t in o=[],n=r.config.blockAttributes)null!=(e=n[t].listAttribute)&&o.push(e);return o}()}})}.call(this),function(){var t,e,n,o,i,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=document.documentElement,e=null!=(n=null!=(o=null!=(i=t.matchesSelector)?i:t.webkitMatchesSelector)?o:t.msMatchesSelector)?n:t.mozMatchesSelector,r.extend({handleEvent:function(e,n){var o,i,a,u,s,l,c,f,p,d,h;return s=(c=null!=n?n:{}).onElement,u=c.matchingSelector,h=c.withCallback,a=c.inPhase,l=c.preventDefault,p=c.times,o=null!=s?s:t,f=u,h,d="capturing"===a,(i=function(t){var e;return null!=p&&0==--p&&i.destroy(),null!=(e=r.findClosestElementFromNode(t.target,{matchingSelector:f}))&&(null!=h&&h.call(e,t,e),l)?t.preventDefault():void 0}).destroy=function(){return o.removeEventListener(e,i,d)},o.addEventListener(e,i,d),i},handleEventOnce:function(t,e){return null==e&&(e={}),e.times=1,r.handleEvent(t,e)},triggerEvent:function(e,n){var o,i,a,u,s,l,c;return l=(c=null!=n?n:{}).onElement,i=c.bubbles,a=c.cancelable,o=c.attributes,u=null!=l?l:t,i=!1!==i,a=!1!==a,(s=document.createEvent("Events")).initEvent(e,i,a),null!=o&&r.extend.call(s,o),u.dispatchEvent(s)},elementMatchesSelector:function(t,n){return 1===(null!=t?t.nodeType:void 0)?e.call(t,n):void 0},findClosestElementFromNode:function(t,e){var n,o,i;for(n=(o=null!=e?e:{}).matchingSelector,i=o.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==n)return t;if(t.closest&&null==i)return t.closest(n);for(;t&&t!==i;){if(r.elementMatchesSelector(t,n))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&r.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,e){var n;return n=r.findNodeFromContainerAndOffset(t,e),r.findClosestElementFromNode(n)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},removeNode:function(t){var e;return null!=t&&null!=(e=t.parentNode)?e.removeChild(t):void 0},walkTree:function(t,e){var n,r,o,i,a;return r=(o=null!=e?e:{}).onlyNodesOfType,i=o.usingFilter,n=o.expandEntityReferences,a=function(){switch(r){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,a,null!=i?i:null,!0===n)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,r,o,i,a,u,s,l,c,f,p,d,h,m;if(null==e&&(e={}),"object"==typeof t?t=(e=t).tagName:e={attributes:e},o=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(u in c=e.attributes)m=c[u],o.setAttribute(u,m);if(e.style)for(u in f=e.style)m=f[u],o.style[u]=m;if(e.data)for(u in p=e.data)m=p[u],o.dataset[u]=m;if(e.className)for(i=0,s=(d=e.className.split(" ")).length;s>i;i++)r=d[i],o.classList.add(r);if(e.textContent&&(o.textContent=e.textContent),e.childNodes)for(a=0,l=(h=[].concat(e.childNodes)).length;l>a;a++)n=h[a],o.appendChild(n);return o},getBlockTagNames:function(){var t,e;return null!=r.blockTagNames?r.blockTagNames:r.blockTagNames=function(){var n,o;for(t in o=[],n=r.config.blockAttributes)(e=n[t].tagName)&&o.push(e);return o}()},nodeIsBlockContainer:function(t){return r.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var e,n;return e=r.tagName(t),a.call(r.getBlockTagNames(),e)>=0&&(n=r.tagName(t.firstChild),a.call(r.getBlockTagNames(),n)<0)},nodeIsBlockStart:function(t,e){return(null!=e?e:{strict:!0}).strict?r.nodeIsBlockStartComment(t):r.nodeIsBlockStartComment(t)||!r.nodeIsBlockStartComment(t.firstChild)&&r.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return r.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t,e){var n;return n=(null!=e?e:{}).name,t?r.nodeIsTextNode(t)?t.data===r.ZERO_WIDTH_SPACE?!n||t.parentNode.dataset.trixCursorTarget===n:void 0:r.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return r.elementMatchesSelector(t,r.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return r.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var t,e,n,o,i;t=r.copyObject,o=r.objectsAreEqual,r.extend({normalizeRange:n=function(t){var n;if(null!=t)return Array.isArray(t)||(t=[t,t]),[e(t[0]),e(null!=(n=t[1])?n:t[0])]},rangeIsCollapsed:function(t){var e,r,o;if(null!=t)return o=(r=n(t))[0],e=r[1],i(o,e)},rangesAreEqual:function(t,e){var r,o,a,u,s,l;if(null!=t&&null!=e)return o=(a=n(t))[0],r=a[1],l=(u=n(e))[0],s=u[1],i(o,l)&&i(r,s)}}),e=function(e){return"number"==typeof e?e:t(e)},i=function(t,e){return"number"==typeof t?t===e:o(t,e)}}.call(this),function(){var t,e,n,o,i,a,u;r.registerElement=function(t,e){var n,r;return null==e&&(e={}),t=t.toLowerCase(),e=u(e),(n=(r=a(e)).defaultCSS)&&(delete r.defaultCSS,o(n,t)),i(t,r)},o=function(t,e){return n(e).textContent=t.replace(/%t/g,e)},n=function(e){var n,r;return(n=document.createElement("style")).setAttribute("type","text/css"),n.setAttribute("data-tag-name",e.toLowerCase()),(r=t())&&n.setAttribute("nonce",r),document.head.insertBefore(n,document.head.firstChild),n},t=function(){var t;return(t=e("trix-csp-nonce")||e("csp-nonce"))?t.getAttribute("content"):void 0},e=function(t){return document.head.querySelector("meta[name="+t+"]")},a=function(t){var e,n,r;for(e in n={},t)r=t[e],n[e]="function"==typeof r?{value:r}:r;return n},u=function(){var t;return t=function(t){var e,n,r,o,i;for(e={},n=0,o=(i=["initialize","connect","disconnect"]).length;o>n;n++)e[r=i[n]]=t[r],delete t[r];return e},window.customElements?function(e){var n,r,o,i,a;return a=t(e),o=a.initialize,n=a.connect,r=a.disconnect,o&&(i=n,n=function(){return this.initialized||(this.initialized=!0,o.call(this)),null!=i?i.call(this):void 0}),n&&(e.connectedCallback=n),r&&(e.disconnectedCallback=r),e}:function(e){var n,r,o,i;return o=(i=t(e)).initialize,n=i.connect,r=i.disconnect,o&&(e.createdCallback=o),n&&(e.attachedCallback=n),r&&(e.detachedCallback=r),e}}(),i=window.customElements?function(t,e){var n;return n=function(){return"object"==typeof Reflect?Reflect.construct(HTMLElement,[],n):HTMLElement.apply(this)},Object.setPrototypeOf(n.prototype,HTMLElement.prototype),Object.setPrototypeOf(n,HTMLElement),Object.defineProperties(n.prototype,e),window.customElements.define(t,n),n}:function(t,e){var n,r;return r=Object.create(HTMLElement.prototype,e),n=document.registerElement(t,{prototype:r}),Object.defineProperty(r,"constructor",{value:n}),n}}.call(this),function(){var t,e;r.extend({getDOMSelection:function(){var t;return(t=window.getSelection()).rangeCount>0?t:void 0},getDOMRange:function(){var e,n;return(e=null!=(n=r.getDOMSelection())?n.getRangeAt(0):void 0)&&!t(e)?e:void 0},setDOMRange:function(t){var e;return(e=window.getSelection()).removeAllRanges(),e.addRange(t),r.selectionChangeObserver.update()}}),t=function(t){return e(t.startContainer)||e(t.endContainer)},e=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){var t;t={"application/x-trix-feature-detection":"test"},r.extend({dataTransferIsPlainText:function(t){var e,n,r;return r=t.getData("text/plain"),n=t.getData("text/html"),r&&n?(e=(new DOMParser).parseFromString(n,"text/html").body).textContent===r?!e.querySelector("*"):void 0:null!=r?r.length:void 0},dataTransferIsWritable:function(e){var n,r;if(null!=(null!=e?e.setData:void 0)){for(n in t)if(r=t[n],!function(){try{return e.setData(n,r),e.getData(n)===r}catch(t){}}())return;return!0}},keyEventIsKeyboardCommand:/Mac|^iP/.test(navigator.platform)?function(t){return t.metaKey}:function(t){return t.ctrlKey}})}.call(this),function(){r.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:function(){var t,e,n,o;return e=r.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),(t=r.makeElement("form")).appendChild(e),n=function(){try{return new FormData(t).has(e.dirName)}catch(t){}}(),o=function(){try{return e.matches(":dir(ltr),:dir(rtl)")}catch(t){}}(),n?function(n){return e.value=n,new FormData(t).get(e.dirName)}:o?function(t){return e.value=t,e.matches(":dir(rtl)")?"rtl":"ltr"}:function(t){var e;return e=t.trim().charAt(0),r.RTL_PATTERN.test(e)?"rtl":"ltr"}}()})}.call(this),function(){}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=r.arraysAreEqual,r.Hash=function(n){function o(t){null==t&&(t={}),this.values=a(t),o.__super__.constructor.apply(this,arguments)}var i,a,u,s,l;return e(o,n),o.fromCommonAttributesOfObjects=function(t){var e,n,r,o,a,u;if(null==t&&(t=[]),!t.length)return new this;for(r=(e=i(t[0])).getKeys(),n=0,o=(u=t.slice(1)).length;o>n;n++)a=u[n],r=e.getKeysCommonToHash(i(a)),e=e.slice(r);return e},o.box=function(t){return i(t)},o.prototype.add=function(t,e){return this.merge(s(t,e))},o.prototype.remove=function(t){return new r.Hash(a(this.values,t))},o.prototype.get=function(t){return this.values[t]},o.prototype.has=function(t){return t in this.values},o.prototype.merge=function(t){return new r.Hash(u(this.values,l(t)))},o.prototype.slice=function(t){var e,n,o,i;for(i={},e=0,o=t.length;o>e;e++)n=t[e],this.has(n)&&(i[n]=this.values[n]);return new r.Hash(i)},o.prototype.getKeys=function(){return Object.keys(this.values)},o.prototype.getKeysCommonToHash=function(t){var e,n,r,o,a;for(t=i(t),a=[],e=0,r=(o=this.getKeys()).length;r>e;e++)n=o[e],this.values[n]===t.values[n]&&a.push(n);return a},o.prototype.isEqualTo=function(e){return t(this.toArray(),i(e).toArray())},o.prototype.isEmpty=function(){return 0===this.getKeys().length},o.prototype.toArray=function(){var t,e,n;return(null!=this.array?this.array:this.array=function(){var r;for(t in e=[],r=this.values)n=r[t],e.push(t,n);return e}.call(this)).slice(0)},o.prototype.toObject=function(){return a(this.values)},o.prototype.toJSON=function(){return this.toObject()},o.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},s=function(t,e){var n;return(n={})[t]=e,n},u=function(t,e){var n,r,o;for(n in r=a(t),e)o=e[n],r[n]=o;return r},a=function(t,e){var n,r,o,i,a;for(i={},n=0,o=(a=Object.keys(t).sort()).length;o>n;n++)(r=a[n])!==e&&(i[r]=t[r]);return i},i=function(t){return t instanceof r.Hash?t:new r.Hash(t)},l=function(t){return t instanceof r.Hash?t.values:t},o}(r.Object)}.call(this),function(){r.ObjectGroup=function(){function t(t,e){var n,r;this.objects=null!=t?t:[],r=e.depth,(n=e.asTree)&&(this.depth=r,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,r,o,i,a,u,s,l,c;for(null==t&&(t=[]),o=(c=null!=e?e:{}).depth,(n=c.asTree)&&null==o&&(o=0),l=[],a=0,u=t.length;u>a;a++){if(s=t[a],i){if(("function"==typeof s.canBeGrouped?s.canBeGrouped(o):void 0)&&("function"==typeof(r=i[i.length-1]).canBeGroupedWith?r.canBeGroupedWith(s,o):void 0)){i.push(s);continue}l.push(new this(i,{depth:o,asTree:n})),i=null}("function"==typeof s.canBeGrouped?s.canBeGrouped(o):void 0)?i=[s]:l.push(s)}return i&&l.push(new this(i,{depth:o,asTree:n})),l},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,r,o;for(e=["objectGroup"],t=0,n=(o=this.getObjects()).length;n>t;t++)r=o[t],e.push(r.getCacheKey());return e.join("/")},t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ObjectMap=function(e){function n(t){var e,n,r,o,i;for(null==t&&(t=[]),this.objects={},r=0,o=t.length;o>r;r++)i=t[r],n=JSON.stringify(i),null==(e=this.objects)[n]&&(e[n]=i)}return t(n,e),n.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},n}(r.BasicObject)}.call(this),function(){r.ElementStore=function(){function t(t){this.reset(t)}var e;return t.prototype.add=function(t){var n;return n=e(t),this.elements[n]=t},t.prototype.remove=function(t){var n,r;return n=e(t),(r=this.elements[n])?(delete this.elements[n],r):void 0},t.prototype.reset=function(t){var e,n,r;for(null==t&&(t=[]),this.elements={},n=0,r=t.length;r>n;n++)e=t[n],this.add(e);return t},e=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Operation=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.isPerforming=function(){return!0===this.performing},n.prototype.hasPerformed=function(){return!0===this.performed},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(t){return function(e,n){return t.performing=!0,t.perform((function(r,o){return t.succeeded=r,t.performing=!1,t.performed=!0,t.succeeded?e(o):n(o)}))}}(this))},n.prototype.perform=function(t){return t(!1)},n.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod("getPromise().then"),n.proxyMethod("getPromise().catch"),n}(r.BasicObject)}.call(this),function(){var t,e,n,o,i,a={}.hasOwnProperty;r.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,o(t))},e.fromCodepoints=function(t){return new this(i(t),t)},e.prototype.offsetToUCS2Offset=function(t){return i(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return o(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(r.BasicObject),t=1===("function"==typeof Array.from?Array.from("").length:void 0),e=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),n=" "===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),o=t&&e?function(t){return Array.from(t).map((function(t){return t.codePointAt(0)}))}:function(t){var e,n,r,o,i;for(o=[],e=0,r=t.length;r>e;)(i=t.charCodeAt(e++))>=55296&&56319>=i&&r>e&&(56320==(64512&(n=t.charCodeAt(e++)))?i=((1023&i)<<10)+(1023&n)+65536:e--),o.push(i);return o},i=n?function(t){return String.fromCodePoint.apply(String,t)}:function(t){var e,n;return function(){var r,o,i;for(i=[],r=0,o=t.length;o>r;r++)n=t[r],e="",n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),i.push(e+String.fromCharCode(n));return i}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){r.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){r.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var t;r.config.blockAttributes=t={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(e){return r.tagName(e.parentNode)===t[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(e){return r.tagName(e.parentNode)===t[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var t,e;t=r.config.lang,e=[t.bytes,t.KB,t.MB,t.GB,t.TB,t.PB],r.config.fileSize={prefix:"IEC",precision:2,formatter:function(n){var r,o;switch(n){case 0:return"0 "+t.bytes;case 1:return"1 "+t.byte;default:return r=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),o=Math.floor(Math.log(n)/Math.log(r)),(n/Math.pow(r,o)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+e[o]}}}}.call(this),function(){r.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return"bold"===(e=window.getComputedStyle(t)).fontWeight||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(t){return"italic"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:"a",parser:function(t){var e,n;return n="a:not("+r.AttachmentView.attachmentSelector+")",(e=r.findClosestElementFromNode(t,{matchingSelector:n}))?e.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var t,e,n;n=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],e="data-trix-serialized-attributes",t=new RegExp("\x3c!--block--\x3e","g"),r.extend({serializers:{"application/json":function(t){var e;if(t instanceof r.Document)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=r.Document.fromHTML(t.innerHTML)}return e.toSerializableDocument().toJSONString()},"text/html":function(o){var i,a,u,s,l,c,f,p,d,h,m,y,v,b,g,w,_;if(o instanceof r.Document)s=r.DocumentView.render(o);else{if(!(o instanceof HTMLElement))throw new Error("unserializable object");s=o.cloneNode(!0)}for(l=0,d=(b=s.querySelectorAll("[data-trix-serialize=false]")).length;d>l;l++)u=b[l],r.removeNode(u);for(c=0,h=n.length;h>c;c++)for(i=n[c],f=0,m=(g=s.querySelectorAll("["+i+"]")).length;m>f;f++)(u=g[f]).removeAttribute(i);for(p=0,y=(w=s.querySelectorAll("[data-trix-serialized-attributes]")).length;y>p;p++){u=w[p];try{for(v in a=JSON.parse(u.getAttribute(e)),u.removeAttribute(e),a)_=a[v],u.setAttribute(v,_)}catch(t){}}return s.innerHTML.replace(t,"")}},deserializers:{"application/json":function(t){return r.Document.fromJSONString(t)},"text/html":function(t){return r.Document.fromHTML(t)}},serializeToContentType:function(t,e){var n;if(n=r.serializers[e])return n(t);throw new Error("unknown content type: "+e)},deserializeFromContentType:function(t,e){var n;if(n=r.deserializers[e])return n(t);throw new Error("unknown content type: "+e)}})}.call(this),function(){var t;t=r.config.lang,r.config.toolbar={getDefaultHTML:function(){return'<div class="trix-button-row">\n  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="'+t.bold+'" tabindex="-1">'+t.bold+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="'+t.italic+'" tabindex="-1">'+t.italic+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="'+t.strike+'" tabindex="-1">'+t.strike+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+t.link+'" tabindex="-1">'+t.link+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="'+t.heading1+'" tabindex="-1">'+t.heading1+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="'+t.quote+'" tabindex="-1">'+t.quote+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="'+t.code+'" tabindex="-1">'+t.code+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="'+t.bullets+'" tabindex="-1">'+t.bullets+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="'+t.numbers+'" tabindex="-1">'+t.numbers+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="'+t.outdent+'" tabindex="-1">'+t.outdent+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="'+t.indent+'" tabindex="-1">'+t.indent+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="'+t.attachFiles+'" tabindex="-1">'+t.attachFiles+'</button>\n  </span>\n\n  <span class="trix-button-group-spacer"></span>\n\n  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="'+t.undo+'" tabindex="-1">'+t.undo+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="'+t.redo+'" tabindex="-1">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="trix-dialogs" data-trix-dialogs>\n  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">\n    <div class="trix-dialog__link-fields">\n      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="'+t.urlPlaceholder+'" aria-label="'+t.url+'" required data-trix-input>\n      <div class="trix-button-group">\n        <input type="button" class="trix-button trix-button--dialog" value="'+t.link+'" data-trix-method="setAttribute">\n        <input type="button" class="trix-button trix-button--dialog" value="'+t.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>'}}}.call(this),function(){r.config.undoInterval=5e3}.call(this),function(){r.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){r.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){r.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&r.browser.supportsInputEvents?2:0},pickFiles:function(t){var e;return(e=r.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId})).addEventListener("change",(function(){return t(e.files),r.removeNode(e)})),r.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){r.registerElement("trix-toolbar",{defaultCSS:"%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}",initialize:function(){return""===this.innerHTML?this.innerHTML=r.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};r.ObjectView=function(e){function o(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return t(o,e),o.prototype.getNodes=function(){var t,e,n,r,o;for(null==this.nodes&&(this.nodes=this.createNodes()),o=[],t=0,e=(r=this.nodes).length;e>t;t++)n=r[t],o.push(n.cloneNode(!0));return o},o.prototype.invalidate=function(){var t;return this.nodes=null,this.childViews=[],null!=(t=this.parentView)?t.invalidate():void 0},o.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},o.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},o.prototype.createChildView=function(t,e,n){var o;return null==n&&(n={}),e instanceof r.ObjectGroup&&(n.viewClass=t,t=r.ObjectGroupView),o=new t(e,n),this.recordChildView(o)},o.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t},o.prototype.getAllChildViews=function(){var t,e,n,r,o;for(o=[],e=0,n=(r=this.childViews).length;n>e;e++)t=r[e],o.push(t),o=o.concat(t.getAllChildViews());return o},o.prototype.findElement=function(){return this.findElementForObject(this.object)},o.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},o.prototype.findViewForObject=function(t){var e,n,r,o;for(e=0,n=(r=this.getAllChildViews()).length;n>e;e++)if((o=r[e]).object===t)return o},o.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},o.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},o.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},o.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},o.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},o.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},o.prototype.garbageCollectCachedViews=function(){var t,e,r,o,i,a;if(t=this.getViewCache()){for(e in a=this.getAllChildViews().concat(this),r=function(){var t,e,n;for(n=[],t=0,e=a.length;e>t;t++)i=a[t],n.push(i.object.getCacheKey());return n}(),o=[],t)n.call(r,e)<0&&o.push(delete t[e]);return o}},o}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ObjectGroupView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return t(n,e),n.prototype.getChildViews=function(){var t,e,n,r;if(!this.childViews.length)for(t=0,e=(r=this.objectGroup.getObjects()).length;e>t;t++)n=r[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var t,e,n,r,o,i,a,u;for(t=this.createContainerElement(),e=0,r=(a=this.getChildViews()).length;r>e;e++)for(n=0,o=(u=a[e].getNodes()).length;o>n;n++)i=u[n],t.appendChild(i);return[t]},n.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},n}(r.ObjectView)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Controller=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r.BasicObject)}.call(this),function(){var t,e,n,o,i,a,u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.findClosestElementFromNode,n=r.nodeIsEmptyTextNode,e=r.nodeIsBlockStartComment,o=r.normalizeSpaces,i=r.summarizeStringChange,a=r.tagName,r.MutationObserver=function(r){function s(t){this.element=t,this.didMutate=function(t,e){return function(){return t.apply(e,arguments)}}(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var c,f,p;return u(s,r),"["+(f="data-trix-mutable")+"]",p={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},s.prototype.start=function(){return this.reset(),this.observer.observe(this.element,p)},s.prototype.stop=function(){return this.observer.disconnect()},s.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},s.prototype.reset=function(){return this.mutations=[]},s.prototype.findSignificantMutations=function(t){var e,n,r,o;for(o=[],e=0,n=t.length;n>e;e++)r=t[e],this.mutationIsSignificant(r)&&o.push(r);return o},s.prototype.mutationIsSignificant=function(t){var e,n,r,o;if(this.nodeIsMutable(t.target))return!1;for(e=0,n=(o=this.nodesModifiedByMutation(t)).length;n>e;e++)if(r=o[e],this.nodeIsSignificant(r))return!0;return!1},s.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!n(t)},s.prototype.nodeIsMutable=function(e){return t(e,{matchingSelector:"[data-trix-mutable]"})},s.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==f&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},s.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},s.prototype.getTextMutationSummary=function(){var t,e,n,r,o,i,a,u,s,c,f;for(n=(u=this.getTextChangesFromCharacterData()).additions,o=u.deletions,i=0,a=(s=(f=this.getTextChangesFromChildList()).additions).length;a>i;i++)e=s[i],l.call(n,e)<0&&n.push(e);return o.push.apply(o,f.deletions),c={},(t=n.join(""))&&(c.textAdded=t),(r=o.join(""))&&(c.textDeleted=r),c},s.prototype.getMutationsByType=function(t){var e,n,r,o,i;for(i=[],e=0,n=(o=this.mutations).length;n>e;e++)(r=o[e]).type===t&&i.push(r);return i},s.prototype.getTextChangesFromChildList=function(){var t,n,r,i,a,u,s,l,f,p;for(t=[],s=[],n=0,i=(u=this.getMutationsByType("childList")).length;i>n;n++)a=u[n],t.push.apply(t,a.addedNodes),s.push.apply(s,a.removedNodes);return 0===t.length&&1===s.length&&e(s[0])?(f=[],p=["\n"]):(f=c(t),p=c(s)),{additions:function(){var t,e,n;for(n=[],r=t=0,e=f.length;e>t;r=++t)(l=f[r])!==p[r]&&n.push(o(l));return n}(),deletions:function(){var t,e,n;for(n=[],r=t=0,e=p.length;e>t;r=++t)(l=p[r])!==f[r]&&n.push(o(l));return n}()}},s.prototype.getTextChangesFromCharacterData=function(){var t,e,n,r,a,u,s,l;return(e=this.getMutationsByType("characterData")).length&&(l=e[0],n=e[e.length-1],a=o(l.oldValue),r=o(n.target.data),t=(u=i(a,r)).added,s=u.removed),{additions:t?[t]:[],deletions:s?[s]:[]}},c=function(t){var e,n,r,o;for(null==t&&(t=[]),o=[],e=0,n=t.length;n>e;e++)switch(r=t[e],r.nodeType){case Node.TEXT_NODE:o.push(r.data);break;case Node.ELEMENT_NODE:"br"===a(r)?o.push("\n"):o.push.apply(o,c(r.childNodes))}return o},s}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.FileVerificationOperation=function(e){function n(t){this.file=t}return t(n,e),n.prototype.perform=function(t){var e;return(e=new FileReader).onerror=function(){return t(!1)},e.onload=function(n){return function(){e.onerror=null;try{e.abort()}catch(t){}return t(!0,n.file)}}(this),e.readAsArrayBuffer(this.file)},n}(r.Operation)}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=r.handleEvent,e=r.innerElementIsActive,r.InputController=function(o){function i(e){var n;for(n in this.element=e,this.mutationObserver=new r.MutationObserver(this.element),this.mutationObserver.delegate=this,this.events)t(n,{onElement:this.element,withCallback:this.handlerFor(n)})}return n(i,o),i.prototype.events={},i.prototype.elementDidMutate=function(){},i.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},i.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},i.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},i.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},i.prototype.attachFiles=function(t){var e,n;return n=function(){var n,o,i;for(i=[],n=0,o=t.length;o>n;n++)e=t[n],i.push(new r.FileVerificationOperation(e));return i}(),Promise.all(n).then(function(t){return function(e){return t.handleInput((function(){var t,n;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(e),this.requestRender()}))}}(this))},i.prototype.handlerFor=function(t){return function(n){return function(r){return r.defaultPrevented?void 0:n.handleInput((function(){return e(this.element)?void 0:(this.eventName=t,this.events[t].call(this,r))}))}}(this)},i.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},i.prototype.createLinkHTML=function(t,e){var n;return(n=document.createElement("a")).href=t,n.textContent=null!=e?e:t,n.outerHTML},i}(r.BasicObject)}.call(this),function(){var t,e,n,o,i,a,u,s,l,c,f,p,d=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty,m=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};l=r.makeElement,c=r.objectsAreEqual,r.tagName,e=r.browser,u=r.keyEventIsKeyboardCommand,o=r.dataTransferIsWritable,n=r.dataTransferIsPlainText,s=r.config.keyNames,r.Level0InputController=function(e){function a(){a.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var h;return d(a,e),h=0,a.prototype.setInputSummary=function(t){var e,n;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},a.prototype.resetInputSummary=function(){return this.inputSummary={}},a.prototype.reset=function(){return this.resetInputSummary(),r.selectionChangeObserver.reset()},a.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput((function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()}))},a.prototype.mutationIsExpected=function(t){var e,n,r,o,i,a,u,s,l;return a=t.textAdded,u=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=a?a===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=u?this.inputSummary.didDelete:!this.inputSummary.didDelete,l="\n"===u&&!n,!!(((s=("\n"===a||" \n"===a)&&!e)&&!l||l&&!s)&&(o=this.getSelectedRange())&&(r=s?a.replace(/\n$/,"").length||-1:(null!=a?a.length:void 0)||1,null!=(i=this.responder)?i.positionIsBlockBreak(o[1]+r):void 0))||e&&n)},a.prototype.mutationIsSignificant=function(t){var e,n,r;return r=Object.keys(t).length>0,e=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),r||!e},a.prototype.events={keydown:function(t){var e,n,o,i,a,l,c,f,p;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,i=s[t.keyCode]){for(n=this.keys,o=0,l=(f=["ctrl","alt","shift","meta"]).length;l>o;o++)t[(c=f[o])+"Key"]&&("ctrl"===c&&(c="control"),n=null!=n?n[c]:void 0);null!=(null!=n?n[i]:void 0)&&(this.setInputSummary({keyName:i}),r.selectionChangeObserver.reset(),n[i].call(this,t))}return u(t)&&(e=String.fromCharCode(t.keyCode).toLowerCase())&&((a=function(){var e,n,r,o;for(o=[],e=0,n=(r=["alt","shift"]).length;n>e;e++)t[(c=r[e])+"Key"]&&o.push(c);return o}()).push(e),null!=(p=this.delegate)?p.inputControllerDidReceiveKeyboardCommand(a):void 0)?t.preventDefault():void 0},keypress:function(t){var e,n,r;if(null==this.inputSummary.eventName&&!t.metaKey&&(!t.ctrlKey||t.altKey))return(r=p(t))?(null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(r),this.setInputSummary({textAdded:r,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,r,o;return e=t.data,(o=this.inputSummary.textAdded)&&o!==e&&o.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+o.length]),null!=(r=this.responder)&&r.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},c(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var e,n,o,i,a,u,s,l,c;return t.preventDefault(),o=null!=(a=t.dataTransfer)?a.files:void 0,i={x:t.clientX,y:t.clientY},null!=(u=this.responder)&&u.setLocationRangeFromPointRange(i),(null!=o?o.length:void 0)?this.attachFiles(o):this.draggedRange?(null!=(s=this.delegate)&&s.inputControllerWillMoveText(),null!=(l=this.responder)&&l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=t.dataTransfer.getData("application/x-trix-document"))&&(e=r.Document.fromJSONString(n),null!=(c=this.responder)&&c.insertDocument(e),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e,n;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented)?this.requestRender():void 0},copy:function(t){var e;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var e,o,a,u,s,l,c,p,d,y,v,b,g,w,_,E,k,x,O,S,C,P,R;return e=null!=(p=t.clipboardData)?p:t.testClipboardData,c={clipboard:e},null==e||f(t)?void this.getPastedHTMLUsingHiddenElement(function(t){return function(e){var n,r,o;return c.type="text/html",c.html=e,null!=(n=t.delegate)&&n.inputControllerWillPaste(c),null!=(r=t.responder)&&r.insertHTML(c.html),t.requestRender(),null!=(o=t.delegate)?o.inputControllerDidPaste(c):void 0}}(this)):((u=e.getData("URL"))?(c.type="text/html",R=(l=e.getData("public.url-name"))?r.squishBreakableWhitespace(l).trim():u,c.html=this.createLinkHTML(u,R),null!=(d=this.delegate)&&d.inputControllerWillPaste(c),this.setInputSummary({textAdded:R,didDelete:this.selectionIsExpanded()}),null!=(_=this.responder)&&_.insertHTML(c.html),this.requestRender(),null!=(E=this.delegate)&&E.inputControllerDidPaste(c)):n(e)?(c.type="text/plain",c.string=e.getData("text/plain"),null!=(k=this.delegate)&&k.inputControllerWillPaste(c),this.setInputSummary({textAdded:c.string,didDelete:this.selectionIsExpanded()}),null!=(x=this.responder)&&x.insertString(c.string),this.requestRender(),null!=(O=this.delegate)&&O.inputControllerDidPaste(c)):(s=e.getData("text/html"))?(c.type="text/html",c.html=s,null!=(S=this.delegate)&&S.inputControllerWillPaste(c),null!=(C=this.responder)&&C.insertHTML(c.html),this.requestRender(),null!=(P=this.delegate)&&P.inputControllerDidPaste(c)):m.call(e.types,"Files")>=0&&(a=null!=(y=e.items)&&null!=(v=y[0])&&"function"==typeof v.getAsFile?v.getAsFile():void 0)&&(!a.name&&(o=i(a))&&(a.name="pasted-file-"+ ++h+"."+o),c.type="File",c.file=a,null!=(b=this.delegate)&&b.inputControllerWillAttachFiles(),null!=(g=this.responder)&&g.insertFile(c.file),this.requestRender(),null!=(w=this.delegate)&&w.inputControllerDidPaste(c)),t.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(t){return this.inputSummary.didInput=!0,t.stopPropagation()}},a.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return:function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return:function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},a.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new t(this)},a.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},a.prototype.deleteInDirection=function(t,e){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},a.prototype.serializeSelectionToDataTransfer=function(t){var e,n;if(o(t))return e=null!=(n=this.responder)?n.getSelectedDocument().toSerializableDocument():void 0,t.setData("application/x-trix-document",JSON.stringify(e)),t.setData("text/html",r.DocumentView.render(e).innerHTML),t.setData("text/plain",e.toString().replace(/\n$/,"")),!0},a.prototype.canAcceptDataTransfer=function(t){var e,n,r,o,i;for(i={},e=0,n=(o=null!=(r=null!=t?t.types:void 0)?r:[]).length;n>e;e++)i[o[e]]=!0;return i.Files||i["application/x-trix-document"]||i["text/html"]||i["text/plain"]},a.prototype.getPastedHTMLUsingHiddenElement=function(t){var e,n,o;return n=this.getSelectedRange(),o={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},e=l({style:o,tagName:"div",editable:!0}),document.body.appendChild(e),e.focus(),requestAnimationFrame(function(o){return function(){var i;return i=e.innerHTML,r.removeNode(e),o.setSelectedRange(n),t(i)}}(this))},a.proxyMethod("responder?.getSelectedRange"),a.proxyMethod("responder?.setSelectedRange"),a.proxyMethod("responder?.expandSelectionInDirection"),a.proxyMethod("responder?.selectionIsInCursorTarget"),a.proxyMethod("responder?.selectionIsExpanded"),a}(r.InputController),i=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},a=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),p=function(t){var e;return t.key&&a&&t.key.codePointAt(0)===t.keyCode?t.key:(null===t.which?e=t.keyCode:0!==t.which&&0!==t.charCode&&(e=t.charCode),null!=e&&"escape"!==s[e]?r.UTF16String.fromCodepoints([e]).toString():void 0)},f=function(t){var e,n,r,o,i,a,u,s,l;if(u=t.clipboardData){if(m.call(u.types,"text/html")>=0){for(r=0,a=(s=u.types).length;a>r;r++)if(l=s[r],e=/^CorePasteboardFlavorType/.test(l),n=/^dyn\./.test(l)&&u.getData(l),e||n)return!0;return!1}return o=m.call(u.types,"com.apple.webarchive")>=0,i=m.call(u.types,"com.apple.flat-rtfd")>=0,o||i}},t=function(t){function n(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return d(n,t),n.prototype.start=function(t){var e,n;return this.data.start=t,this.isSignificant()?("keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0):void 0},n.prototype.update=function(t){var e;return this.data.update=t,this.isSignificant()&&(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},n.prototype.end=function(t){var e,n,r,o;return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(r=this.responder)&&r.insertString(this.data.end),null!=(o=this.responder)?o.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},n.prototype.getEndData=function(){return this.data.end},n.prototype.isEnded=function(){return null!=this.getEndData()},n.prototype.isSignificant=function(){return!e.composesExistingText||this.inputSummary.didInput},n.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&(null!=(e=this.data.end)?e.length:void 0)>0&&null!=this.range},n.proxyMethod("inputController.setInputSummary"),n.proxyMethod("inputController.requestRender"),n.proxyMethod("inputController.requestReparse"),n.proxyMethod("responder?.selectionIsExpanded"),n.proxyMethod("responder?.insertPlaceholder"),n.proxyMethod("responder?.selectPlaceholder"),n.proxyMethod("responder?.forgetPlaceholder"),n}(r.BasicObject)}.call(this),function(){var t,e,n,o=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.dataTransferIsPlainText,e=r.keyEventIsKeyboardCommand,n=r.objectsAreEqual,r.Level2InputController=function(a){function s(){return this.render=o(this.render,this),s.__super__.constructor.apply(this,arguments)}var l,c,f,p,d,h;return i(s,a),s.prototype.elementDidMutate=function(){var t;return this.scheduledRender?this.composing&&null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidAllowUnhandledInput?t.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},s.prototype.scheduleRender=function(){return null!=this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},s.prototype.render=function(){var t;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null!=(t=this.delegate)&&t.render(),"function"==typeof this.afterRender&&this.afterRender(),this.afterRender=null},s.prototype.reparse=function(){var t;return null!=(t=this.delegate)?t.reparse():void 0},s.prototype.events={keydown:function(t){var n,r,o,i;if(e(t)){if(n=c(t),null!=(i=this.delegate)?i.inputControllerDidReceiveKeyboardCommand(n):void 0)return t.preventDefault()}else if(o=t.key,t.altKey&&(o+="+Alt"),t.shiftKey&&(o+="+Shift"),r=this.keys[o])return this.withEvent(t,r)},paste:function(t){var e,n,r,o,i,a,u,s,l;return f(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):p(t)?(t.preventDefault(),n={type:"text/plain",string:t.clipboardData.getData("text/plain")},null!=(r=this.delegate)&&r.inputControllerWillPaste(n),null!=(o=this.responder)&&o.insertString(n.string),this.render(),null!=(i=this.delegate)?i.inputControllerDidPaste(n):void 0):(e=null!=(a=t.clipboardData)?a.getData("URL"):void 0)?(t.preventDefault(),n={type:"text/html",html:this.createLinkHTML(e)},null!=(u=this.delegate)&&u.inputControllerWillPaste(n),null!=(s=this.responder)&&s.insertHTML(n.html),this.render(),null!=(l=this.delegate)?l.inputControllerDidPaste(n):void 0):void 0},beforeinput:function(t){var e;return(e=this.inputTypes[t.inputType])?(this.withEvent(t,e),this.scheduleRender()):void 0},input:function(){return r.selectionChangeObserver.reset()},dragstart:function(t){var e,n;return(null!=(e=this.responder)?e.selectionContainsAttachments():void 0)?(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:null!=(n=this.responder)?n.getSelectedRange():void 0,point:d(t)}):void 0},dragenter:function(t){return l(t)?t.preventDefault():void 0},dragover:function(t){var e,r;if(this.dragging){if(t.preventDefault(),e=d(t),!n(e,this.dragging.point))return this.dragging.point=e,null!=(r=this.responder)?r.setLocationRangeFromPointRange(e):void 0}else if(l(t))return t.preventDefault()},drop:function(t){var e,n,r,o;return this.dragging?(t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillMoveText(),null!=(r=this.responder)&&r.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):l(t)?(t.preventDefault(),e=d(t),null!=(o=this.responder)&&o.setLocationRangeFromPointRange(e),this.attachFiles(t.dataTransfer.files)):void 0},dragend:function(){var t;return this.dragging?(null!=(t=this.responder)&&t.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},s.prototype.keys={ArrowLeft:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection("forward"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var t,e,n;return(null!=(t=this.responder)?t.shouldManageDeletingInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var t,e;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var t,e;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.decreaseNestingLevel(),this.render()):void 0}},s.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var t;return this.deleteByDragRange=null!=(t=this.responder)?t.getSelectedRange():void 0}))},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var t;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.increaseNestingLevel():void 0})):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var t;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.decreaseNestingLevel():void 0})):void 0},formatRemove:function(){return this.withTargetDOMRange((function(){var t,e,n,r;for(t in r=[],null!=(e=this.responder)?e.getCurrentAttributes():void 0)r.push(null!=(n=this.responder)?n.removeCurrentAttribute(t):void 0);return r}))},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformRedo():void 0},historyUndo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var t,e;return(t=this.deleteByDragRange)?(this.deleteByDragRange=null,null!=(e=this.delegate)&&e.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.moveTextFromRange(t):void 0}))):void 0},insertFromPaste:function(){var e,n,o,i,a,u,s,l,c,f,p;return e=this.event.dataTransfer,a={dataTransfer:e},(n=e.getData("URL"))?(this.event.preventDefault(),a.type="text/html",p=(i=e.getData("public.url-name"))?r.squishBreakableWhitespace(i).trim():n,a.html=this.createLinkHTML(n,p),null!=(u=this.delegate)&&u.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertHTML(a.html):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):t(e)?(a.type="text/plain",a.string=e.getData("text/plain"),null!=(s=this.delegate)&&s.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertString(a.string):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):(o=e.getData("text/html"))?(this.event.preventDefault(),a.type="text/html",a.html=o,null!=(l=this.delegate)&&l.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertHTML(a.html):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):(null!=(c=e.files)?c.length:void 0)?(a.type="File",a.file=e.files[0],null!=(f=this.delegate)&&f.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertFile(a.file):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString("\n")},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertLineBreak():void 0}))},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var t,e;return this.insertString(null!=(t=this.event.data)?t:null!=(e=this.event.dataTransfer)?e.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},s.prototype.insertString=function(t,e){var n;return null==t&&(t=""),null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.insertString(t,e):void 0}))},s.prototype.toggleAttributeIfSupported=function(t){var e;return u.call(r.getAllAttributeNames(),t)>=0?(null!=(e=this.delegate)&&e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.toggleCurrentAttribute(t):void 0}))):void 0},s.prototype.activateAttributeIfSupported=function(t,e){var n;return u.call(r.getAllAttributeNames(),t)>=0?(null!=(n=this.delegate)&&n.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.setCurrentAttribute(t,e):void 0}))):void 0},s.prototype.deleteInDirection=function(t,e){var n,r,o;return(null!=e?e:{recordUndoEntry:!0}).recordUndoEntry&&null!=(o=this.delegate)&&o.inputControllerWillPerformTyping(),r=function(e){return function(){var n;return null!=(n=e.responder)?n.deleteInDirection(t):void 0}}(this),(n=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(n,r):r()},s.prototype.withTargetDOMRange=function(t,e){var n;return"function"==typeof t&&(e=t,t=this.getTargetDOMRange()),t?null!=(n=this.responder)?n.withTargetDOMRange(t,e.bind(this)):void 0:(r.selectionChangeObserver.reset(),e.call(this))},s.prototype.getTargetDOMRange=function(t){var e,n,r,o;return r=(null!=t?t:{minLength:0}).minLength,(o="function"==typeof(e=this.event).getTargetRanges?e.getTargetRanges():void 0)&&o.length&&(n=h(o[0]),0===r||n.toString().length>=r)?n:void 0},h=function(t){var e;return(e=document.createRange()).setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},s.prototype.withEvent=function(t,e){var n;this.event=t;try{n=e.call(this)}finally{this.event=null}return n},l=function(t){var e,n;return u.call(null!=(e=null!=(n=t.dataTransfer)?n.types:void 0)?e:[],"Files")>=0},f=function(t){var e;return(e=t.clipboardData)?u.call(e.types,"Files")>=0&&1===e.types.length&&e.files.length>=1:void 0},p=function(t){var e;return(e=t.clipboardData)?u.call(e.types,"text/plain")>=0&&1===e.types.length:void 0},c=function(t){var e;return e=[],t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.push(t.key),e},d=function(t){return{x:t.clientX,y:t.clientY}},s}(r.InputController)}.call(this),function(){var t,e,n,o,i,a,u,s,l=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;e=r.defer,n=r.handleEvent,a=r.makeElement,s=r.tagName,u=r.config,i=u.lang,t=u.css,o=u.keyNames,r.AttachmentEditorController=function(u){function f(t,e,n,r){this.attachmentPiece=t,this.element=e,this.container=n,this.options=null!=r?r:{},this.didBlurCaption=l(this.didBlurCaption,this),this.didChangeCaption=l(this.didChangeCaption,this),this.didInputCaption=l(this.didInputCaption,this),this.didKeyDownCaption=l(this.didKeyDownCaption,this),this.didClickActionButton=l(this.didClickActionButton,this),this.didClickToolbar=l(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,"a"===s(this.element)&&(this.element=this.element.firstChild),this.install()}var p;return c(f,u),p=function(t){return function(){var e;return(e=t.apply(this,arguments)).do(),null==this.undos&&(this.undos=[]),this.undos.push(e.undo)}},f.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},f.prototype.uninstall=function(){var t,e;for(this.savePendingCaption();e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},f.prototype.savePendingCaption=function(){var t,e,n;return null!=this.pendingCaption?(t=this.pendingCaption,this.pendingCaption=null,t?null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestUpdatingAttributesForAttachment?e.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:t},this.attachment):void 0:null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},f.prototype.makeElementMutable=p((function(){return{do:function(t){return function(){return t.element.dataset.trixMutable=!0}}(this),undo:function(t){return function(){return delete t.element.dataset.trixMutable}}(this)}})),f.prototype.addToolbar=p((function(){var e;return e=a({tagName:"div",className:t.attachmentToolbar,data:{trixMutable:!0},childNodes:a({tagName:"div",className:"trix-button-row",childNodes:a({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:a({tagName:"button",className:"trix-button trix-button--remove",textContent:i.remove,attributes:{title:i.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&e.appendChild(a({tagName:"div",className:t.attachmentMetadataContainer,childNodes:a({tagName:"span",className:t.attachmentMetadata,childNodes:[a({tagName:"span",className:t.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),a({tagName:"span",className:t.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),n("click",{onElement:e,withCallback:this.didClickToolbar}),n("click",{onElement:e,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(t){return function(){return t.element.appendChild(e)}}(this),undo:function(){return r.removeNode(e)}}})),f.prototype.installCaptionEditor=p((function(){var o,u,s,l,c;return(l=a({tagName:"textarea",className:t.attachmentCaptionEditor,attributes:{placeholder:i.captionPlaceholder},data:{trixMutable:!0}})).value=this.attachmentPiece.getCaption(),(c=l.cloneNode()).classList.add("trix-autoresize-clone"),c.tabIndex=-1,o=function(){return c.value=l.value,l.style.height=c.scrollHeight+"px"},n("input",{onElement:l,withCallback:o}),n("input",{onElement:l,withCallback:this.didInputCaption}),n("keydown",{onElement:l,withCallback:this.didKeyDownCaption}),n("change",{onElement:l,withCallback:this.didChangeCaption}),n("blur",{onElement:l,withCallback:this.didBlurCaption}),s=this.element.querySelector("figcaption"),u=s.cloneNode(),{do:function(n){return function(){return s.style.display="none",u.appendChild(l),u.appendChild(c),u.classList.add(t.attachmentCaption+"--editing"),s.parentElement.insertBefore(u,s),o(),n.options.editCaption?e((function(){return l.focus()})):void 0}}(this),undo:function(){return r.removeNode(u),s.style.display=null}}})),f.prototype.didClickToolbar=function(t){return t.preventDefault(),t.stopPropagation()},f.prototype.didClickActionButton=function(t){var e;switch(t.target.getAttribute("data-trix-action")){case"remove":return null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},f.prototype.didKeyDownCaption=function(t){var e;return"return"===o[t.keyCode]?(t.preventDefault(),this.savePendingCaption(),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},f.prototype.didInputCaption=function(t){return this.pendingCaption=t.target.value.replace(/\s/g," ").trim()},f.prototype.didChangeCaption=function(){return this.savePendingCaption()},f.prototype.didBlurCaption=function(){return this.savePendingCaption()},f}(r.BasicObject)}.call(this),function(){var t,e,n,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;n=r.makeElement,t=r.config.css,r.AttachmentView=function(i){function a(){a.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var u;return o(a,i),a.attachmentSelector="[data-trix-attachment]",a.prototype.createContentNodes=function(){return[]},a.prototype.createNodes=function(){var e,r,o,i,a,s,l;if(e=i=n({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(r=this.getHref())&&(i=n({tagName:"a",editable:!1,attributes:{href:r,tabindex:-1}}),e.appendChild(i)),this.attachment.hasContent())i.innerHTML=this.attachment.getContent();else for(o=0,a=(l=this.createContentNodes()).length;a>o;o++)s=l[o],i.appendChild(s);return i.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=n({tagName:"progress",attributes:{class:t.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[u("left"),e,u("right")]},a.prototype.createCaptionElement=function(){var e,r,o,i,a,u,s;return o=n({tagName:"figcaption",className:t.attachmentCaption}),(e=this.attachmentPiece.getCaption())?(o.classList.add(t.attachmentCaption+"--edited"),o.textContent=e):((r=this.getCaptionConfig()).name&&(i=this.attachment.getFilename()),r.size&&(u=this.attachment.getFormattedFilesize()),i&&(a=n({tagName:"span",className:t.attachmentName,textContent:i}),o.appendChild(a)),u&&(i&&o.appendChild(document.createTextNode(" ")),s=n({tagName:"span",className:t.attachmentSize,textContent:u}),o.appendChild(s))),o},a.prototype.getClassName=function(){var e,n;return n=[t.attachment,t.attachment+"--"+this.attachment.getType()],(e=this.attachment.getExtension())&&n.push(t.attachment+"--"+e),n.join(" ")},a.prototype.getData=function(){var t,e;return e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(t=this.attachmentPiece.attributes).isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e},a.prototype.getHref=function(){return e(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},a.prototype.getCaptionConfig=function(){var t,e,n;return n=this.attachment.getType(),t=r.copyObject(null!=(e=r.config.attachments[n])?e.caption:void 0),"file"===n&&(t.name=!0),t},a.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},u=function(t){return n({tagName:"span",textContent:r.ZERO_WIDTH_SPACE,data:{trixCursorTarget:t,trixSerialize:!1}})},a.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},a}(r.ObjectView),e=function(t,e){var r;return(r=n("div")).innerHTML=null!=t?t:"",r.querySelector(e)}}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=r.makeElement,r.PreviewableAttachmentView=function(n){function o(){o.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return e(o,n),o.prototype.createContentNodes=function(){return this.image=t({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},o.prototype.createCaptionElement=function(){var t;return(t=o.__super__.createCaptionElement.apply(this,arguments)).textContent||t.setAttribute("data-trix-placeholder",r.config.lang.captionPlaceholder),t},o.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},o.prototype.updateAttributesForImage=function(t){var e,n,r,o,i,a;return i=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||i,n===i?t.removeAttribute("data-trix-serialized-attributes"):(r=JSON.stringify({src:i}),t.setAttribute("data-trix-serialized-attributes",r)),a=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=a&&(t.width=a),null!=e&&(t.height=e),o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=o},o.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},o}(r.AttachmentView)}.call(this),function(){var t,e,n,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;n=r.makeElement,t=r.findInnerElement,e=r.getTextConfig,r.PieceView=function(i){function a(){var t;a.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var u;return o(a,i),a.prototype.createNodes=function(){var e,n,r,o,i,a;if(a=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement()){for(r=t(e),n=0,o=a.length;o>n;n++)i=a[n],r.appendChild(i);a=[e]}return a},a.prototype.createAttachmentNodes=function(){var t;return t=this.attachment.isPreviewable()?r.PreviewableAttachmentView:r.AttachmentView,this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()},a.prototype.createStringNodes=function(){var t,e,r,o,i,a,u,s,l;if(null!=(u=this.textConfig)?u.plaintext:void 0)return[document.createTextNode(this.string)];for(a=[],r=e=0,o=(s=this.string.split("\n")).length;o>e;r=++e)l=s[r],r>0&&(t=n("br"),a.push(t)),l.length&&(i=document.createTextNode(this.preserveSpaces(l)),a.push(i));return a},a.prototype.createElement=function(){var t,r,o,i,a,u,s,l,c;for(i in l={},u=this.attributes)if(c=u[i],(t=e(i))&&(t.tagName&&(a=n(t.tagName),o?(o.appendChild(a),o=a):r=o=a),t.styleProperty&&(l[t.styleProperty]=c),t.style))for(i in s=t.style)c=s[i],l[i]=c;if(Object.keys(l).length)for(i in null==r&&(r=n("span")),l)c=l[i],r.style[i]=c;return r},a.prototype.createContainerElement=function(){var t,r,o,i,a;for(o in i=this.attributes)if(a=i[o],(r=e(o))&&r.groupTagName)return(t={})[o]=a,n(r.groupTagName,t)},u=r.NON_BREAKING_SPACE,a.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,u)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+u+" $2").replace(/\ {2}/g,u+" ").replace(/\ {2}/g," "+u),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,u)),t},a}(r.ObjectView)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.TextView=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var o;return t(n,e),n.prototype.createNodes=function(){var t,e,n,i,a,u,s,l,c,f;for(u=[],i=(l=r.ObjectGroup.groupObjects(this.getPieces())).length-1,n=e=0,a=l.length;a>e;n=++e)s=l[n],t={},0===n&&(t.isFirst=!0),n===i&&(t.isLast=!0),o(c)&&(t.followsWhitespace=!0),f=this.findOrCreateCachedChildView(r.PieceView,s,{textConfig:this.textConfig,context:t}),u.push.apply(u,f.getNodes()),c=s;return u},n.prototype.getPieces=function(){var t,e,n,r,o;for(o=[],t=0,e=(r=this.text.getPieces()).length;e>t;t++)(n=r[t]).hasAttribute("blockBreak")||o.push(n);return o},o=function(t){return/\s$/.test(null!=t?t.toString():void 0)},n}(r.ObjectView)}.call(this),function(){var t,e,n,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;n=r.makeElement,e=r.getBlockConfig,t=r.config.css,r.BlockView=function(i){function a(){a.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return o(a,i),a.prototype.createNodes=function(){var t,o,i,a,u,s,l,c,f,p;if(s=[document.createComment("block")],this.block.isEmpty()?s.push(n("br")):(f=null!=(l=e(this.block.getLastAttribute()))?l.text:void 0,p=this.findOrCreateCachedChildView(r.TextView,this.block.text,{textConfig:f}),s.push.apply(s,p.getNodes()),this.shouldAddExtraNewlineElement()&&s.push(n("br"))),this.attributes.length)return s;for(c=r.config.blockAttributes.default.tagName,this.block.isRTL()&&(t={dir:"rtl"}),o=n({tagName:c,attributes:t}),i=0,a=s.length;a>i;i++)u=s[i],o.appendChild(u);return[o]},a.prototype.createContainerElement=function(r){var o,i,a,u,s;return o=this.attributes[r],s=e(o).tagName,0===r&&this.block.isRTL()&&(i={dir:"rtl"}),"attachmentGallery"===o&&(u=this.block.getBlockBreakPosition(),a=t.attachmentGallery+" "+t.attachmentGallery+"--"+u),n({tagName:s,className:a,attributes:i})},a.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},a}(r.ObjectView)}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=r.defer,e=r.makeElement,r.DocumentView=function(o){function i(){i.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new r.ElementStore,this.setDocument(this.object)}var a,u,s;return n(i,o),i.render=function(t){var n,r;return(r=new this(t,{element:n=e("div")})).render(),r.sync(),n},i.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},i.prototype.render=function(){var t,n,o,i,a,u,s;if(this.childViews=[],this.shadowElement=e("div"),!this.document.isEmpty()){for(u=[],t=0,n=(a=r.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;n>t;t++)i=a[t],s=this.findOrCreateCachedChildView(r.BlockView,i),u.push(function(){var t,e,n,r;for(r=[],t=0,e=(n=s.getNodes()).length;e>t;t++)o=n[t],r.push(this.shadowElement.appendChild(o));return r}.call(this));return u}},i.prototype.isSynced=function(){return a(this.shadowElement,this.element)},i.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},i.prototype.didSync=function(){return this.elementStore.reset(u(this.element)),t(function(t){return function(){return t.garbageCollectCachedViews()}}(this))},i.prototype.createDocumentFragmentForSync=function(){var t,e,n,r,o,i,a,s,l,c;for(e=document.createDocumentFragment(),n=0,o=(s=this.shadowElement.childNodes).length;o>n;n++)a=s[n],e.appendChild(a.cloneNode(!0));for(r=0,i=(l=u(e)).length;i>r;r++)t=l[r],(c=this.elementStore.remove(t))&&t.parentNode.replaceChild(c,t);return e},u=function(t){return t.querySelectorAll("[data-trix-store-key]")},a=function(t,e){return s(t.innerHTML)===s(e.innerHTML)},s=function(t){return t.replace(/&nbsp;/g," ")},i}(r.ObjectView)}.call(this),function(){var t,e,n,o,i,a=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=r.findClosestElementFromNode,o=r.handleEvent,i=r.innerElementIsActive,e=r.defer,t=r.AttachmentView.attachmentSelector,r.CompositionController=function(s){function l(e,n){this.element=e,this.composition=n,this.didClickAttachment=a(this.didClickAttachment,this),this.didBlur=a(this.didBlur,this),this.didFocus=a(this.didFocus,this),this.documentView=new r.DocumentView(this.composition.document,{element:this.element}),o("focus",{onElement:this.element,withCallback:this.didFocus}),o("blur",{onElement:this.element,withCallback:this.didBlur}),o("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),o("mousedown",{onElement:this.element,matchingSelector:t,withCallback:this.didClickAttachment}),o("click",{onElement:this.element,matchingSelector:"a"+t,preventDefault:!0})}return u(l,s),l.prototype.didFocus=function(){var t,e,n;return t=function(t){return function(){var e;return t.focused?void 0:(t.focused=!0,null!=(e=t.delegate)&&"function"==typeof e.compositionControllerDidFocus?e.compositionControllerDidFocus():void 0)}}(this),null!=(e=null!=(n=this.blurPromise)?n.then(t):void 0)?e:t()},l.prototype.didBlur=function(){return this.blurPromise=new Promise(function(t){return function(n){return e((function(){var e;return i(t.element)||(t.focused=null,null!=(e=t.delegate)&&"function"==typeof e.compositionControllerDidBlur&&e.compositionControllerDidBlur()),t.blurPromise=null,n()}))}}(this))},l.prototype.didClickAttachment=function(t,e){var r,o,i;return r=this.findAttachmentForElement(e),o=null!=n(t.target,{matchingSelector:"figcaption"}),null!=(i=this.delegate)&&"function"==typeof i.compositionControllerDidSelectAttachment?i.compositionControllerDidSelectAttachment(r,{editCaption:o}):void 0},l.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},l.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},l.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},l.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},l.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},l.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},l.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},l.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},l.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},l.prototype.installAttachmentEditorForAttachment=function(t,e){var n,o,i;if((null!=(i=this.attachmentEditor)?i.attachment:void 0)!==t&&(o=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),n=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new r.AttachmentEditorController(n,o,this.element,e),this.attachmentEditor.delegate=this},l.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},l.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},l.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},l.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},l.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},l.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},l}(r.BasicObject)}.call(this),function(){var t,e,n,o=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e=r.handleEvent,n=r.triggerEvent,t=r.findClosestElementFromNode,r.ToolbarController=function(r){function a(t){this.element=t,this.didKeyDownDialogInput=o(this.didKeyDownDialogInput,this),this.didClickDialogButton=o(this.didClickDialogButton,this),this.didClickAttributeButton=o(this.didClickAttributeButton,this),this.didClickActionButton=o(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),e("mousedown",{onElement:this.element,matchingSelector:u,withCallback:this.didClickActionButton}),e("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickAttributeButton}),e("click",{onElement:this.element,matchingSelector:y,preventDefault:!0}),e("click",{onElement:this.element,matchingSelector:l,withCallback:this.didClickDialogButton}),e("keydown",{onElement:this.element,matchingSelector:c,withCallback:this.didKeyDownDialogInput})}var u,s,l,c,f,p,d,h,m,y;return i(a,r),y=(s="[data-trix-attribute]")+", "+(u="[data-trix-action]"),(f="[data-trix-dialog]")+"[data-trix-active]",l=f+" [data-trix-method]",c=f+" [data-trix-input]",a.prototype.didClickActionButton=function(t,e){var n,r,o;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=p(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)?o.toolbarDidInvokeAction(n):void 0},a.prototype.didClickAttributeButton=function(t,e){var n,r,o;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=d(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)&&o.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},a.prototype.didClickDialogButton=function(e,n){var r;return r=t(n,{matchingSelector:f}),this[n.getAttribute("data-trix-method")].call(this,r)},a.prototype.didKeyDownDialogInput=function(t,e){var n,r;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),r=this.getDialog(n),this.setAttribute(r)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},a.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},a.prototype.refreshActionButtons=function(){return this.eachActionButton(function(t){return function(e,n){return e.disabled=!1===t.actions[n]}}(this))},a.prototype.eachActionButton=function(t){var e,n,r,o,i;for(i=[],n=0,r=(o=this.element.querySelectorAll(u)).length;r>n;n++)e=o[n],i.push(t(e,p(e)));return i},a.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},a.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(t){return function(e,n){return e.disabled=!1===t.attributes[n],t.attributes[n]||t.dialogIsVisible(n)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))}}(this))},a.prototype.eachAttributeButton=function(t){var e,n,r,o,i;for(i=[],n=0,r=(o=this.element.querySelectorAll(s)).length;r>n;n++)e=o[n],i.push(t(e,d(e)));return i},a.prototype.applyKeyboardCommand=function(t){var e,r,o,i,a,u;for(i=JSON.stringify(t.sort()),o=0,a=(u=this.element.querySelectorAll("[data-trix-key]")).length;a>o;o++)if(r=(e=u[o]).getAttribute("data-trix-key").split("+"),JSON.stringify(r.sort())===i)return n("mousedown",{onElement:e}),!0;return!1},a.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.hasAttribute("data-trix-active"):void 0},a.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},a.prototype.showDialog=function(t){var e,n,r,o,i,a,u,s,l;for(this.hideDialog(),null!=(a=this.delegate)&&a.toolbarWillShowDialog(),(n=this.getDialog(t)).setAttribute("data-trix-active",""),n.classList.add("trix-active"),r=0,i=(u=n.querySelectorAll("input[disabled]")).length;i>r;r++)u[r].removeAttribute("disabled");return(e=d(n))&&(o=m(n,t))&&(o.value=null!=(s=this.attributes[e])?s:"",o.select()),null!=(l=this.delegate)?l.toolbarDidShowDialog(t):void 0},a.prototype.setAttribute=function(t){var e,n,r;return e=d(t),(n=m(t,e)).willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):(null!=(r=this.delegate)&&r.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},a.prototype.removeAttribute=function(t){var e,n;return e=d(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},a.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector("[data-trix-dialog][data-trix-active]"))?(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(h(t)):void 0):void 0},a.prototype.resetDialogInputs=function(){var t,e,n,r,o;for(o=[],t=0,n=(r=this.element.querySelectorAll(c)).length;n>t;t++)(e=r[t]).setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),o.push(e.classList.remove("trix-validate"));return o},a.prototype.getDialog=function(t){return this.element.querySelector("[data-trix-dialog="+t+"]")},m=function(t,e){return null==e&&(e=d(t)),t.querySelector("[data-trix-input][name='"+e+"']")},p=function(t){return t.getAttribute("data-trix-action")},d=function(t){var e;return null!=(e=t.getAttribute("data-trix-attribute"))?e:t.getAttribute("data-trix-dialog-attribute")},h=function(t){return t.getAttribute("data-trix-dialog")},a}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ImagePreloadOperation=function(e){function n(t){this.url=t}return t(n,e),n.prototype.perform=function(t){var e;return(e=new Image).onload=function(n){return function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}}(this),e.onerror=function(){return t(!1)},e.src=this.url},n}(r.Operation)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;r.Attachment=function(n){function o(e){null==e&&(e={}),this.releaseFile=t(this.releaseFile,this),o.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(e),this.didChangeAttributes()}return e(o,n),o.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,o.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},o.attributesForFile=function(t){return new r.Hash({filename:t.name,filesize:t.size,contentType:t.type})},o.fromJSON=function(t){return new this(t)},o.prototype.getAttribute=function(t){return this.attributes.get(t)},o.prototype.hasAttribute=function(t){return this.attributes.has(t)},o.prototype.getAttributes=function(){return this.attributes.toObject()},o.prototype.setAttributes=function(t){var e,n,r;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.previewDelegate)&&"function"==typeof n.attachmentDidChangeAttributes&&n.attachmentDidChangeAttributes(this),null!=(r=this.delegate)&&"function"==typeof r.attachmentDidChangeAttributes?r.attachmentDidChangeAttributes(this):void 0)},o.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},o.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},o.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},o.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},o.prototype.getURL=function(){return this.attributes.get("url")},o.prototype.getHref=function(){return this.attributes.get("href")},o.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},o.prototype.getFilesize=function(){return this.attributes.get("filesize")},o.prototype.getFormattedFilesize=function(){var t;return"number"==typeof(t=this.attributes.get("filesize"))?r.config.fileSize.formatter(t):""},o.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},o.prototype.getContentType=function(){return this.attributes.get("contentType")},o.prototype.hasContent=function(){return this.attributes.has("content")},o.prototype.getContent=function(){return this.attributes.get("content")},o.prototype.getWidth=function(){return this.attributes.get("width")},o.prototype.getHeight=function(){return this.attributes.get("height")},o.prototype.getFile=function(){return this.file},o.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},o.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},o.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},o.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},o.prototype.toJSON=function(){return this.getAttributes()},o.prototype.getCacheKey=function(){return[o.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},o.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},o.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangeAttributes&&e.attachmentDidChangeAttributes(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},o.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},o.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},o.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},o.prototype.preload=function(t,e){return t&&t!==this.getPreviewURL()?(this.preloadingURL=t,new r.ImagePreloadOperation(t).then(function(n){return function(r){var o,i;return i=r.width,o=r.height,n.getWidth()&&n.getHeight()||n.setAttributes({width:i,height:o}),n.preloadingURL=null,n.setPreviewURL(t),"function"==typeof e?e():void 0}}(this)).catch(function(t){return function(){return t.preloadingURL=null,"function"==typeof e?e():void 0}}(this))):void 0},o}(r.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Piece=function(e){function n(t,e){null==e&&(e={}),n.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(e)}return t(n,e),n.types={},n.registerType=function(t,e){return e.type=t,this.types[t]=e},n.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},n.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},n.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(t){return this.attributes.get(t)},n.prototype.getAttributesHash=function(){return this.attributes},n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var t,e,n;return(n=pieceList.getPieceAtIndex(0))?(t=n.attributes,e=t.getKeys(),pieceList.eachPiece((function(n){return e=t.getKeysCommonToHash(n.attributes),t=t.slice(e)})),t.toObject()):{}},n.prototype.hasAttribute=function(t){return this.attributes.has(t)},n.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},n.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute("href")},n.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}(r.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Piece.registerType("attachment",r.AttachmentPiece=function(e){function n(t){this.attachment=t,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return t(n,e),n.fromJSON=function(t){return new this(r.Attachment.fromJSON(t.attachment),t.attributes)},n.permittedAttributes=["caption","presentation"],n.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)?(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice(t)),this.attributes=this.attributes.remove(t)):void 0},n.prototype.removeProhibitedAttributes=function(){var t;return(t=this.attributes.slice(this.constructor.permittedAttributes)).isEqualTo(this.attributes)?void 0:this.attributes=t},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},n.prototype.toString=function(){return r.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var t;return(t=n.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}(r.Piece))}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=r.normalizeNewlines,r.Piece.registerType("string",r.StringPiece=function(n){function r(e){r.__super__.constructor.apply(this,arguments),this.string=t(e),this.length=this.string.length}return e(r,n),r.fromJSON=function(t){return new this(t.string,t.attributes)},r.prototype.getValue=function(){return this.string},r.prototype.toString=function(){return this.string.toString()},r.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},r.prototype.toJSON=function(){var t;return(t=r.__super__.toJSON.apply(this,arguments)).string=this.string,t},r.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},r.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},r.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},r.prototype.toConsole=function(){var t;return(t=this.string).length>15&&(t=t.slice(0,14)+""),JSON.stringify(t.toString())},r}(r.Piece))}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty,o=[].slice;t=r.spliceArray,r.SplittableList=function(n){function r(t){null==t&&(t=[]),r.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var i,a,u;return e(r,n),r.box=function(t){return t instanceof this?t:new this(t)},r.prototype.indexOf=function(t){return this.objects.indexOf(t)},r.prototype.splice=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],new this.constructor(t.apply(null,[this.objects].concat(o.call(e))))},r.prototype.eachObject=function(t){var e,n,r,o,i,a;for(a=[],n=e=0,r=(i=this.objects).length;r>e;n=++e)o=i[n],a.push(t(o,n));return a},r.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},r.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(o.call(t.objects)))},r.prototype.insertSplittableListAtPosition=function(t,e){var n,r,o;return r=(o=this.splitObjectAtPosition(e))[0],n=o[1],new this.constructor(r).insertSplittableListAtIndex(t,n)},r.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},r.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},r.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},r.prototype.getObjectAtIndex=function(t){return this.objects[t]},r.prototype.getSplittableListInRange=function(t){var e,n,r,o;return n=(r=this.splitObjectsAtRange(t))[0],e=r[1],o=r[2],new this.constructor(n.slice(e,o+1))},r.prototype.selectSplittableList=function(t){var e,n;return n=function(){var n,r,o,i;for(i=[],n=0,r=(o=this.objects).length;r>n;n++)e=o[n],t(e)&&i.push(e);return i}.call(this),new this.constructor(n)},r.prototype.removeObjectsInRange=function(t){var e,n,r,o;return n=(r=this.splitObjectsAtRange(t))[0],e=r[1],o=r[2],new this.constructor(n).splice(e,o-e+1)},r.prototype.transformObjectsInRange=function(t,e){var n,r,o,i,a,u,s;return a=this.splitObjectsAtRange(t),i=a[0],r=a[1],u=a[2],s=function(){var t,a,s;for(s=[],n=t=0,a=i.length;a>t;n=++t)o=i[n],s.push(n>=r&&u>=n?e(o):o);return s}(),new this.constructor(s)},r.prototype.splitObjectsAtRange=function(t){var e,n,r,o,a;return n=(o=this.splitObjectAtPosition(u(t)))[0],e=o[1],r=o[2],[n=(a=new this.constructor(n).splitObjectAtPosition(i(t)+r))[0],e,a[1]-1]},r.prototype.getObjectAtPosition=function(t){var e,n;return e=(n=this.findIndexAndOffsetAtPosition(t)).index,n.offset,this.objects[e]},r.prototype.splitObjectAtPosition=function(t){var e,n,r,o,i,a,u,s,l;return e=(i=this.findIndexAndOffsetAtPosition(t)).index,o=i.offset,r=this.objects.slice(0),null!=e?0===o?(s=e,l=0):(n=(a=this.getObjectAtIndex(e).splitAtOffset(o))[0],u=a[1],r.splice(e,1,n,u),s=e+1,l=n.getLength()-o):(s=r.length,l=0),[r,s,l]},r.prototype.consolidate=function(){var t,e,n,r,o,i;for(r=[],o=this.objects[0],t=0,e=(i=this.objects.slice(1)).length;e>t;t++)n=i[t],("function"==typeof o.canBeConsolidatedWith?o.canBeConsolidatedWith(n):void 0)?o=o.consolidateWith(n):(r.push(o),o=n);return null!=o&&r.push(o),new this.constructor(r)},r.prototype.consolidateFromIndexToIndex=function(t,e){var n,r;return r=this.objects.slice(0).slice(t,e+1),n=new this.constructor(r).consolidate().toArray(),this.splice.apply(this,[t,r.length].concat(o.call(n)))},r.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,r,o,i,a;for(e=0,r=n=0,o=(a=this.objects).length;o>n;r=++n){if(i=e+a[r].getLength(),t>=e&&i>t)return{index:r,offset:t-e};e=i}return{index:null,offset:null}},r.prototype.findPositionAtIndexAndOffset=function(t,e){var n,r,o,i,a,u;for(a=0,n=r=0,o=(u=this.objects).length;o>r;n=++r)if(i=u[n],t>n)a+=i.getLength();else if(n===t){a+=e;break}return a},r.prototype.getEndPosition=function(){var t,e;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,r,o;for(e=0,n=0,r=(o=this.objects).length;r>n;n++)t=o[n],e+=t.getLength();return e}.call(this)},r.prototype.toString=function(){return this.objects.join("")},r.prototype.toArray=function(){return this.objects.slice(0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.isEqualTo=function(t){return r.__super__.isEqualTo.apply(this,arguments)||a(this.objects,null!=t?t.objects:void 0)},a=function(t,e){var n,r,o,i,a;if(null==e&&(e=[]),t.length!==e.length)return!1;for(a=!0,r=n=0,o=t.length;o>n;r=++n)i=t[r],a&&!i.isEqualTo(e[r])&&(a=!1);return a},r.prototype.contentsForInspection=function(){var t;return{objects:"["+function(){var e,n,r,o;for(o=[],e=0,n=(r=this.objects).length;n>e;e++)t=r[e],o.push(t.inspect());return o}.call(this).join(", ")+"]"}},u=function(t){return t[0]},i=function(t){return t[1]},r}(r.Object)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.Text=function(e){function n(t){var e;null==t&&(t=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new r.SplittableList(function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)(e=t[n]).isEmpty()||o.push(e);return o}())}return t(n,e),n.textForAttachmentWithAttributes=function(t,e){return new this([new r.AttachmentPiece(t,e)])},n.textForStringWithAttributes=function(t,e){return new this([new r.StringPiece(t,e)])},n.fromJSON=function(t){var e;return new this(function(){var n,o,i;for(i=[],n=0,o=t.length;o>n;n++)e=t[n],i.push(r.Piece.fromJSON(e));return i}())},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(t){var e,n;return n=function(){var n,r,o,i,a;for(a=[],n=0,r=(o=this.getPieces()).length;r>n;n++)e=o[n],a.push(null!=(i=t.find(e))?i:e);return a}.call(this),new this.constructor(n)},n.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},n.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},n.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},n.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},n.prototype.moveTextFromRangeToPosition=function(t,e){var n,r;if(!(t[0]<=e&&e<=t[1]))return n=(r=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(r,e)},n.prototype.addAttributeAtRange=function(t,e,n){var r;return(r={})[t]=e,this.addAttributesAtRange(r,n)},n.prototype.addAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithAdditionalAttributes(t)})))},n.prototype.removeAttributeAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithoutAttribute(t)})))},n.prototype.setAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithAttributes(t)})))},n.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},n.prototype.getCommonAttributes=function(){var t,e;return t=function(){var t,n,r,o;for(o=[],t=0,n=(r=this.pieceList.toArray()).length;n>t;t++)e=r[t],o.push(e.getAttributes());return o}.call(this),r.Hash.fromCommonAttributesOfObjects(t).toObject()},n.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,r,o;for(n=o=e,r=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,o])[t];)n--;for(;r>o&&this.getCommonAttributesAtRange([e,o+1])[t];)o++;return[n,o]},n.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},n.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},n.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},n.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},n.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},n.prototype.getAttachmentPieces=function(){var t,e,n,r,o;for(o=[],t=0,e=(r=this.pieceList.toArray()).length;e>t;t++)null!=(n=r[t]).attachment&&o.push(n);return o},n.prototype.getAttachments=function(){var t,e,n,r,o;for(o=[],t=0,e=(r=this.getAttachmentPieces()).length;e>t;t++)n=r[t],o.push(n.attachment);return o},n.prototype.getAttachmentAndPositionById=function(t){var e,n,r,o,i,a;for(o=0,e=0,n=(i=this.pieceList.toArray()).length;n>e;e++){if((null!=(a=(r=i[e]).attachment)?a.id:void 0)===t)return{attachment:r.attachment,position:o};o+=r.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(t){var e,n;return e=(n=this.getAttachmentAndPositionById(t)).attachment,n.position,e},n.prototype.getRangeOfAttachment=function(t){var e,n;return t=(n=this.getAttachmentAndPositionById(t.id)).attachment,e=n.position,null!=t?[e,e+1]:void 0},n.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList((function(t){return t.isSerializable()})),this.copyWithPieceList(t)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,o;for(o=[],e=0,n=(r=this.pieceList.toArray()).length;n>e;e++)t=r[e],o.push(JSON.parse(t.toConsole()));return o}.call(this))},n.prototype.getDirection=function(){return r.getDirection(this.toString())},n.prototype.isRTL=function(){return"rtl"===this.getDirection()},n}(r.Object)}.call(this),function(){var t,e,n,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},s=[].slice;t=r.arraysAreEqual,o=r.spliceArray,e=r.getBlockConfig,r.getBlockAttributeNames,n=r.getListAttributeNames,r.Block=function(a){function l(t,e){null==t&&(t=new r.Text),null==e&&(e=[]),l.__super__.constructor.apply(this,arguments),this.text=f(t),this.attributes=e}var c,f,p,d,h,m,y,v,b;return i(l,a),l.fromJSON=function(t){return new this(r.Text.fromJSON(t.text),t.attributes)},l.prototype.isEmpty=function(){return this.text.isBlockBreak()},l.prototype.isEqualTo=function(e){return l.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=e?e.text:void 0)&&t(this.attributes,null!=e?e.attributes:void 0)},l.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},l.prototype.copyWithoutText=function(){return this.copyWithText(null)},l.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},l.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},l.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},l.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(d(t)),this.copyWithAttributes(e)},l.prototype.removeAttribute=function(t){var n,r;return r=e(t).listAttribute,n=m(m(this.attributes,t),r),this.copyWithAttributes(n)},l.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},l.prototype.getLastAttribute=function(){return h(this.attributes)},l.prototype.getAttributes=function(){return this.attributes.slice(0)},l.prototype.getAttributeLevel=function(){return this.attributes.length},l.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},l.prototype.hasAttribute=function(t){return u.call(this.attributes,t)>=0},l.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},l.prototype.getLastNestableAttribute=function(){return h(this.getNestableAttributes())},l.prototype.getNestableAttributes=function(){var t,n,r,o,i;for(i=[],n=0,r=(o=this.attributes).length;r>n;n++)t=o[n],e(t).nestable&&i.push(t);return i},l.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},l.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},l.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=o.apply(null,[this.attributes,n+1,0].concat(s.call(d(t)))),this.copyWithAttributes(e)):this},l.prototype.getListItemAttributes=function(){var t,n,r,o,i;for(i=[],n=0,r=(o=this.attributes).length;r>n;n++)t=o[n],e(t).listAttribute&&i.push(t);return i},l.prototype.isListItem=function(){var t;return null!=(t=e(this.getLastAttribute()))?t.listAttribute:void 0},l.prototype.isTerminalBlock=function(){var t;return null!=(t=e(this.getLastAttribute()))?t.terminal:void 0},l.prototype.breaksOnReturn=function(){var t;return null!=(t=e(this.getLastAttribute()))?t.breakOnReturn:void 0},l.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,r;return r=this.toString(),-1!==(n=function(){switch(t){case"forward":return r.indexOf("\n",e);case"backward":return r.slice(0,e).lastIndexOf("\n")}}())?n:void 0},l.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},l.prototype.toString=function(){return this.text.toString()},l.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},l.prototype.getDirection=function(){return this.text.getDirection()},l.prototype.isRTL=function(){return this.text.isRTL()},l.prototype.getLength=function(){return this.text.getLength()},l.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()},l.prototype.consolidateWith=function(t){var e,n;return e=r.Text.textForStringWithAttributes("\n"),n=this.getTextWithoutBlockBreak().appendText(e),this.copyWithText(n.appendText(t.text))},l.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},l.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},l.prototype.getTextWithoutBlockBreak=function(){return y(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},l.prototype.canBeGrouped=function(t){return this.attributes[t]},l.prototype.canBeGroupedWith=function(t,r){var o,i,a,s;return i=(a=t.getAttributes())[r],!((o=this.attributes[r])!==i||!1===e(o).group&&(s=a[r+1],u.call(n(),s)<0)||this.getDirection()!==t.getDirection()&&!t.isEmpty())},f=function(t){return t=b(t),c(t)},b=function(t){var e,n,o,i,a,u;return i=!1,u=t.getPieces(),n=2<=u.length?s.call(u,0,e=u.length-1):(e=0,[]),null==(o=u[e++])?t:(n=function(){var t,e,r;for(r=[],t=0,e=n.length;e>t;t++)(a=n[t]).isBlockBreak()?(i=!0,r.push(v(a))):r.push(a);return r}(),i?new r.Text(s.call(n).concat([o])):t)},p=r.Text.textForStringWithAttributes("\n",{blockBreak:!0}),c=function(t){return y(t)?t:t.appendText(p)},y=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},v=function(t){return t.copyWithoutAttribute("blockBreak")},d=function(t){var n;return null!=(n=e(t).listAttribute)?[n,t]:[t]},h=function(t){return t.slice(-1)[0]},m=function(t,e){var n;return-1===(n=t.lastIndexOf(e))?t:o(t,n,1)},l}(r.Object)}.call(this),function(){var t,e,n,o=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},u=[].slice;e=r.tagName,n=r.walkTree,t=r.nodeIsAttachmentElement,r.HTMLSanitizer=function(i){function s(t,e){var n;n=null!=e?e:{},this.allowedAttributes=n.allowedAttributes,this.forbiddenProtocols=n.forbiddenProtocols,this.forbiddenElements=n.forbiddenElements,null==this.allowedAttributes&&(this.allowedAttributes=l),null==this.forbiddenProtocols&&(this.forbiddenProtocols=f),null==this.forbiddenElements&&(this.forbiddenElements=c),this.body=p(t)}var l,c,f,p;return o(s,i),l="style href src width height class".split(" "),f="javascript:".split(" "),c="script iframe".split(" "),s.sanitize=function(t,e){var n;return(n=new this(t,e)).sanitize(),n},s.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},s.prototype.getHTML=function(){return this.body.innerHTML},s.prototype.getBody=function(){return this.body},s.prototype.sanitizeElements=function(){var t,e,o,i,a;for(a=n(this.body),i=[];a.nextNode();)switch(o=a.currentNode,o.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(o)?i.push(o):this.sanitizeElement(o);break;case Node.COMMENT_NODE:i.push(o)}for(t=0,e=i.length;e>t;t++)o=i[t],r.removeNode(o);return this.body},s.prototype.sanitizeElement=function(t){var e,n,r,o,i;for(t.hasAttribute("href")&&(o=t.protocol,a.call(this.forbiddenProtocols,o)>=0&&t.removeAttribute("href")),e=0,n=(i=u.call(t.attributes)).length;n>e;e++)r=i[e].name,a.call(this.allowedAttributes,r)>=0||0===r.indexOf("data-trix")||t.removeAttribute(r);return t},s.prototype.normalizeListElementNesting=function(){var t,n,r,o,i;for(t=0,n=(i=u.call(this.body.querySelectorAll("ul,ol"))).length;n>t;t++)(o=(r=i[t]).previousElementSibling)&&"li"===e(o)&&o.appendChild(r);return this.body},s.prototype.elementIsRemovable=function(t){return(null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(t)||this.elementIsntSerializable(t):void 0},s.prototype.elementIsForbidden=function(t){var n;return n=e(t),a.call(this.forbiddenElements,n)>=0},s.prototype.elementIsntSerializable=function(e){return"false"===e.getAttribute("data-trix-serialize")&&!t(e)},p=function(t){var e,n,r,o,i;for(null==t&&(t=""),t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(e=document.implementation.createHTMLDocument("")).documentElement.innerHTML=t,r=0,o=(i=e.head.querySelectorAll("style")).length;o>r;r++)n=i[r],e.body.appendChild(n);return e.body},s}(r.BasicObject)}.call(this),function(){var t,e,n,o,i,a,u,s,l,c,f,p=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty,h=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.arraysAreEqual,a=r.makeElement,c=r.tagName,i=r.getBlockTagNames,f=r.walkTree,o=r.findClosestElementFromNode,n=r.elementContainsNode,u=r.nodeIsAttachmentElement,s=r.normalizeSpaces,e=r.breakableWhitespacePattern,l=r.squishBreakableWhitespace,r.HTMLParser=function(d){function m(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var y,v,b,g,w,_,E,k,x,O,S,C;return p(m,d),m.parse=function(t,e){var n;return(n=new this(t,e)).parse(),n},m.prototype.getDocument=function(){return r.Document.fromJSON(this.blocks)},m.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=r.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=t,e=f(this.containerElement,{usingFilter:E});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},m.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=a({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},m.prototype.removeHiddenContainer=function(){return r.removeNode(this.containerElement)},E=function(t){return"style"===c(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},m.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},m.prototype.appendBlockForTextNode=function(e){var n,r,o;return(r=e.parentNode)===this.currentBlockElement&&this.isBlockElement(e.previousSibling)?this.appendStringWithAttributes("\n"):r!==this.containerElement&&!this.isBlockElement(r)||(n=this.getBlockAttributes(r),t(n,null!=(o=this.currentBlock)?o.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(n,r),this.currentBlockElement=r)},m.prototype.appendBlockForElement=function(e){var r,o,i,a;if(i=this.isBlockElement(e),o=n(this.currentBlockElement,e),i&&!this.isBlockElement(e.firstChild)){if((!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild))&&(r=this.getBlockAttributes(e),e.firstChild))return o&&t(r,this.currentBlock.attributes)?this.appendStringWithAttributes("\n"):(this.currentBlock=this.appendBlockForAttributesWithElement(r,e),this.currentBlockElement=e)}else if(this.currentBlockElement&&!o&&!i)return(a=this.findParentBlockElement(e))?this.appendBlockForElement(a):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},m.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&h.call(this.blockElements,e)>=0)return e;e=e.parentElement}return null},m.prototype.processTextNode=function(t){var e,n;return n=t.data,v(t.parentNode)||(n=l(n),S(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=w(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode))},m.prototype.processElement=function(t){var e,n,r,o,i;if(u(t))return e=k(t,"attachment"),Object.keys(e).length&&(o=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,o),t.innerHTML=""),this.processedElements.push(t);switch(c(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":for(n in e={url:t.getAttribute("src"),contentType:"image"},r=g(t))i=r[n],e[n]=i;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},m.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=y(t),this.blocks.push(n),n},m.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},m.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(O(t,e))},m.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(x(t,e))},m.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},m.prototype.appendStringToTextAtIndex=function(t,e){var n,r;return"string"===(null!=(n=(r=this.blocks[e].text)[r.length-1])?n.type:void 0)?n.string+=t:r.push(O(t))},m.prototype.prependStringToTextAtIndex=function(t,e){var n,r;return"string"===(null!=(n=(r=this.blocks[e].text)[0])?n.type:void 0)?n.string=t+n.string:r.unshift(O(t))},O=function(t,e){return null==e&&(e={}),"string",{string:t=s(t),attributes:e,type:"string"}},x=function(t,e){return null==e&&(e={}),"attachment",{attachment:t,attributes:e,type:"attachment"}},y=function(t){return null==t&&(t={}),{text:[],attributes:t}},m.prototype.getTextAttributes=function(t){var e,n,i,a,s,l,c,f,p,d,h,m;for(e in i={},p=r.config.textAttributes)if((s=p[e]).tagName&&o(t,{matchingSelector:s.tagName,untilNode:this.containerElement}))i[e]=!0;else if(s.parser){if(m=s.parser(t)){for(n=!1,l=0,f=(d=this.findBlockElementAncestors(t)).length;f>l;l++)if(a=d[l],s.parser(a)===m){n=!0;break}n||(i[e]=m)}}else s.styleProperty&&(m=t.style[s.styleProperty])&&(i[e]=m);if(u(t))for(c in h=k(t,"attributes"))m=h[c],i[c]=m;return i},m.prototype.getBlockAttributes=function(t){var e,n,o,i;for(n=[];t&&t!==this.containerElement;){for(e in i=r.config.blockAttributes)!1!==(o=i[e]).parse&&c(t)===o.tagName&&(("function"==typeof o.test?o.test(t):void 0)||!o.test)&&(n.push(e),o.listAttribute&&n.push(o.listAttribute));t=t.parentNode}return n.reverse()},m.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=c(t),h.call(i(),n)>=0&&e.push(t),t=t.parentNode;return e},k=function(t,e){try{return JSON.parse(t.getAttribute("data-trix-"+e))}catch(t){return{}}},g=function(t){var e,n,r;return r=t.getAttribute("width"),n=t.getAttribute("height"),e={},r&&(e.width=parseInt(r,10)),n&&(e.height=parseInt(n,10)),e},m.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!u(t)&&!o(t,{matchingSelector:"td",untilNode:this.containerElement}))return e=c(t),h.call(i(),e)>=0||"block"===window.getComputedStyle(t).display},m.prototype.isInsignificantTextNode=function(t){var e,n,r;if((null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&C(t.data)&&(n=t.parentNode,r=t.previousSibling,e=t.nextSibling,(!_(n.previousSibling)||this.isBlockElement(n.previousSibling))&&!v(n)))return!r||this.isBlockElement(r)||!e||this.isBlockElement(e)},m.prototype.isExtraBR=function(t){return"br"===c(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},v=function(t){var e;return"pre"===(e=window.getComputedStyle(t).whiteSpace)||"pre-wrap"===e||"pre-line"===e},_=function(t){return t&&!S(t.textContent)},m.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,r,o,i,a;for(t=this.getMarginOfDefaultBlockElement(),a=[],n=e=0,r=(i=this.blocks).length;r>e;n=++e)i[n],(o=this.getMarginOfBlockElementAtIndex(n))&&(o.top>2*t.top&&this.prependStringToTextAtIndex("\n",n),a.push(o.bottom>2*t.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return a},m.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||!e.textContent||(n=c(e),h.call(i(),n)>=0||h.call(this.processedElements,e)>=0)?void 0:b(e)},m.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=a(r.config.blockAttributes.default.tagName),this.containerElement.appendChild(t),b(t)},b=function(t){var e;return"block"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},w=function(t){return t.replace(RegExp("^"+e.source+"+"),"")},C=function(t){return RegExp("^"+e.source+"*$").test(t)},S=function(t){return/\s$/.test(t)},m}(r.BasicObject)}.call(this),function(){var t,e,n,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].slice,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.arraysAreEqual,n=r.normalizeRange,o=r.rangeIsCollapsed,e=r.getBlockConfig,r.Document=function(a){function l(t){null==t&&(t=[]),l.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new r.Block]),this.blockList=r.SplittableList.box(t)}var c;return i(l,a),l.fromJSON=function(t){var e;return new this(function(){var n,o,i;for(i=[],n=0,o=t.length;o>n;n++)e=t[n],i.push(r.Block.fromJSON(e));return i}())},l.fromHTML=function(t,e){return r.HTMLParser.parse(t,e).getDocument()},l.fromString=function(t,e){var n;return n=r.Text.textForStringWithAttributes(t,e),new this([new r.Block(n)])},l.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},l.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},l.prototype.copyUsingObjectsFromDocument=function(t){var e;return e=new r.ObjectMap(t.getObjects()),this.copyUsingObjectMap(e)},l.prototype.copyUsingObjectMap=function(t){var e,n,r;return n=function(){var n,o,i,a;for(a=[],n=0,o=(i=this.getBlocks()).length;o>n;n++)e=i[n],a.push((r=t.find(e))?r:e.copyUsingObjectMap(t));return a}.call(this),new this.constructor(n)},l.prototype.copyWithBaseBlockAttributes=function(t){var e,n,r;return null==t&&(t=[]),r=function(){var r,o,i,a;for(a=[],r=0,o=(i=this.getBlocks()).length;o>r;r++)n=i[r],e=t.concat(n.getAttributes()),a.push(n.copyWithAttributes(e));return a}.call(this),new this.constructor(r)},l.prototype.replaceBlock=function(t,e){var n;return-1===(n=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},l.prototype.insertDocumentAtRange=function(t,e){var r,i,a,u,s,l,c;return i=t.blockList,s=(e=n(e))[0],a=(l=this.locationFromPosition(s)).index,u=l.offset,c=this,r=this.getBlockAtPosition(s),o(e)&&r.isEmpty()&&!r.hasAttributes()?c=new this.constructor(c.blockList.removeObjectAtIndex(a)):r.getBlockBreakPosition()===u&&s++,c=c.removeTextAtRange(e),new this.constructor(c.blockList.insertSplittableListAtPosition(i,s))},l.prototype.mergeDocumentAtRange=function(e,r){var o,i,a,u,s,l,c,f,p,d,h,m;return h=(r=n(r))[0],d=this.locationFromPosition(h),i=this.getBlockAtIndex(d.index).getAttributes(),o=e.getBaseBlockAttributes(),m=i.slice(-o.length),t(o,m)?(c=i.slice(0,-o.length),l=e.copyWithBaseBlockAttributes(c)):l=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(i),a=l.getBlockCount(),u=l.getBlockAtIndex(0),t(i,u.getAttributes())?(s=u.getTextWithoutBlockBreak(),p=this.insertTextAtRange(s,r),a>1&&(l=new this.constructor(l.getBlocks().slice(1)),f=h+s.getLength(),p=p.insertDocumentAtRange(l,f))):p=this.insertDocumentAtRange(l,r),p},l.prototype.insertTextAtRange=function(t,e){var r,o,i,a,u;return u=(e=n(e))[0],o=(a=this.locationFromPosition(u)).index,i=a.offset,r=this.removeTextAtRange(e),new this.constructor(r.blockList.editObjectAtIndex(o,(function(e){return e.copyWithText(e.text.insertTextAtPosition(t,i))})))},l.prototype.removeTextAtRange=function(t){var e,r,i,a,u,s,l,c,f,p,d,h,m,y,v,b,g,w;return c=(p=t=n(t))[0],b=p[1],o(t)?this:(s=(d=this.locationRangeFromRange(t))[0],y=d[1],u=s.index,l=s.offset,a=this.getBlockAtIndex(u),m=y.index,v=y.offset,h=this.getBlockAtIndex(m),b-c==1&&a.getBlockBreakPosition()===l&&h.getBlockBreakPosition()!==v&&"\n"===h.text.getStringAtPosition(v)?i=this.blockList.editObjectAtIndex(m,(function(t){return t.copyWithText(t.text.removeTextAtRange([v,v+1]))})):(f=a.text.getTextAtRange([0,l]),g=h.text.getTextAtRange([v,h.getLength()]),w=f.appendText(g),r=u!==m&&0===l&&a.getAttributeLevel()>=h.getAttributeLevel()?h.copyWithText(w):a.copyWithText(w),e=m+1-u,i=this.blockList.splice(u,e,r)),new this.constructor(i))},l.prototype.moveTextFromRangeToPosition=function(t,e){var r,o,i,a,s,l,c,f,p,d;return p=(l=t=n(t))[0],i=l[1],e>=p&&i>=e?this:(o=this.getDocumentAtRange(t),f=this.removeTextAtRange(t),(s=e>p)&&(e-=o.getLength()),a=(c=o.getBlocks())[0],0===(r=2<=c.length?u.call(c,1):[]).length?(d=a.getTextWithoutBlockBreak(),s&&(e+=1)):d=a.text,f=f.insertTextAtRange(d,e),0===r.length?f:(o=new this.constructor(r),e+=d.getLength(),f.insertDocumentAtRange(o,e)))},l.prototype.addAttributeAtRange=function(t,n,r){var o;return o=this.blockList,this.eachBlockAtRange(r,(function(r,i,a){return o=o.editObjectAtIndex(a,(function(){return e(t)?r.addAttribute(t,n):i[0]===i[1]?r:r.copyWithText(r.text.addAttributeAtRange(t,n,i))}))})),new this.constructor(o)},l.prototype.addAttribute=function(t,e){var n;return n=this.blockList,this.eachBlock((function(r,o){return n=n.editObjectAtIndex(o,(function(){return r.addAttribute(t,e)}))})),new this.constructor(n)},l.prototype.removeAttributeAtRange=function(t,n){var r;return r=this.blockList,this.eachBlockAtRange(n,(function(n,o,i){return e(t)?r=r.editObjectAtIndex(i,(function(){return n.removeAttribute(t)})):o[0]!==o[1]?r=r.editObjectAtIndex(i,(function(){return n.copyWithText(n.text.removeAttributeAtRange(t,o))})):void 0})),new this.constructor(r)},l.prototype.updateAttributesForAttachment=function(t,e){var n,r,o;return r=this.getRangeOfAttachment(e)[0],n=this.locationFromPosition(r).index,o=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,(function(n){return n.copyWithText(o.updateAttributesForAttachment(t,e))})))},l.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},l.prototype.insertBlockBreakAtRange=function(t){var e,o,i,a;return a=(t=n(t))[0],i=this.locationFromPosition(a).offset,o=this.removeTextAtRange(t),0===i&&(e=[new r.Block]),new this.constructor(o.blockList.insertSplittableListAtPosition(new r.SplittableList(e),a))},l.prototype.applyBlockAttributeAtRange=function(t,n,r){var o,i,a,u;return i=(a=this.expandRangeToLineBreaksAndSplitBlocks(r)).document,r=a.range,(o=e(t)).listAttribute?(u=(i=i.removeLastListAttributeAtRange(r,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(r),i=u.document,r=u.range):i=o.exclusive?i.removeBlockAttributesAtRange(r):o.terminal?i.removeLastTerminalAttributeAtRange(r):i.consolidateBlocksAtRange(r),i.addAttributeAtRange(t,n,r)},l.prototype.removeLastListAttributeAtRange=function(t,n){var r;return null==n&&(n={}),r=this.blockList,this.eachBlockAtRange(t,(function(t,o,i){var a;if((a=t.getLastAttribute())&&e(a).listAttribute&&a!==n.exceptAttributeName)return r=r.editObjectAtIndex(i,(function(){return t.removeAttribute(a)}))})),new this.constructor(r)},l.prototype.removeLastTerminalAttributeAtRange=function(t){var n;return n=this.blockList,this.eachBlockAtRange(t,(function(t,r,o){var i;if((i=t.getLastAttribute())&&e(i).terminal)return n=n.editObjectAtIndex(o,(function(){return t.removeAttribute(i)}))})),new this.constructor(n)},l.prototype.removeBlockAttributesAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,(function(t,n,r){return t.hasAttributes()?e=e.editObjectAtIndex(r,(function(){return t.copyWithoutAttributes()})):void 0})),new this.constructor(e)},l.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,r,o,i,a,u,s,l,c;return c=(u=t=n(t))[0],i=u[1],l=this.locationFromPosition(c),o=this.locationFromPosition(i),s=(e=this).getBlockAtIndex(l.index),null!=(l.offset=s.findLineBreakInDirectionFromPosition("backward",l.offset))&&(a=e.positionFromLocation(l),e=e.insertBlockBreakAtRange([a,a+1]),o.index+=1,o.offset-=e.getBlockAtIndex(l.index).getLength(),l.index+=1),l.offset=0,0===o.offset&&o.index>l.index?(o.index-=1,o.offset=e.getBlockAtIndex(o.index).getBlockBreakPosition()):("\n"===(r=e.getBlockAtIndex(o.index)).text.getStringAtRange([o.offset-1,o.offset])?o.offset-=1:o.offset=r.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==r.getBlockBreakPosition()&&(a=e.positionFromLocation(o),e=e.insertBlockBreakAtRange([a,a+1]))),c=e.positionFromLocation(l),i=e.positionFromLocation(o),{document:e,range:t=n([c,i])}},l.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,r,o;return r=(t=n(t))[0],o=this.getStringAtRange(t).slice(0,-1),e=this,o.replace(/.*?\n/g,(function(t){return r+=t.length,e=e.insertBlockBreakAtRange([r-1,r])})),{document:e,range:t}},l.prototype.consolidateBlocksAtRange=function(t){var e,r,o,i,a;return a=(o=t=n(t))[0],r=o[1],i=this.locationFromPosition(a).index,e=this.locationFromPosition(r).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(i,e))},l.prototype.getDocumentAtRange=function(t){var e;return t=n(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},l.prototype.getStringAtRange=function(t){var e,r;return(r=t=n(t))[r.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)},l.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},l.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},l.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},l.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},l.prototype.getPieceAtPosition=function(t){var e,n,r;return e=(r=this.locationFromPosition(t)).index,n=r.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},l.prototype.getCharacterAtPosition=function(t){var e,n,r;return e=(r=this.locationFromPosition(t)).index,n=r.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},l.prototype.getLength=function(){return this.blockList.getEndPosition()},l.prototype.getBlocks=function(){return this.blockList.toArray()},l.prototype.getBlockCount=function(){return this.blockList.length},l.prototype.getEditCount=function(){return this.editCount},l.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},l.prototype.eachBlockAtRange=function(t,e){var r,o,i,a,u,s,l,c,f,p,d,h;if(d=(s=t=n(t))[0],i=s[1],p=this.locationFromPosition(d),o=this.locationFromPosition(i),p.index===o.index)return r=this.getBlockAtIndex(p.index),h=[p.offset,o.offset],e(r,h,p.index);for(f=[],u=a=l=p.index,c=o.index;c>=l?c>=a:a>=c;u=c>=l?++a:--a)(r=this.getBlockAtIndex(u))?(h=function(){switch(u){case p.index:return[p.offset,r.text.getLength()];case o.index:return[0,o.offset];default:return[0,r.text.getLength()]}}(),f.push(e(r,h,u))):f.push(void 0);return f},l.prototype.getCommonAttributesAtRange=function(t){var e,i,a;return i=(t=n(t))[0],o(t)?this.getCommonAttributesAtPosition(i):(a=[],e=[],this.eachBlockAtRange(t,(function(t,n){return n[0]!==n[1]?(a.push(t.text.getCommonAttributesAtRange(n)),e.push(c(t))):void 0})),r.Hash.fromCommonAttributesOfObjects(a).merge(r.Hash.fromCommonAttributesOfObjects(e)).toObject())},l.prototype.getCommonAttributesAtPosition=function(t){var e,n,o,i,a,u,l,f,p,d;if(a=(p=this.locationFromPosition(t)).index,f=p.offset,!(o=this.getBlockAtIndex(a)))return{};for(l in i=c(o),e=o.text.getAttributesAtPosition(f),n=o.text.getAttributesAtPosition(f-1),u=function(){var t,e;for(l in e=[],t=r.config.textAttributes)(d=t[l]).inheritable&&e.push(l);return e}(),n)((d=n[l])===e[l]||s.call(u,l)>=0)&&(i[l]=d);return i},l.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var r,o,i,a,u,s,l,c;return i=(u=this.locationFromPosition(e)).index,a=u.offset,c=(s=this.getTextAtIndex(i).getExpandedRangeForAttributeAtOffset(t,a))[0],o=s[1],l=this.positionFromLocation({index:i,offset:c}),r=this.positionFromLocation({index:i,offset:o}),n([l,r])},l.prototype.getBaseBlockAttributes=function(){var t,e,n,r,o,i,a;for(t=this.getBlockAtIndex(0).getAttributes(),n=r=1,a=this.getBlockCount();a>=1?a>r:r>a;n=a>=1?++r:--r)e=this.getBlockAtIndex(n).getAttributes(),i=Math.min(t.length,e.length),t=function(){var n,r,a;for(a=[],o=n=0,r=i;(r>=0?r>n:n>r)&&e[o]===t[o];o=r>=0?++n:--n)a.push(e[o]);return a}();return t},c=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},l.prototype.getAttachmentById=function(t){var e,n,r,o;for(n=0,r=(o=this.getAttachments()).length;r>n;n++)if((e=o[n]).id===t)return e},l.prototype.getAttachmentPieces=function(){var t;return t=[],this.blockList.eachObject((function(e){var n;return n=e.text,t=t.concat(n.getAttachmentPieces())})),t},l.prototype.getAttachments=function(){var t,e,n,r,o;for(o=[],t=0,e=(r=this.getAttachmentPieces()).length;e>t;t++)n=r[t],o.push(n.attachment);return o},l.prototype.getRangeOfAttachment=function(t){var e,r,o,i,a,u,s;for(i=0,r=e=0,o=(a=this.blockList.toArray()).length;o>e;r=++e){if(s=(u=a[r].text).getRangeOfAttachment(t))return n([i+s[0],i+s[1]]);i+=u.getLength()}},l.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},l.prototype.getAttachmentPieceForAttachment=function(t){var e,n,r,o;for(e=0,n=(o=this.getAttachmentPieces()).length;n>e;e++)if((r=o[e]).attachment===t)return r},l.prototype.findRangesForBlockAttribute=function(t){var e,n,r,o,i,a,u;for(i=0,a=[],n=0,r=(u=this.getBlocks()).length;r>n;n++)o=(e=u[n]).getLength(),e.hasAttribute(t)&&a.push([i,i+o]),i+=o;return a},l.prototype.findRangesForTextAttribute=function(t,e){var n,r,o,i,a,u,s,l,c,f;for(f=(null!=e?e:{}).withValue,u=0,s=[],l=[],i=function(e){return null!=f?e.getAttribute(t)===f:e.hasAttribute(t)},n=0,r=(c=this.getPieces()).length;r>n;n++)o=(a=c[n]).getLength(),i(a)&&(s[1]===u?s[1]=u+o:l.push(s=[u,u+o])),u+=o;return l},l.prototype.locationFromPosition=function(t){var e,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?n:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},l.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},l.prototype.locationRangeFromPosition=function(t){return n(this.locationFromPosition(t))},l.prototype.locationRangeFromRange=function(t){var e,r,o,i;if(t=n(t))return i=t[0],r=t[1],o=this.locationFromPosition(i),e=this.locationFromPosition(r),n([o,e])},l.prototype.rangeFromLocationRange=function(t){var e,r;return t=n(t),e=this.positionFromLocation(t[0]),o(t)||(r=this.positionFromLocation(t[1])),n([e,r])},l.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},l.prototype.getTexts=function(){var t,e,n,r,o;for(o=[],e=0,n=(r=this.getBlocks()).length;n>e;e++)t=r[e],o.push(t.text);return o},l.prototype.getPieces=function(){var t,e,n,r,o;for(n=[],t=0,e=(r=this.getTexts()).length;e>t;t++)o=r[t],n.push.apply(n,o.getPieces());return n},l.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},l.prototype.toSerializableDocument=function(){var t;return t=[],this.blockList.eachObject((function(e){return t.push(e.copyWithText(e.text.toSerializableText()))})),new this.constructor(t)},l.prototype.toString=function(){return this.blockList.toString()},l.prototype.toJSON=function(){return this.blockList.toJSON()},l.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,o;for(o=[],e=0,n=(r=this.blockList.toArray()).length;n>e;e++)t=r[e],o.push(JSON.parse(t.text.toConsole()));return o}.call(this))},l}(r.Object)}.call(this),function(){r.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var t,e,n,o,i,a,u,s,l,c,f=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;a=r.normalizeRange,l=r.rangesAreEqual,s=r.rangeIsCollapsed,u=r.objectsAreEqual,t=r.arrayStartsWith,c=r.summarizeArrayChange,n=r.getAllAttributeNames,o=r.getBlockConfig,i=r.getTextConfig,e=r.extend,r.Composition=function(p){function d(){this.document=new r.Document,this.attachments=[],this.currentAttributes={},this.revision=0}return f(d,p),d.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},d.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},d.prototype.loadSnapshot=function(t){var e,n,o,i;return e=t.document,i=t.selectedRange,null!=(n=this.delegate)&&"function"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=e?e:new r.Document),this.setSelection(null!=i?i:[0,0]),null!=(o=this.delegate)&&"function"==typeof o.compositionDidLoadSnapshot?o.compositionDidLoadSnapshot():void 0},d.prototype.insertText=function(t,e){var n,r,o,i;return i=(null!=e?e:{updatePosition:!0}).updatePosition,r=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,r)),n=(o=r[0])+t.getLength(),i&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},d.prototype.insertBlock=function(t){var e;return null==t&&(t=new r.Block),e=new r.Document([t]),this.insertDocument(e)},d.prototype.insertDocument=function(t){var e,n,o;return null==t&&(t=new r.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,n)),e=(o=n[0])+t.getLength(),this.setSelection(e),this.notifyDelegateOfInsertionAtRange([o,e])},d.prototype.insertString=function(t,e){var n,o;return n=this.getCurrentTextAttributes(),o=r.Text.textForStringWithAttributes(t,n),this.insertText(o,e)},d.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(n=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},d.prototype.insertLineBreak=function(){var t,e;return(e=new r.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(e.startPosition)):e.shouldPrependListItem()?(t=new r.Document([e.block.copyWithoutText()]),this.insertDocument(t)):e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString("\n")},d.prototype.insertHTML=function(t){var e,n,o,i;return e=r.Document.fromHTML(t),o=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(e,o)),n=(i=o[0])+e.getLength()-1,this.setSelection(n),this.notifyDelegateOfInsertionAtRange([i,n])},d.prototype.replaceHTML=function(t){var e,n,o;return e=r.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),o=this.document.rangeFromLocationRange(n),this.setDocument(e),this.setSelection(o)},d.prototype.insertFile=function(t){return this.insertFiles([t])},d.prototype.insertFiles=function(t){var e,n,o,i,a,u;for(n=[],i=0,a=t.length;a>i;i++)o=t[i],(null!=(u=this.delegate)?u.compositionShouldAcceptFile(o):void 0)&&(e=r.Attachment.attachmentForFile(o),n.push(e));return this.insertAttachments(n)},d.prototype.insertAttachment=function(t){return this.insertAttachments([t])},d.prototype.insertAttachments=function(t){var e,n,o,i,a,u,s,l,c;for(l=new r.Text,i=0,a=t.length;a>i;i++)c=(e=t[i]).getType(),u=null!=(s=r.config.attachments[c])?s.presentation:void 0,o=this.getCurrentTextAttributes(),u&&(o.presentation=u),n=r.Text.textForAttachmentWithAttributes(e,o),l=l.appendText(n);return this.insertText(l)},d.prototype.shouldManageDeletingInDirection=function(t){var e;if(e=this.getLocationRange(),s(e)){if("backward"===t&&0===e[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1},d.prototype.deleteInDirection=function(t,e){var n,r,o,i,a,u,l,c;return i=(null!=e?e:{}).length,a=this.getLocationRange(),u=this.getSelectedRange(),(l=s(u))?o="backward"===t&&0===a[0].offset:c=a[0].index!==a[1].index,!(o&&this.canDecreaseBlockAttributeLevel()&&(r=this.getBlock(),r.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(u[0]),r.isEmpty()))&&(l&&(u=this.getExpandedRangeInDirection(t,{length:i}),"backward"===t&&(n=this.getAttachmentAtRange(u))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(u)),this.setSelection(u[0]),!o&&!c&&void 0))},d.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},d.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},d.prototype.removeLastBlockAttribute=function(){var t,e,n,r;return r=(n=this.getSelectedRange())[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(r)}," ",d.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")},d.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+" ".length]),this.getSelectedRange()):void 0},d.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},d.prototype.hasCurrentAttribute=function(t){var e;return null!=(e=this.currentAttributes[t])&&!1!==e},d.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},d.prototype.canSetCurrentAttribute=function(t){return o(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},d.prototype.canSetCurrentTextAttribute=function(){var t,e,n,r;if(t=this.getSelectedDocument()){for(e=0,n=(r=t.getAttachments()).length;n>e;e++)if(!r[e].hasContent())return!1;return!0}},d.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},d.prototype.setCurrentAttribute=function(t,e){return o(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},d.prototype.setTextAttribute=function(t,e){var n,o;if(n=this.getSelectedRange())return n[0]!==n[1]?this.setDocument(this.document.addAttributeAtRange(t,e,n)):"href"===t?(o=r.Text.textForStringWithAttributes(e,{href:e}),this.insertText(o)):void 0},d.prototype.setBlockAttribute=function(t,e){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},d.prototype.removeCurrentAttribute=function(t){return o(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},d.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.canDecreaseNestingLevel=function(){var t;return(null!=(t=this.getBlock())?t.getNestingLevel():void 0)>0},d.prototype.canIncreaseNestingLevel=function(){var e,n,r;if(e=this.getBlock())return null!=(r=o(e.getLastNestableAttribute()))&&r.listAttribute?(n=this.getPreviousBlock())?t(n.getListItemAttributes(),e.getListItemAttributes()):void 0:e.getNestingLevel()>0},d.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},d.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},d.prototype.canDecreaseBlockAttributeLevel=function(){var t;return(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)>0},d.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},d.prototype.decreaseListLevel=function(){var t,e,n,r,o,i;for(i=this.getSelectedRange()[0],n=o=this.document.locationFromPosition(i).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return i=this.document.positionFromLocation({index:o,offset:0}),r=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([i,r]))},d.prototype.updateCurrentAttributes=function(){var t,e,r,o,i,a;if(a=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(a),r=0,o=(i=n()).length;o>r;r++)e[t=i[r]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!u(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},d.prototype.getCurrentAttributes=function(){return e.call({},this.currentAttributes)},d.prototype.getCurrentTextAttributes=function(){var t,e,n,r;for(e in t={},n=this.currentAttributes)!1!==(r=n[e])&&i(e)&&(t[e]=r);return t},d.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},d.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},d.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},d.proxyMethod("getSelectionManager().getPointRange"),d.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),d.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),d.proxyMethod("getSelectionManager().locationIsCursorTarget"),d.proxyMethod("getSelectionManager().selectionIsExpanded"),d.proxyMethod("delegate?.getSelectionManager"),d.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},d.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},d.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},d.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},d.prototype.getLocationRange=function(t){var e,n;return null!=(e=null!=(n=this.targetLocationRange)?n:this.getSelectionManager().getLocationRange(t))?e:a({index:0,offset:0})},d.prototype.withTargetLocationRange=function(t,e){var n;this.targetLocationRange=t;try{n=e()}finally{this.targetLocationRange=null}return n},d.prototype.withTargetRange=function(t,e){var n;return n=this.document.locationRangeFromRange(t),this.withTargetLocationRange(n,e)},d.prototype.withTargetDOMRange=function(t,e){var n;return n=this.createLocationRangeFromDOMRange(t,{strict:!1}),this.withTargetLocationRange(n,e)},d.prototype.getExpandedRangeInDirection=function(t,e){var n,r,o,i;return r=(null!=e?e:{}).length,i=(o=this.getSelectedRange())[0],n=o[1],"backward"===t?r?i-=r:i=this.translateUTF16PositionFromOffset(i,-1):r?n+=r:n=this.translateUTF16PositionFromOffset(n,1),a([i,n])},d.prototype.shouldManageMovingCursorInDirection=function(t){var e;return!!this.editingAttachment||(e=this.getExpandedRangeInDirection(t),null!=this.getAttachmentAtRange(e))},d.prototype.moveCursorInDirection=function(t){var e,n,r,o;return this.editingAttachment?r=this.document.getRangeOfAttachment(this.editingAttachment):(o=this.getSelectedRange(),r=this.getExpandedRangeInDirection(t),n=!l(o,r)),this.setSelectedRange("backward"===t?r[0]:r[1]),n&&(e=this.getAttachmentAtRange(r))?this.editAttachment(e):void 0},d.prototype.expandSelectionInDirection=function(t,e){var n,r;return n=(null!=e?e:{}).length,r=this.getExpandedRangeInDirection(t,{length:n}),this.setSelectedRange(r)},d.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},d.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},d.prototype.selectionContainsAttachments=function(){var t;return(null!=(t=this.getSelectedAttachments())?t.length:void 0)>0},d.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},d.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},d.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},d.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},d.prototype.getSelectedAttachments=function(){var t;return null!=(t=this.getSelectedDocument())?t.getAttachments():void 0},d.prototype.getAttachments=function(){return this.attachments.slice(0)},d.prototype.refreshAttachments=function(){var t,e,n,r,o,i,a,u,s,l,f,p;for(n=this.document.getAttachments(),t=(u=c(this.attachments,n)).added,f=u.removed,this.attachments=n,r=0,i=f.length;i>r;r++)(e=f[r]).delegate=null,null!=(s=this.delegate)&&"function"==typeof s.compositionDidRemoveAttachment&&s.compositionDidRemoveAttachment(e);for(p=[],o=0,a=t.length;a>o;o++)(e=t[o]).delegate=this,p.push(null!=(l=this.delegate)&&"function"==typeof l.compositionDidAddAttachment?l.compositionDidAddAttachment(e):void 0);return p},d.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},d.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},d.prototype.editAttachment=function(t,e){var n;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(n=this.delegate)&&"function"==typeof n.compositionDidStartEditingAttachment?n.compositionDidStartEditingAttachment(this.editingAttachment,e):void 0},d.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},d.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},d.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},d.prototype.breakFormattedBlock=function(t){var e,n,o,i,a;return n=t.document,e=t.block,a=[(i=t.startPosition)-1,i],e.getBlockBreakPosition()===t.startLocation.offset?(e.breaksOnReturn()&&"\n"===t.nextCharacter?i+=1:n=n.removeTextAtRange(a),a=[i,i]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?a=[i-1,i+1]:(a=[i,i+1],i+=1):t.startLocation.offset-1!=0&&(i+=1),o=new r.Document([e.removeLastAttribute().copyWithoutText()]),this.setDocument(n.insertDocumentAtRange(o,a)),this.setSelection(i)},d.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&(t=e[0].index)>0?this.document.getBlockAtIndex(t-1):void 0},d.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},d.prototype.getAttachmentAtRange=function(t){var e;return(e=this.document.getDocumentAtRange(t)).toString()===r.OBJECT_REPLACEMENT_CHARACTER+"\n"?e.getAttachments()[0]:void 0},d.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},d.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},d.prototype.translateUTF16PositionFromOffset=function(t,e){var n,r;return n=(r=this.document.toUTF16String()).offsetFromUCS2Offset(t),r.offsetToUCS2Offset(n+e)},d}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.UndoManager=function(e){function n(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var r;return t(n,e),n.prototype.recordUndoEntry=function(t,e){var n,o,i,a,u;return o=(a=null!=e?e:{}).context,n=a.consolidatable,i=this.undoEntries.slice(-1)[0],n&&r(i,t,o)?void 0:(u=this.createEntry({description:t,context:o}),this.undoEntries.push(u),this.redoEntries=[])},n.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(t){var e,n,r;return n=(r=null!=t?t:{}).description,e=r.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},r=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},n}(r.BasicObject)}.call(this),function(){var t;r.attachmentGalleryFilter=function(e){var n;return(n=new t(e)).perform(),n.getSnapshot()},t=function(){function t(t){this.document=t.document,this.selectedRange=t.selectedRange}var e;return e="attachmentGallery","presentation","gallery",t.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},t.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},t.prototype.removeBlockAttribute=function(){var t,n,r,o,i;for(i=[],t=0,n=(o=this.findRangesOfBlocks()).length;n>t;t++)r=o[t],i.push(this.document=this.document.removeAttributeAtRange(e,r));return i},t.prototype.applyBlockAttribute=function(){var t,n,r,o,i,a;for(r=0,a=[],t=0,n=(i=this.findRangesOfPieces()).length;n>t;t++)(o=i[t])[1]-o[0]>1&&(o[0]+=r,o[1]+=r,"\n"!==this.document.getCharacterAtPosition(o[1])&&(this.document=this.document.insertBlockBreakAtRange(o[1]),o[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),o[1]++,r++),0!==o[0]&&"\n"!==this.document.getCharacterAtPosition(o[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(o[0]),o[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),o[0]++,r++),a.push(this.document=this.document.applyBlockAttributeAtRange(e,!0,o)));return a},t.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(e)},t.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})},t.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},t}()}.call(this),function(){r.Editor=function(){function t(t,n,o){this.composition=t,this.selectionManager=n,this.element=o,this.insertFiles=function(t,e){return function(){return t.apply(e,arguments)}}(this.insertFiles,this),this.undoManager=new r.UndoManager(this.composition),this.filters=e.slice(0)}var e;return e=[r.attachmentGalleryFilter],t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(r.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var e,n;return e=t.document,n=t.selectedRange,e=r.Document.fromJSON(e),this.loadSnapshot({document:e,selectedRange:n})},t.prototype.loadSnapshot=function(t){return this.undoManager=new r.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertAttachments=function(t){return this.composition.insertAttachments(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertFiles=function(t){return this.composition.insertFiles(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,r,o;return r=(o=null!=e?e:{}).context,n=o.consolidatable,this.undoManager.recordUndoEntry(t,{context:r,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.ManagedAttachment=function(e){function n(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return t(n,e),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod("attachment.getAttribute"),n.proxyMethod("attachment.hasAttribute"),n.proxyMethod("attachment.setAttribute"),n.proxyMethod("attachment.getAttributes"),n.proxyMethod("attachment.setAttributes"),n.proxyMethod("attachment.isPending"),n.proxyMethod("attachment.isPreviewable"),n.proxyMethod("attachment.getURL"),n.proxyMethod("attachment.getHref"),n.proxyMethod("attachment.getFilename"),n.proxyMethod("attachment.getFilesize"),n.proxyMethod("attachment.getFormattedFilesize"),n.proxyMethod("attachment.getExtension"),n.proxyMethod("attachment.getContentType"),n.proxyMethod("attachment.getFile"),n.proxyMethod("attachment.setFile"),n.proxyMethod("attachment.releaseFile"),n.proxyMethod("attachment.getUploadProgress"),n.proxyMethod("attachment.setUploadProgress"),n}(r.BasicObject)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;r.AttachmentManager=function(e){function n(t){var e,n,r;for(null==t&&(t=[]),this.managedAttachments={},n=0,r=t.length;r>n;n++)e=t[n],this.manageAttachment(e)}return t(n,e),n.prototype.getAttachments=function(){var t,e,n,r;for(e in r=[],n=this.managedAttachments)t=n[e],r.push(t);return r},n.prototype.manageAttachment=function(t){var e,n;return null!=(e=this.managedAttachments)[n=t.id]?e[n]:e[n]=new r.ManagedAttachment(this,t)},n.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},n.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},n.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},n}(r.BasicObject)}.call(this),function(){var t,e,n,o,i,a,u,s,l,c,f;t=r.elementContainsNode,e=r.findChildIndexOfNode,i=r.nodeIsBlockStart,a=r.nodeIsBlockStartComment,o=r.nodeIsBlockContainer,u=r.nodeIsCursorTarget,s=r.nodeIsEmptyTextNode,l=r.nodeIsTextNode,n=r.nodeIsAttachmentElement,c=r.tagName,f=r.walkTree,r.LocationMapper=function(){function r(t){this.element=t}var p,d,h,m;return r.prototype.findLocationFromContainerAndOffset=function(n,r,o){var a,s,c,p,m,y,v;for(y=(null!=o?o:{strict:!0}).strict,s=0,c=!1,p={index:0,offset:0},(a=this.findAttachmentElementParentForNode(n))&&(n=a.parentNode,r=e(a)),v=f(this.element,{usingFilter:h});v.nextNode();){if((m=v.currentNode)===n&&l(n)){u(m)||(p.offset+=r);break}if(m.parentNode===n){if(s++===r)break}else if(!t(n,m)&&s>0)break;i(m,{strict:y})?(c&&p.index++,p.offset=0,c=!0):p.offset+=d(m)}return p},r.prototype.findContainerAndOffsetFromLocation=function(t){var n,r,a,s,c;if(0===t.index&&0===t.offset){for(n=this.element,s=0;n.firstChild;)if(n=n.firstChild,o(n)){s=1;break}return[n,s]}if(r=(c=this.findNodeAndOffsetFromLocation(t))[0],a=c[1],r){if(l(r))0===d(r)?(n=r.parentNode.parentNode,s=e(r.parentNode),u(r,{name:"right"})&&s++):(n=r,s=t.offset-a);else{if(n=r.parentNode,!i(r.previousSibling)&&!o(n))for(;r===n.lastChild&&(r=n,n=n.parentNode,!o(n)););s=e(r),0!==t.offset&&s++}return[n,s]}},r.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,r,o,i,a,s,c;for(s=0,n=0,r=(c=this.getSignificantNodesForIndex(t.index)).length;r>n;n++){if(e=c[n],o=d(e),t.offset<=s+o)if(l(e)){if(i=e,a=s,t.offset===a&&u(i))break}else i||(i=e,a=s);if((s+=o)>t.offset)break}return[i,a]},r.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(n(t))return t;t=t.parentNode}},r.prototype.getSignificantNodesForIndex=function(t){var e,n,r,o,i;for(r=[],i=f(this.element,{usingFilter:p}),o=!1;i.nextNode();)if(n=i.currentNode,a(n)){if(null!=e?e++:e=0,e===t)o=!0;else if(o)break}else o&&r.push(n);return r},d=function(t){return t.nodeType===Node.TEXT_NODE?u(t)?0:t.textContent.length:"br"===c(t)||n(t)?1:0},p=function(t){return m(t)===NodeFilter.FILTER_ACCEPT?h(t):NodeFilter.FILTER_REJECT},m=function(t){return s(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},h=function(t){return n(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},r}()}.call(this),function(){var t,e,n=[].slice;t=r.getDOMRange,e=r.setDOMRange,r.PointMapper=function(){function r(){}return r.prototype.createDOMRangeFromPoint=function(n){var r,o,i,a,u,s,l,c;if(l=n.x,c=n.y,document.caretPositionFromPoint)return i=(u=document.caretPositionFromPoint(l,c)).offsetNode,o=u.offset,(r=document.createRange()).setStart(i,o),r;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(l,c);if(document.body.createTextRange){a=t();try{(s=document.body.createTextRange()).moveToPoint(l,c),s.select()}catch(t){}return r=t(),e(a),r}},r.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=n.call(t.getClientRects()))[0],e[e.length-1]]},r}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=r.getDOMRange,r.SelectionChangeObserver=function(r){function o(){this.run=e(this.run,this),this.update=e(this.update,this),this.selectionManagers=[]}var a;return n(o,r),o.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},o.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},o.prototype.registerSelectionManager=function(t){return i.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},o.prototype.unregisterSelectionManager=function(t){var e;return this.selectionManagers=function(){var n,r,o,i;for(i=[],n=0,r=(o=this.selectionManagers).length;r>n;n++)(e=o[n])!==t&&i.push(e);return i}.call(this),0===this.selectionManagers.length?this.stop():void 0},o.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,r,o;for(r=[],t=0,e=(n=this.selectionManagers).length;e>t;t++)o=n[t],r.push(o.selectionDidChange());return r},o.prototype.update=function(){var e;return e=t(),a(e,this.domRange)?void 0:(this.domRange=e,this.notifySelectionManagersOfSelectionChange())},o.prototype.reset=function(){return this.domRange=null,this.update()},o.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},a=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},o}(r.BasicObject),null==r.selectionChangeObserver&&(r.selectionChangeObserver=new r.SelectionChangeObserver)}.call(this),function(){var t,e,n,o,i,a,u,s,l,c,f=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;n=r.getDOMSelection,e=r.getDOMRange,c=r.setDOMRange,t=r.elementContainsNode,a=r.nodeIsCursorTarget,i=r.innerElementIsActive,o=r.handleEvent,u=r.normalizeRange,s=r.rangeIsCollapsed,l=r.rangesAreEqual,r.SelectionManager=function(d){function h(t){this.element=t,this.selectionDidChange=f(this.selectionDidChange,this),this.didMouseDown=f(this.didMouseDown,this),this.locationMapper=new r.LocationMapper(this.element),this.pointMapper=new r.PointMapper,this.lockCount=0,o("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return p(h,d),h.prototype.getLocationRange=function(t){var n;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(e(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(n=this.lockedLocationRange)?n:this.currentLocationRange},h.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=u(t),(e=this.createDOMRangeFromLocationRange(t))?(c(e),this.updateCurrentLocationRange(t)):void 0},h.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=u(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},h.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},h.prototype.locationIsCursorTarget=function(t){var e,n;return e=(n=this.findNodeAndOffsetFromLocation(t))[0],n[1],a(e)},h.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},h.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,this.lockedLocationRange=null,null!=t)?this.setLocationRange(t):void 0},h.prototype.clearSelection=function(){var t;return null!=(t=n())?t.removeAllRanges():void 0},h.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=e())?t.collapsed:void 0)},h.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},h.prototype.createLocationRangeFromDOMRange=function(t,e){var n,r;if(null!=t&&this.domRangeWithinElement(t)&&(r=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),u([r,n])},h.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),h.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),h.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),h.proxyMethod("pointMapper.createDOMRangeFromPoint"),h.proxyMethod("pointMapper.getClientRectsForDOMRange"),h.prototype.didMouseDown=function(){return this.pauseTemporarily()},h.prototype.pauseTemporarily=function(){var e,n,r,i;return this.paused=!0,n=function(e){return function(){var n,o;for(e.paused=!1,clearTimeout(i),n=0,o=r.length;o>n;n++)r[n].destroy();return t(document,e.element)?e.selectionDidChange():void 0}}(this),i=setTimeout(n,200),r=function(){var t,r,i,a;for(a=[],t=0,r=(i=["mousemove","keydown"]).length;r>t;t++)e=i[t],a.push(o(e,{onElement:document,withCallback:n}));return a}()},h.prototype.selectionDidChange=function(){return this.paused||i(this.element)?void 0:this.updateCurrentLocationRange()},h.prototype.updateCurrentLocationRange=function(t){var n;return(null!=t?t:t=this.createLocationRangeFromDOMRange(e()))&&!l(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(n=this.delegate)&&"function"==typeof n.locationRangeDidChange?n.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},h.prototype.createDOMRangeFromLocationRange=function(t){var e,n,r,o;return r=this.findContainerAndOffsetFromLocation(t[0]),n=s(t)?r:null!=(o=this.findContainerAndOffsetFromLocation(t[1]))?o:r,null!=r&&null!=n?((e=document.createRange()).setStart.apply(e,r),e.setEnd.apply(e,n),e):void 0},h.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},h.prototype.domRangeWithinElement=function(e){return e.collapsed?t(this.element,e.startContainer):t(this.element,e.startContainer)&&t(this.element,e.endContainer)},h}(r.BasicObject)}.call(this),function(){var t,e,n,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,u=[].slice;n=r.rangeIsCollapsed,o=r.rangesAreEqual,e=r.objectsAreEqual,t=r.getBlockConfig,r.EditorController=function(a){function s(t){var e,n;this.editorElement=t.editorElement,e=t.document,n=t.html,this.selectionManager=new r.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new r.Composition,this.composition.delegate=this,this.attachmentManager=new r.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new(r["Level"+r.config.input.getLevel()+"InputController"])(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new r.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new r.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new r.Editor(this.composition,this.selectionManager,this.editorElement),null!=e?this.editor.loadDocument(e):this.editor.loadHTML(n)}var l;return i(s,a),s.prototype.registerSelectionManager=function(){return r.selectionChangeObserver.registerSelectionManager(this.selectionManager)},s.prototype.unregisterSelectionManager=function(){return r.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},s.prototype.render=function(){return this.compositionController.render()},s.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},s.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},s.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},s.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},s.prototype.compositionShouldAcceptFile=function(t){return this.notifyEditorElement("file-accept",{file:t})},s.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement("attachment-add",{attachment:e})},s.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")},s.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")},s.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.notifyEditorElement("attachment-remove",{attachment:e})},s.prototype.compositionDidStartEditingAttachment=function(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)},s.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},s.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},s.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},s.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},s.prototype.getSelectionManager=function(){return this.selectionManager},s.proxyMethod("getSelectionManager().setLocationRange"),s.proxyMethod("getSelectionManager().getLocationRange"),s.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},s.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},s.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},s.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},s.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},s.prototype.compositionControllerDidSelectAttachment=function(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)},s.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},s.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},s.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},s.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},s.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},s.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},s.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},s.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},s.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},s.prototype.inputControllerWillPerformFormatting=function(t){return this.recordFormattingUndoEntry(t)},s.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},s.prototype.inputControllerWillPaste=function(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})},s.prototype.inputControllerDidPaste=function(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})},s.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},s.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},s.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},s.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},s.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},s.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},s.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},s.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},s.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!o(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},s.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},s.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},s.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},s.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},s.prototype.toolbarDidShowDialog=function(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})},s.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})},s.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},s.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},s.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return r.config.input.pickFiles(this.editor.insertFiles)}}},s.prototype.canInvokeAction=function(t){var e,n;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},s.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},s.prototype.actionIsExternal=function(t){return/^x-./.test(t)},s.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},s.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),e(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},s.prototype.runEditorFilters=function(){var t,e,n,r,o,i,a,u;for(u=this.composition.getSnapshot(),n=0,r=(o=this.editor.filters).length;r>n;n++)e=o[n],t=u.document,a=u.selectedRange,null==(u=null!=(i=e.call(this.editor,u))?i:{}).document&&(u.document=t),null==u.selectedRange&&(u.selectedRange=a);return l(u,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(u)},l=function(t,e){return o(t.selectedRange,e.selectedRange)&&t.document.isEqualTo(e.document)},s.prototype.updateInputElement=function(){var t,e;return t=this.compositionController.getSerializableElement(),e=r.serializeToContentType(t,"text/html"),this.editorElement.setInputElementValue(e)},s.prototype.notifyEditorElement=function(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)},s.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},s.prototype.recordFormattingUndoEntry=function(e){var r,o;return r=t(e),o=this.selectionManager.getLocationRange(),r||!n(o)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},s.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},s.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(u.call(t))},s.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?t[0].index:t},s.prototype.getTimeContext=function(){return r.config.undoInterval>0?Math.floor((new Date).getTime()/r.config.undoInterval):0},s.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},s.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},s}(r.Controller)}.call(this),function(){var t,e,n,o,i,a,u,s,l,c,f,p,d,h,m,y,v=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=r.browser,a=r.makeElement,u=r.triggerEvent,o=r.handleEvent,i=r.handleEventOnce,n=r.findClosestElementFromNode,t=r.AttachmentView.attachmentSelector,r.registerElement("trix-editor",(h=0,l=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},m=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),i("focus",{onElement:t,withCallback:function(){return c(t)}}))},c=function(t){return p(t),y(t)},p=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),o("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},y=function(){var t;return!("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)||"div"!==(t=r.config.blockAttributes.default.tagName)&&"p"!==t?void 0:document.execCommand("DefaultParagraphSeparator",!1,t)},s=function(t){return t.hasAttribute("role")?void 0:t.setAttribute("role","textbox")},d=function(t){var e;if(!t.hasAttribute("aria-label")&&!t.hasAttribute("aria-labelledby"))return(e=function(){var e,n,r;return r=function(){var n,r,o,i;for(i=[],n=0,r=(o=t.labels).length;r>n;n++)(e=o[n]).contains(t)||i.push(e.textContent);return i}(),(n=r.join(" "))?t.setAttribute("aria-label",n):t.removeAttribute("aria-label")})(),o("focus",{onElement:t,withCallback:e})},f=e.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"},{defaultCSS:"%t {\n  display: block;\n}\n\n%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n  cursor: text;\n  pointer-events: none;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+t+" figcaption[data-trix-placeholder]:empty::before {\n  content: attr(data-trix-placeholder);\n  color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n  display: "+f.display+" !important;\n  width: "+f.width+" !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n  vertical-align: top !important;\n  margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n  vertical-align: bottom !important;\n  margin-right: -1px !important;\n}",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++h),this.trixId)}},labels:{get:function(){var t,e,r;return e=[],this.id&&this.ownerDocument&&e.push.apply(e,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(t=n(this,{matchingSelector:"label"}))&&((r=t.control)===this||null===r)&&e.push(t),e}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=a("trix-toolbar",{id:n}),this.parentNode.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentNode?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=a("input",{type:"hidden",id:e}),this.parentNode.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){return this.editorController?u("trix-"+t,{onElement:this,attributes:e}):void 0},setInputElementValue:function(t){var e;return null!=(e=this.inputElement)?e.value=t:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(m(this),s(this),d(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(u("trix-before-initialize",{onElement:this}),this.editorController=new r.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(t){return function(){return u("trix-initialize",{onElement:t})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),l(this))},disconnect:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(t){var e;if(!t.defaultPrevented&&t.target===(null!=(e=this.inputElement)?e.form:void 0))return this.reset()},clickBubbled:function(t){var e;if(!(t.defaultPrevented||this.contains(t.target)||!(e=n(t.target,{matchingSelector:"label"}))||v.call(this.labels,e)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),t.exports?t.exports=r:void 0===(i="function"==typeof(o=r)?o.call(e,n,e,t):o)||(t.exports=i)}.call(this)}).call(this,n("URgk").setImmediate)},tQ2B:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("Rn+g"),i=n("MLWZ"),a=n("g7np"),u=n("w0Vi"),s=n("OTTw"),l=n("LYNF");t.exports=function(t){return new Promise((function(e,c){var f=t.data,p=t.headers;r.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password||"";p.Authorization="Basic "+btoa(h+":"+m)}var y=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),i(y,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};o(e,c,r),d=null}},d.onabort=function(){d&&(c(l("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),c(l(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n("eqyj"),b=(t.withCredentials||s(y))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(p,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),c(t),d=null)})),void 0===f&&(f=null),d.send(f)}))}},"uEL/":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"@charset \"UTF-8\";trix-editor{border:1px solid #bbb;border-radius:3px;margin:0;padding:.4em .6em;min-height:5em;outline:none}trix-toolbar *{box-sizing:border-box}trix-toolbar .trix-button-row{display:flex;flex-wrap:nowrap;justify-content:space-between;overflow-x:auto}trix-toolbar .trix-button-group{display:flex;margin-bottom:10px;border-color:#ccc #bbb #888;border-style:solid;border-width:1px;border-radius:3px}trix-toolbar .trix-button-group:not(:first-child){margin-left:1.5vw}@media (max-device-width:768px){trix-toolbar .trix-button-group:not(:first-child){margin-left:0}}trix-toolbar .trix-button-group-spacer{flex-grow:1}@media (max-device-width:768px){trix-toolbar .trix-button-group-spacer{display:none}}trix-toolbar .trix-button{position:relative;float:left;color:rgba(0,0,0,.6);font-size:.75em;font-weight:600;white-space:nowrap;padding:0 .5em;margin:0;outline:none;border:none;border-bottom:1px solid #ddd;border-radius:0;background:transparent}trix-toolbar .trix-button:not(:first-child){border-left:1px solid #ccc}trix-toolbar .trix-button.trix-active{background:#cbeefa;color:#000}trix-toolbar .trix-button:not(:disabled){cursor:pointer}trix-toolbar .trix-button:disabled{color:rgba(0,0,0,.125)}@media (max-device-width:768px){trix-toolbar .trix-button{letter-spacing:-.01em;padding:0 .3em}}trix-toolbar .trix-button--icon{font-size:inherit;width:2.6em;height:1.6em;max-width:calc(.8em + 4vw);text-indent:-9999px}@media (max-device-width:768px){trix-toolbar .trix-button--icon{height:2em;max-width:calc(.8em + 3.5vw)}}trix-toolbar .trix-button--icon:before{display:inline-block;position:absolute;top:0;right:0;bottom:0;left:0;opacity:.6;content:\"\";background-position:50%;background-repeat:no-repeat;background-size:contain}@media (max-device-width:768px){trix-toolbar .trix-button--icon:before{right:6%;left:6%}}trix-toolbar .trix-button--icon.trix-active:before{opacity:1}trix-toolbar .trix-button--icon:disabled:before{opacity:.125}trix-toolbar .trix-button--icon-attach:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M16.5 6v11.5a4 4 0 11-8 0V5a2.5 2.5 0 015 0v10.5a1 1 0 11-2 0V6H10v9.5a2.5 2.5 0 005 0V5a4 4 0 10-8 0v12.5a5.5 5.5 0 0011 0V6h-1.5z'/%3E%3C/svg%3E\");top:8%;bottom:4%}trix-toolbar .trix-button--icon-bold:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M15.6 11.8c1-.7 1.6-1.8 1.6-2.8a4 4 0 00-4-4H7v14h7c2.1 0 3.7-1.7 3.7-3.8 0-1.5-.8-2.8-2.1-3.4zM10 7.5h3a1.5 1.5 0 110 3h-3v-3zm3.5 9H10v-3h3.5a1.5 1.5 0 110 3z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-italic:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M10 5v3h2.2l-3.4 8H6v3h8v-3h-2.2l3.4-8H18V5h-8z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-link:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M9.88 13.7a4.3 4.3 0 010-6.07l3.37-3.37a4.26 4.26 0 016.07 0 4.3 4.3 0 010 6.06l-1.96 1.72a.91.91 0 11-1.3-1.3l1.97-1.71a2.46 2.46 0 00-3.48-3.48l-3.38 3.37a2.46 2.46 0 000 3.48.91.91 0 11-1.3 1.3z'/%3E%3Cpath d='M4.25 19.46a4.3 4.3 0 010-6.07l1.93-1.9a.91.91 0 111.3 1.3l-1.93 1.9a2.46 2.46 0 003.48 3.48l3.37-3.38c.96-.96.96-2.52 0-3.48a.91.91 0 111.3-1.3 4.3 4.3 0 010 6.07l-3.38 3.38a4.26 4.26 0 01-6.07 0z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-strike:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M12.73 14l.28.14c.26.15.45.3.57.44.12.14.18.3.18.5 0 .3-.15.56-.44.75-.3.2-.76.3-1.39.3A13.52 13.52 0 017 14.95v3.37a10.64 10.64 0 004.84.88c1.26 0 2.35-.19 3.28-.56.93-.37 1.64-.9 2.14-1.57s.74-1.45.74-2.32c0-.26-.02-.51-.06-.75h-5.21zm-5.5-4c-.08-.34-.12-.7-.12-1.1 0-1.29.52-2.3 1.58-3.02 1.05-.72 2.5-1.08 4.34-1.08 1.62 0 3.28.34 4.97 1l-1.3 2.93c-1.47-.6-2.73-.9-3.8-.9-.55 0-.96.08-1.2.26-.26.17-.38.38-.38.64 0 .27.16.52.48.74.17.12.53.3 1.05.53H7.23zM3 13h18v-2H3v2z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-quote:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg version='1' xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-heading-1:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg version='1' xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M12 9v3H9v7H6v-7H3V9h9zM8 4h14v3h-6v12h-3V7H8V4z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-code:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M18.2 12L15 15.2l1.4 1.4L21 12l-4.6-4.6L15 8.8l3.2 3.2zM5.8 12L9 8.8 7.6 7.4 3 12l4.6 4.6L9 15.2 5.8 12z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-bullet-list:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg version='1' xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M4 4a2 2 0 100 4 2 2 0 000-4zm0 6a2 2 0 100 4 2 2 0 000-4zm0 6a2 2 0 100 4 2 2 0 000-4zm4 3h14v-2H8v2zm0-6h14v-2H8v2zm0-8v2h14V5H8z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-number-list:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-undo:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M12.5 8c-2.6 0-5 1-6.9 2.6L2 7v9h9l-3.6-3.6A8 8 0 0120 16l2.4-.8a10.5 10.5 0 00-10-7.2z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-redo:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M18.4 10.6a10.5 10.5 0 00-16.9 4.6L4 16a8 8 0 0112.7-3.6L13 16h9V7l-3.6 3.6z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-decrease-nesting-level:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 19h19v-2H3v2zm7-6h12v-2H10v2zm-8.3-.3l2.8 2.9L6 14.2 4 12l2-2-1.4-1.5L1 12l.7.7zM3 5v2h19V5H3z'/%3E%3C/svg%3E\")}trix-toolbar .trix-button--icon-increase-nesting-level:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3Cpath d='M3 19h19v-2H3v2zm7-6h12v-2H10v2zm-6.9-1L1 14.2l1.4 1.4L6 12l-.7-.7-2.8-2.8L1 9.9 3.1 12zM3 5v2h19V5H3z'/%3E%3C/svg%3E\")}trix-toolbar .trix-dialogs{position:relative}trix-toolbar .trix-dialog{position:absolute;top:0;left:0;right:0;font-size:.75em;padding:15px 10px;background:#fff;box-shadow:0 .3em 1em #ccc;border-top:2px solid #888;border-radius:5px;z-index:5}trix-toolbar .trix-input--dialog{font-size:inherit;font-weight:400;padding:.5em .8em;margin:0 10px 0 0;border-radius:3px;border:1px solid #bbb;background-color:#fff;box-shadow:none;outline:none;-webkit-appearance:none;-moz-appearance:none}trix-toolbar .trix-input--dialog.validate:invalid{box-shadow:0 0 1.5px 1px red}trix-toolbar .trix-button--dialog{font-size:inherit;padding:.5em;border-bottom:none}trix-toolbar .trix-dialog--link{max-width:600px}trix-toolbar .trix-dialog__link-fields{display:flex;align-items:baseline}trix-toolbar .trix-dialog__link-fields .trix-input{flex:1}trix-toolbar .trix-dialog__link-fields .trix-button-group{flex:0 0 content;margin:0}trix-editor [data-trix-mutable]:not(.attachment__caption-editor){-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}trix-editor [data-trix-cursor-target]::-moz-selection,trix-editor [data-trix-mutable]::-moz-selection,trix-editor [data-trix-mutable] ::-moz-selection{background:none}trix-editor [data-trix-cursor-target]::selection,trix-editor [data-trix-mutable]::selection,trix-editor [data-trix-mutable] ::selection{background:none}trix-editor [data-trix-mutable].attachment__caption-editor:focus::-moz-selection{background:highlight}trix-editor [data-trix-mutable].attachment__caption-editor:focus::selection{background:highlight}trix-editor [data-trix-mutable].attachment.attachment--file{box-shadow:0 0 0 2px highlight;border-color:transparent}trix-editor [data-trix-mutable].attachment img{box-shadow:0 0 0 2px highlight}trix-editor .attachment{position:relative}trix-editor .attachment:hover{cursor:default}trix-editor .attachment--preview .attachment__caption:hover{cursor:text}trix-editor .attachment__progress{position:absolute;z-index:1;height:20px;top:calc(50% - 10px);left:5%;width:90%;opacity:.9;transition:opacity .2s ease-in}trix-editor .attachment__progress[value=\"100\"]{opacity:0}trix-editor .attachment__caption-editor{display:inline-block;width:100%;margin:0;padding:0;font-size:inherit;font-family:inherit;line-height:inherit;color:inherit;text-align:center;vertical-align:top;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none}trix-editor .attachment__toolbar{position:absolute;z-index:1;top:-.9em;left:0;width:100%;text-align:center}trix-editor .trix-button-group{display:inline-flex}trix-editor .trix-button{position:relative;float:left;color:#666;white-space:nowrap;font-size:80%;padding:0 .8em;margin:0;outline:none;border:none;border-radius:0;background:transparent}trix-editor .trix-button:not(:first-child){border-left:1px solid #ccc}trix-editor .trix-button.trix-active{background:#cbeefa}trix-editor .trix-button:not(:disabled){cursor:pointer}trix-editor .trix-button--remove{text-indent:-9999px;display:inline-block;padding:0;outline:none;width:1.8em;height:1.8em;line-height:1.8em;border-radius:50%;background-color:#fff;border:2px solid highlight;box-shadow:1px 1px 6px rgba(0,0,0,.25)}trix-editor .trix-button--remove:before{display:inline-block;position:absolute;top:0;right:0;bottom:0;left:0;opacity:.7;content:\"\";background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 6.4L17.6 5 12 10.6 6.4 5 5 6.4l5.6 5.6L5 17.6 6.4 19l5.6-5.6 5.6 5.6 1.4-1.4-5.6-5.6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");background-position:50%;background-repeat:no-repeat;background-size:90%}trix-editor .trix-button--remove:hover{border-color:#333}trix-editor .trix-button--remove:hover:before{opacity:1}trix-editor .attachment__metadata-container{position:relative}trix-editor .attachment__metadata{position:absolute;left:50%;top:2em;transform:translate(-50%);max-width:90%;padding:.1em .6em;font-size:.8em;color:#fff;background-color:rgba(0,0,0,.7);border-radius:3px}trix-editor .attachment__metadata .attachment__name{display:inline-block;max-width:100%;vertical-align:bottom;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}trix-editor .attachment__metadata .attachment__size{margin-left:.2em;white-space:nowrap}.trix-content{line-height:1.5}.trix-content *{box-sizing:border-box;margin:0;padding:0}.trix-content h1{font-size:1.2em;line-height:1.2}.trix-content blockquote{border:solid #ccc;border-width:0 0 0 .3em;margin-left:.3em;padding-left:.6em}.trix-content [dir=rtl] blockquote,.trix-content blockquote[dir=rtl]{border-width:0 .3em 0 0;margin-right:.3em;padding-right:.6em}.trix-content li{margin-left:1em}.trix-content [dir=rtl] li{margin-right:1em}.trix-content pre{display:inline-block;width:100%;vertical-align:top;font-family:monospace;font-size:.9em;padding:.5em;white-space:pre;background-color:#eee;overflow-x:auto}.trix-content img{max-width:100%;height:auto}.trix-content .attachment{display:inline-block;position:relative;max-width:100%}.trix-content .attachment a{color:inherit;text-decoration:none}.trix-content .attachment a:hover,.trix-content .attachment a:visited:hover{color:inherit}.trix-content .attachment__caption{text-align:center}.trix-content .attachment__caption .attachment__name+.attachment__size:before{content:\" \\B7   \"}.trix-content .attachment--preview{width:100%;text-align:center}.trix-content .attachment--preview .attachment__caption{color:#666;font-size:.9em;line-height:1.2}.trix-content .attachment--file{color:#333;line-height:1;margin:0 2px 2px;padding:.4em 1em;border:1px solid #bbb;border-radius:5px}.trix-content .attachment-gallery{display:flex;flex-wrap:wrap;position:relative}.trix-content .attachment-gallery .attachment{flex:1 0 33%;padding:0 .5em;max-width:33%}.trix-content .attachment-gallery.attachment-gallery--2 .attachment,.trix-content .attachment-gallery.attachment-gallery--4 .attachment{flex-basis:50%;max-width:50%}",""])},vDqi:function(t,e,n){t.exports=n("zuR4")},viRO:function(t,e,n){"use strict";var r=n("MgzW"),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function w(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||b}function _(){}function E(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var k=E.prototype=new _;k.constructor=E,r(k,w.prototype),k.isPureReactComponent=!0;var x={current:null},O=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r,o={},a=null,u=null;if(null!=e)for(r in void 0!==e.ref&&(u=e.ref),void 0!==e.key&&(a=""+e.key),e)O.call(e,r)&&!S.hasOwnProperty(r)&&(o[r]=e[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:t,key:a,ref:u,props:o,_owner:x.current}}function P(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var R=/\/+/g,T=[];function j(t,e,n,r){if(T.length){var o=T.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=r,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function A(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>T.length&&T.push(t)}function D(t,e,n){return null==t?0:function t(e,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return r(o,e,""===n?"."+N(e,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(u=e[l],l);s+=t(u,c,r,o)}else if(null===e||"object"!=typeof e?c=null:c="function"==typeof(c=y&&e[y]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=t(u=u.value,c=n+N(u,l++),r,o);else if("object"===u)throw r=""+e,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}(t,"",e,n)}function N(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var r=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?I(t,r,n,(function(t){return t})):null!=t&&(P(t)&&(t=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(R,"$&/")+"/")+n)),r.push(t))}function I(t,e,n,r,o){var i="";null!=n&&(i=(""+n).replace(R,"$&/")+"/"),D(t,F,e=j(e,i,r,o)),A(e)}var B={current:null};function M(){var t=B.current;if(null===t)throw Error(v(321));return t}var z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return I(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;D(t,L,e=j(null,null,e,n)),A(e)},count:function(t){return D(t,(function(){return null}),null)},toArray:function(t){var e=[];return I(t,e,null,(function(t){return t})),e},only:function(t){if(!P(t))throw Error(v(143));return t}},e.Component=w,e.Fragment=u,e.Profiler=l,e.PureComponent=E,e.StrictMode=s,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.cloneElement=function(t,e,n){if(null==t)throw Error(v(267,t));var o=r({},t.props),a=t.key,u=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(u=e.ref,s=x.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)O.call(e,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:t.type,key:a,ref:u,props:o,_owner:s}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:p,render:t}},e.isValidElement=P,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return M().useCallback(t,e)},e.useContext=function(t,e){return M().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return M().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return M().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return M().useLayoutEffect(t,e)},e.useMemo=function(t,e){return M().useMemo(t,e)},e.useReducer=function(t,e,n){return M().useReducer(t,e,n)},e.useRef=function(t){return M().useRef(t)},e.useState=function(t){return M().useState(t)},e.version="16.14.0"},w0Vi:function(t,e,n){"use strict";var r=n("xTJ+"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},xAGQ:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},"xTJ+":function(t,e,n){"use strict";var r=n("HSsa"),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function u(t){return null!==t&&"object"==typeof t}function s(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:s,isStream:function(t){return u(t)&&s(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},yK9s:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},yl30:function(t,e,n){"use strict";var r=n("q1tI"),o=n("MgzW"),i=n("QCnb");function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function u(t,e,n,r,o,i,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}var s=!1,l=null,c=!1,f=null,p={onError:function(t){s=!0,l=t}};function d(t,e,n,r,o,i,a,c,f){s=!1,l=null,u.apply(p,arguments)}var h=null,m=null,y=null;function v(t,e,n){var r=t.type||"unknown-event";t.currentTarget=y(n),function(t,e,n,r,o,i,u,p,h){if(d.apply(this,arguments),s){if(!s)throw Error(a(198));var m=l;s=!1,l=null,c||(c=!0,f=m)}}(r,e,void 0,t),t.currentTarget=null}var b=null,g={};function w(){if(b)for(var t in g){var e=g[t],n=b.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!E[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in E[n]=e,n=e.eventTypes){var o=void 0,i=n[r],u=e,s=r;if(k.hasOwnProperty(s))throw Error(a(99,s));k[s]=i;var l=i.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&_(l[o],u,s);o=!0}else i.registrationName?(_(i.registrationName,u,s),o=!0):o=!1;if(!o)throw Error(a(98,r,t))}}}}function _(t,e,n){if(x[t])throw Error(a(100,t));x[t]=e,O[t]=e.eventTypes[n].dependencies}var E=[],k={},x={},O={};function S(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!g.hasOwnProperty(e)||g[e]!==r){if(g[e])throw Error(a(102,e));g[e]=r,n=!0}}n&&w()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),P=null,R=null,T=null;function j(t){if(t=m(t)){if("function"!=typeof P)throw Error(a(280));var e=t.stateNode;e&&(e=h(e),P(t.stateNode,t.type,e))}}function A(t){R?T?T.push(t):T=[t]:R=t}function D(){if(R){var t=R,e=T;if(T=R=null,j(t),e)for(t=0;t<e.length;t++)j(e[t])}}function N(t,e){return t(e)}function L(t,e,n,r,o){return t(e,n,r,o)}function F(){}var I=N,B=!1,M=!1;function z(){null===R&&null===T||(F(),D())}function U(t,e,n){if(M)return t(e,n);M=!0;try{return I(t,e,n)}finally{M=!1,z()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,q={},H={};function K(t,e,n,r,o,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i}var J={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){J[t]=new K(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];J[e]=new K(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){J[t]=new K(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){J[t]=new K(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){J[t]=new K(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){J[t]=new K(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){J[t]=new K(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){J[t]=new K(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){J[t]=new K(t,5,!1,t.toLowerCase(),null,!1)}));var $=/[\-:]([a-z])/g;function Q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace($,Q);J[e]=new K(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace($,Q);J[e]=new K(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace($,Q);J[e]=new K(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){J[t]=new K(t,1,!1,t.toLowerCase(),null,!1)})),J.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){J[t]=new K(t,1,!1,t.toLowerCase(),null,!0)}));var G=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(t,e,n,r){var o=J.hasOwnProperty(e)?J[e]:null;(null!==o?0===o.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,r)&&(n=null),r||null===o?function(t){return!!W.call(H,t)||!W.call(q,t)&&(V.test(t)?H[t]=!0:(q[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,r=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}G.hasOwnProperty("ReactCurrentDispatcher")||(G.ReactCurrentDispatcher={current:null}),G.hasOwnProperty("ReactCurrentBatchConfig")||(G.ReactCurrentBatchConfig={suspense:null});var Y=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,rt=Z?Symbol.for("react.strict_mode"):60108,ot=Z?Symbol.for("react.profiler"):60114,it=Z?Symbol.for("react.provider"):60109,at=Z?Symbol.for("react.context"):60110,ut=Z?Symbol.for("react.concurrent_mode"):60111,st=Z?Symbol.for("react.forward_ref"):60112,lt=Z?Symbol.for("react.suspense"):60113,ct=Z?Symbol.for("react.suspense_list"):60120,ft=Z?Symbol.for("react.memo"):60115,pt=Z?Symbol.for("react.lazy"):60116,dt=Z?Symbol.for("react.block"):60121,ht="function"==typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=ht&&t[ht]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case ot:return"Profiler";case rt:return"StrictMode";case lt:return"Suspense";case ct:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case it:return"Context.Provider";case st:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ft:return yt(t.type);case dt:return yt(t.render);case pt:if(t=1===t._status?t._result:null)return yt(t)}return null}function vt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,o=t._debugSource,i=yt(t.type);n=null,r&&(n=yt(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(Y,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}e+=n,t=t.return}while(t);return e}function bt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=gt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Et(t,e){var n=e.checked;return o({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function kt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=bt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function xt(t,e){null!=(e=e.checked)&&X(t,"checked",e,!1)}function Ot(t,e){xt(t,e);var n=bt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ct(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ct(t,e.type,bt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function St(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ct(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Pt(t,e){return t=o({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Rt(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bt(n),e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(r&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function Tt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return o({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:bt(n)}}function At(t,e){var n=bt(e.value),r=bt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Dt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Nt="http://www.w3.org/1999/xhtml",Lt="http://www.w3.org/2000/svg";function Ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Bt,Mt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Lt||"innerHTML"in t)t.innerHTML=e;else{for((Bt=Bt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function zt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Wt={},qt={};function Ht(t){if(Wt[t])return Wt[t];if(!Vt[t])return t;var e,n=Vt[t];for(e in n)if(n.hasOwnProperty(e)&&e in qt)return Wt[t]=n[e];return t}C&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete Vt.animationend.animation,delete Vt.animationiteration.animation,delete Vt.animationstart.animation),"TransitionEvent"in window||delete Vt.transitionend.transition);var Kt=Ht("animationend"),Jt=Ht("animationiteration"),$t=Ht("animationstart"),Qt=Ht("transitionend"),Gt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xt=new("function"==typeof WeakMap?WeakMap:Map);function Yt(t){var e=Xt.get(t);return void 0===e&&(e=new Map,Xt.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ee(o),t;if(i===r)return ee(o),e;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var u=!1,s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u){for(s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var ie=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)v(t,e[r],n[r]);else e&&v(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ue(t){if(null!==t&&(ie=re(ie,t)),t=ie,ie=null,t){if(oe(t,ae),ie)throw Error(a(95));if(c)throw t=f,c=!1,f=null,t}}function se(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!C)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var ce=[];function fe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function pe(t,e,n,r){if(ce.length){var o=ce.pop();return o.topLevelType=t,o.eventSystemFlags=r,o.nativeEvent=e,o.targetInst=n,o}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function de(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var o=se(t.nativeEvent);r=t.topLevelType;var i=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var u=null,s=0;s<E.length;s++){var l=E[s];l&&(l=l.extractEvents(r,e,i,o,a))&&(u=re(u,l))}ue(u)}}function he(t,e,n){if(!n.has(t)){switch(t){case"scroll":$e(e,"scroll",!0);break;case"focus":case"blur":$e(e,"focus",!0),$e(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&$e(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Gt.indexOf(t)&&Je(t,e)}n.set(t,null)}}var me,ye,ve,be=!1,ge=[],we=null,_e=null,Ee=null,ke=new Map,xe=new Map,Oe=[],Se="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ce="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pe(t,e,n,r,o){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Re(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xe.delete(e.pointerId)}}function Te(t,e,n,r,o,i){return null===t||t.nativeEvent!==i?(t=Pe(e,n,r,o,i),null!==e&&(null!==(e=Pn(e))&&ye(e)),t):(t.eventSystemFlags|=r,t)}function je(t){var e=Cn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void i.unstable_runWithPriority(t.priority,(function(){ve(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ae(t){if(null!==t.blockedOn)return!1;var e=Ye(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Pn(e);return null!==n&&ye(n),t.blockedOn=e,!1}return!0}function De(t,e,n){Ae(t)&&n.delete(e)}function Ne(){for(be=!1;0<ge.length;){var t=ge[0];if(null!==t.blockedOn){null!==(t=Pn(t.blockedOn))&&me(t);break}var e=Ye(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:ge.shift()}null!==we&&Ae(we)&&(we=null),null!==_e&&Ae(_e)&&(_e=null),null!==Ee&&Ae(Ee)&&(Ee=null),ke.forEach(De),xe.forEach(De)}function Le(t,e){t.blockedOn===e&&(t.blockedOn=null,be||(be=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ne)))}function Fe(t){function e(e){return Le(e,t)}if(0<ge.length){Le(ge[0],t);for(var n=1;n<ge.length;n++){var r=ge[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Le(we,t),null!==_e&&Le(_e,t),null!==Ee&&Le(Ee,t),ke.forEach(e),xe.forEach(e),n=0;n<Oe.length;n++)(r=Oe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Oe.length&&null===(n=Oe[0]).blockedOn;)je(n),null===n.blockedOn&&Oe.shift()}var Ie={},Be=new Map,Me=new Map,ze=["abort","abort",Kt,"animationEnd",Jt,"animationIteration",$t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],o=t[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:e},Me.set(r,e),Be.set(r,i),Ie[o]=i}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(ze,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Me.set(Ve[We],0);var qe=i.unstable_UserBlockingPriority,He=i.unstable_runWithPriority,Ke=!0;function Je(t,e){$e(e,t,!1)}function $e(t,e,n){var r=Me.get(e);switch(void 0===r?2:r){case 0:r=Qe.bind(null,e,1,t);break;case 1:r=Ge.bind(null,e,1,t);break;default:r=Xe.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Qe(t,e,n,r){B||F();var o=Xe,i=B;B=!0;try{L(o,t,e,n,r)}finally{(B=i)||z()}}function Ge(t,e,n,r){He(qe,Xe.bind(null,t,e,n,r))}function Xe(t,e,n,r){if(Ke)if(0<ge.length&&-1<Se.indexOf(t))t=Pe(null,t,e,n,r),ge.push(t);else{var o=Ye(t,e,n,r);if(null===o)Re(t,r);else if(-1<Se.indexOf(t))t=Pe(o,t,e,n,r),ge.push(t);else if(!function(t,e,n,r,o){switch(e){case"focus":return we=Te(we,t,e,n,r,o),!0;case"dragenter":return _e=Te(_e,t,e,n,r,o),!0;case"mouseover":return Ee=Te(Ee,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return ke.set(i,Te(ke.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,xe.set(i,Te(xe.get(i)||null,t,e,n,r,o)),!0}return!1}(o,t,e,n,r)){Re(t,r),t=pe(t,r,null,e);try{U(de,t)}finally{fe(t)}}}}function Ye(t,e,n,r){if(null!==(n=Cn(n=se(r)))){var o=Zt(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=te(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}t=pe(t,r,n,e);try{U(de,t)}finally{fe(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Nt;function sn(t,e){var n=Yt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=O[e];for(var r=0;r<e.length;r++)he(e[r],t,n)}function ln(){}function cn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function fn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pn(t,e){var n,r=fn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fn(r)}}function dn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mn=null,yn=null;function vn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function bn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var gn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function En(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var kn=Math.random().toString(36).slice(2),xn="__reactInternalInstance$"+kn,On="__reactEventHandlers$"+kn,Sn="__reactContainere$"+kn;function Cn(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sn]||n[xn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=En(t);null!==t;){if(n=t[xn])return n;t=En(t)}return e}n=(t=n).parentNode}return null}function Pn(t){return!(t=t[xn]||t[Sn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Rn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Tn(t){return t[On]||null}function jn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function An(t,e){var n=t.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}function Dn(t,e,n){(e=An(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Nn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=jn(e);for(e=n.length;0<e--;)Dn(n[e],"captured",t);for(e=0;e<n.length;e++)Dn(n[e],"bubbled",t)}}function Ln(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=An(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Fn(t){t&&t.dispatchConfig.registrationName&&Ln(t._targetInst,null,t)}function In(t){oe(t,Nn)}var Bn=null,Mn=null,zn=null;function Un(){if(zn)return zn;var t,e,n=Mn,r=n.length,o="value"in Bn?Bn.value:Bn.textContent,i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===o[i-e];e++);return zn=o.slice(t,1<e?1-e:void 0)}function Vn(){return!0}function Wn(){return!1}function qn(t,e,n,r){for(var o in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Wn,this.isPropagationStopped=Wn,this}function Hn(t,e,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,n,r),o}return new this(t,e,n,r)}function Kn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Jn(t){t.eventPool=[],t.getPooled=Hn,t.release=Kn}o(qn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Wn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),qn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},qn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,t),n.extend=r.extend,Jn(n),n},Jn(qn);var $n=qn.extend({data:null}),Qn=qn.extend({data:null}),Gn=[9,13,27,32],Xn=C&&"CompositionEvent"in window,Yn=null;C&&"documentMode"in document&&(Yn=document.documentMode);var Zn=C&&"TextEvent"in window&&!Yn,tr=C&&(!Xn||Yn&&8<Yn&&11>=Yn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(t,e){switch(t){case"keyup":return-1!==Gn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var ar=!1;var ur={eventTypes:nr,extractEvents:function(t,e,n,r){var o;if(Xn)t:{switch(t){case"compositionstart":var i=nr.compositionStart;break t;case"compositionend":i=nr.compositionEnd;break t;case"compositionupdate":i=nr.compositionUpdate;break t}i=void 0}else ar?or(t,n)&&(i=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=nr.compositionStart);return i?(tr&&"ko"!==n.locale&&(ar||i!==nr.compositionStart?i===nr.compositionEnd&&ar&&(o=Un()):(Mn="value"in(Bn=r)?Bn.value:Bn.textContent,ar=!0)),i=$n.getPooled(i,e,n,r),o?i.data=o:null!==(o=ir(n))&&(i.data=o),In(i),o=i):o=null,(t=Zn?function(t,e){switch(t){case"compositionend":return ir(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ar)return"compositionend"===t||!Xn&&or(t,e)?(t=Un(),zn=Mn=Bn=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Qn.getPooled(nr.beforeInput,e,n,r)).data=t,In(e)):e=null,null===o?e:null===e?o:[o,e]}},sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!sr[t.type]:"textarea"===e}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(t,e,n){return(t=qn.getPooled(cr.change,t,e,n)).type="change",A(n),In(t),t}var pr=null,dr=null;function hr(t){ue(t)}function mr(t){if(_t(Rn(t)))return t}function yr(t,e){if("change"===t)return e}var vr=!1;function br(){pr&&(pr.detachEvent("onpropertychange",gr),dr=pr=null)}function gr(t){if("value"===t.propertyName&&mr(dr))if(t=fr(dr,t,se(t)),B)ue(t);else{B=!0;try{N(hr,t)}finally{B=!1,z()}}}function wr(t,e,n){"focus"===t?(br(),dr=n,(pr=e).attachEvent("onpropertychange",gr)):"blur"===t&&br()}function _r(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return mr(dr)}function Er(t,e){if("click"===t)return mr(e)}function kr(t,e){if("input"===t||"change"===t)return mr(e)}C&&(vr=le("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:cr,_isInputEventSupported:vr,extractEvents:function(t,e,n,r){var o=e?Rn(e):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=yr;else if(lr(o))if(vr)a=kr;else{a=_r;var u=wr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Er);if(a&&(a=a(t,e)))return fr(a,n,r);u&&u(t,o,e),"blur"===t&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&Ct(o,"number",o.value)}},Or=qn.extend({view:null,detail:null}),Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sr[t])&&!!e[t]}function Pr(){return Cr}var Rr=0,Tr=0,jr=!1,Ar=!1,Dr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Rr;return Rr=t.screenX,jr?"mousemove"===t.type?t.screenX-e:0:(jr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Tr;return Tr=t.screenY,Ar?"mousemove"===t.type?t.screenY-e:0:(Ar=!0,0)}}),Nr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:Lr,extractEvents:function(t,e,n,r,o){var i="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Cn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var u=Dr,s=Lr.mouseLeave,l=Lr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(u=Nr,s=Lr.pointerLeave,l=Lr.pointerEnter,c="pointer");if(t=null==a?i:Rn(a),i=null==e?i:Rn(e),(s=u.getPooled(s,a,n,r)).type=c+"leave",s.target=t,s.relatedTarget=i,(n=u.getPooled(l,e,n,r)).type=c+"enter",n.target=i,n.relatedTarget=t,c=e,(r=a)&&c)t:{for(l=c,a=0,t=u=r;t;t=jn(t))a++;for(t=0,e=l;e;e=jn(e))t++;for(;0<a-t;)u=jn(u),a--;for(;0<t-a;)l=jn(l),t--;for(;a--;){if(u===l||u===l.alternate)break t;u=jn(u),l=jn(l)}u=null}else u=null;for(l=u,u=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)u.push(r),r=jn(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=jn(c);for(c=0;c<u.length;c++)Ln(u[c],"bubbled",s);for(c=r.length;0<c--;)Ln(r[c],"captured",n);return 0==(64&o)?[s]:[s,n]}};var Ir="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Br=Object.prototype.hasOwnProperty;function Mr(t,e){if(Ir(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(e,n[r])||!Ir(t[n[r]],e[n[r]]))return!1;return!0}var zr=C&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,Wr=null,qr=null,Hr=!1;function Kr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Hr||null==Vr||Vr!==cn(n)?null:("selectionStart"in(n=Vr)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qr&&Mr(qr,n)?null:(qr=n,(t=qn.getPooled(Ur.select,Wr,t,e)).type="select",t.target=Vr,In(t),t))}var Jr={eventTypes:Ur,extractEvents:function(t,e,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{o=Yt(o),i=O.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?Rn(e):window,t){case"focus":(lr(o)||"true"===o.contentEditable)&&(Vr=o,Wr=e,qr=null);break;case"blur":qr=Wr=Vr=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hr=!1,Kr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Kr(n,r)}return null}},$r=qn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qr=qn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gr=Or.extend({relatedTarget:null});function Xr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},to=Or.extend({key:function(t){if(t.key){var e=Yr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Xr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(t){return"keypress"===t.type?Xr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Xr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),eo=Dr.extend({dataTransfer:null}),no=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),ro=qn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Dr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),io={eventTypes:Ie,extractEvents:function(t,e,n,r){var o=Be.get(t);if(!o)return null;switch(t){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":t=to;break;case"blur":case"focus":t=Gr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=no;break;case Kt:case Jt:case $t:t=$r;break;case Qt:t=ro;break;case"scroll":t=Or;break;case"wheel":t=oo;break;case"copy":case"cut":case"paste":t=Qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Nr;break;default:t=qn}return In(e=t.getPooled(o,e,n,r)),e}};if(b)throw Error(a(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),h=Tn,m=Pn,y=Rn,S({SimpleEventPlugin:io,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:xr,SelectEventPlugin:Jr,BeforeInputEventPlugin:ur});var ao=[],uo=-1;function so(t){0>uo||(t.current=ao[uo],ao[uo]=null,uo--)}function lo(t,e){uo++,ao[uo]=t.current,t.current=e}var co={},fo={current:co},po={current:!1},ho=co;function mo(t,e){var n=t.type.contextTypes;if(!n)return co;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=e[o];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yo(t){return null!=(t=t.childContextTypes)}function vo(){so(po),so(fo)}function bo(t,e,n){if(fo.current!==co)throw Error(a(168));lo(fo,e),lo(po,n)}function go(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,yt(e)||"Unknown",i));return o({},n,{},r)}function wo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||co,ho=fo.current,lo(fo,t),lo(po,po.current),!0}function _o(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=go(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,so(po),so(fo),lo(fo,t)):so(po),lo(po,n)}var Eo=i.unstable_runWithPriority,ko=i.unstable_scheduleCallback,xo=i.unstable_cancelCallback,Oo=i.unstable_requestPaint,So=i.unstable_now,Co=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,Ro=i.unstable_UserBlockingPriority,To=i.unstable_NormalPriority,jo=i.unstable_LowPriority,Ao=i.unstable_IdlePriority,Do={},No=i.unstable_shouldYield,Lo=void 0!==Oo?Oo:function(){},Fo=null,Io=null,Bo=!1,Mo=So(),zo=1e4>Mo?So:function(){return So()-Mo};function Uo(){switch(Co()){case Po:return 99;case Ro:return 98;case To:return 97;case jo:return 96;case Ao:return 95;default:throw Error(a(332))}}function Vo(t){switch(t){case 99:return Po;case 98:return Ro;case 97:return To;case 96:return jo;case 95:return Ao;default:throw Error(a(332))}}function Wo(t,e){return t=Vo(t),Eo(t,e)}function qo(t,e,n){return t=Vo(t),ko(t,e,n)}function Ho(t){return null===Fo?(Fo=[t],Io=ko(Po,Jo)):Fo.push(t),Do}function Ko(){if(null!==Io){var t=Io;Io=null,xo(t)}Jo()}function Jo(){if(!Bo&&null!==Fo){Bo=!0;var t=0;try{var e=Fo;Wo(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Fo=null}catch(e){throw null!==Fo&&(Fo=Fo.slice(t+1)),ko(Po,Ko),e}finally{Bo=!1}}}function $o(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Qo(t,e){if(t&&t.defaultProps)for(var n in e=o({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Go={current:null},Xo=null,Yo=null,Zo=null;function ti(){Zo=Yo=Xo=null}function ei(t){var e=Go.current;so(Go),t.type._context._currentValue=e}function ni(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ri(t,e){Xo=t,Zo=Yo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ta=!0),t.firstContext=null)}function oi(t,e){if(Zo!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Zo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Yo){if(null===Xo)throw Error(a(308));Yo=e,Xo.dependencies={expirationTime:0,firstContext:e,responders:null}}else Yo=Yo.next=e;return t._currentValue}var ii=!1;function ai(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ui(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function si(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function li(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ci(t,e){var n=t.alternate;null!==n&&ui(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function fi(t,e,n,r){var i=t.updateQueue;ii=!1;var a=i.baseQueue,u=i.shared.pending;if(null!==u){if(null!==a){var s=a.next;a.next=u.next,u.next=s}a=u,i.shared.pending=null,null!==(s=t.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==a){s=a.next;var l=i.baseState,c=0,f=null,p=null,d=null;if(null!==s)for(var h=s;;){if((u=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===d?(p=d=m,f=l):d=d.next=m,u>c&&(c=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),is(u,h.suspenseConfig);t:{var y=t,v=h;switch(u=e,m=n,v.tag){case 1:if("function"==typeof(y=v.payload)){l=y.call(m,l,u);break t}l=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null==(u="function"==typeof(y=v.payload)?y.call(m,l,u):y))break t;l=o({},l,u);break t;case 2:ii=!0}}null!==h.callback&&(t.effectTag|=32,null===(u=i.effects)?i.effects=[h]:u.push(h))}if(null===(h=h.next)||h===s){if(null===(u=i.shared.pending))break;h=a.next=u.next,u.next=s,i.baseQueue=a=u,i.shared.pending=null}}null===d?f=l:d.next=p,i.baseState=f,i.baseQueue=d,as(c),t.expirationTime=c,t.memoizedState=l}}function pi(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(a(191,r));r.call(o)}}}var di=G.ReactCurrentBatchConfig,hi=(new r.Component).refs;function mi(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:o({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var yi={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ku(),o=di.suspense;(o=si(r=Ju(r,t,o),o)).payload=e,null!=n&&(o.callback=n),li(t,o),$u(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ku(),o=di.suspense;(o=si(r=Ju(r,t,o),o)).tag=1,o.payload=e,null!=n&&(o.callback=n),li(t,o),$u(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ku(),r=di.suspense;(r=si(n=Ju(n,t,r),r)).tag=2,null!=e&&(r.callback=e),li(t,r),$u(t,n)}};function vi(t,e,n,r,o,i,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!Mr(n,r)||!Mr(o,i))}function bi(t,e,n){var r=!1,o=co,i=e.contextType;return"object"==typeof i&&null!==i?i=oi(i):(o=yo(e)?ho:fo.current,i=(r=null!=(r=e.contextTypes))?mo(t,o):co),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function gi(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function wi(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=hi,ai(t);var i=e.contextType;"object"==typeof i&&null!==i?o.context=oi(i):(i=yo(e)?ho:fo.current,o.context=mo(t,i)),fi(t,n,o,r),o.state=t.memoizedState,"function"==typeof(i=e.getDerivedStateFromProps)&&(mi(t,e,i,n),o.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(e=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&yi.enqueueReplaceState(o,o.state,null),fi(t,n,o,r),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.effectTag|=4)}var _i=Array.isArray;function Ei(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=r.refs;e===hi&&(e=r.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function ki(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function xi(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=Ss(t,e)).index=0,t.sibling=null,t}function i(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function u(e){return t&&null===e.alternate&&(e.effectTag=2),e}function s(t,e,n,r){return null===e||6!==e.tag?((e=Rs(n,t.mode,r)).return=t,e):((e=o(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=o(e,n.props)).ref=Ei(t,e,n),r.return=t,r):((r=Cs(n.type,n.key,n.props,null,t.mode,r)).ref=Ei(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ts(n,t.mode,r)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function f(t,e,n,r,i){return null===e||7!==e.tag?((e=Ps(n,t.mode,r,i)).return=t,e):((e=o(e,n)).return=t,e)}function p(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Rs(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Cs(e.type,e.key,e.props,null,t.mode,n)).ref=Ei(t,null,e),n.return=t,n;case et:return(e=Ts(e,t.mode,n)).return=t,e}if(_i(e)||mt(e))return(e=Ps(e,t.mode,n,null)).return=t,e;ki(t,e)}return null}function d(t,e,n,r){var o=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:s(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===o?n.type===nt?f(t,e,n.props.children,r,o):l(t,e,n,r):null;case et:return n.key===o?c(t,e,n,r):null}if(_i(n)||mt(n))return null!==o?null:f(t,e,n,r,null);ki(t,n)}return null}function h(t,e,n,r,o){if("string"==typeof r||"number"==typeof r)return s(e,t=t.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?f(e,t,r.props.children,o,r.key):l(e,t,r,o);case et:return c(e,t=t.get(null===r.key?n:r.key)||null,r,o)}if(_i(r)||mt(r))return f(e,t=t.get(n)||null,r,o,null);ki(e,r)}return null}function m(o,a,u,s){for(var l=null,c=null,f=a,m=a=0,y=null;null!==f&&m<u.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=d(o,f,u[m],s);if(null===v){null===f&&(f=y);break}t&&f&&null===v.alternate&&e(o,f),a=i(v,a,m),null===c?l=v:c.sibling=v,c=v,f=y}if(m===u.length)return n(o,f),l;if(null===f){for(;m<u.length;m++)null!==(f=p(o,u[m],s))&&(a=i(f,a,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(o,f);m<u.length;m++)null!==(y=h(f,o,m,u[m],s))&&(t&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=i(y,a,m),null===c?l=y:c.sibling=y,c=y);return t&&f.forEach((function(t){return e(o,t)})),l}function y(o,u,s,l){var c=mt(s);if("function"!=typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,m=u,y=u=0,v=null,b=s.next();null!==m&&!b.done;y++,b=s.next()){m.index>y?(v=m,m=null):v=m.sibling;var g=d(o,m,b.value,l);if(null===g){null===m&&(m=v);break}t&&m&&null===g.alternate&&e(o,m),u=i(g,u,y),null===f?c=g:f.sibling=g,f=g,m=v}if(b.done)return n(o,m),c;if(null===m){for(;!b.done;y++,b=s.next())null!==(b=p(o,b.value,l))&&(u=i(b,u,y),null===f?c=b:f.sibling=b,f=b);return c}for(m=r(o,m);!b.done;y++,b=s.next())null!==(b=h(m,o,y,b.value,l))&&(t&&null!==b.alternate&&m.delete(null===b.key?y:b.key),u=i(b,u,y),null===f?c=b:f.sibling=b,f=b);return t&&m.forEach((function(t){return e(o,t)})),c}return function(t,r,i,s){var l="object"==typeof i&&null!==i&&i.type===nt&&null===i.key;l&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case tt:t:{for(c=i.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(i.type===nt){n(t,l.sibling),(r=o(l,i.props.children)).return=t,t=r;break t}break;default:if(l.elementType===i.type){n(t,l.sibling),(r=o(l,i.props)).ref=Ei(t,l,i),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}i.type===nt?((r=Ps(i.props.children,t.mode,s,i.key)).return=t,t=r):((s=Cs(i.type,i.key,i.props,null,t.mode,s)).ref=Ei(t,r,i),s.return=t,t=s)}return u(t);case et:t:{for(l=i.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(t,r.sibling),(r=o(r,i.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Ts(i,t.mode,s)).return=t,t=r}return u(t)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(t,r.sibling),(r=o(r,i)).return=t,t=r):(n(t,r),(r=Rs(i,t.mode,s)).return=t,t=r),u(t);if(_i(i))return m(t,r,i,s);if(mt(i))return y(t,r,i,s);if(c&&ki(t,i),void 0===i&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Oi=xi(!0),Si=xi(!1),Ci={},Pi={current:Ci},Ri={current:Ci},Ti={current:Ci};function ji(t){if(t===Ci)throw Error(a(174));return t}function Ai(t,e){switch(lo(Ti,e),lo(Ri,t),lo(Pi,Ci),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:It(null,"");break;default:e=It(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}so(Pi),lo(Pi,e)}function Di(){so(Pi),so(Ri),so(Ti)}function Ni(t){ji(Ti.current);var e=ji(Pi.current),n=It(e,t.type);e!==n&&(lo(Ri,t),lo(Pi,n))}function Li(t){Ri.current===t&&(so(Pi),so(Ri))}var Fi={current:0};function Ii(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bi(t,e){return{responder:t,props:e}}var Mi=G.ReactCurrentDispatcher,zi=G.ReactCurrentBatchConfig,Ui=0,Vi=null,Wi=null,qi=null,Hi=!1;function Ki(){throw Error(a(321))}function Ji(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ir(t[n],e[n]))return!1;return!0}function $i(t,e,n,r,o,i){if(Ui=i,Vi=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Mi.current=null===t||null===t.memoizedState?va:ba,t=n(r,o),e.expirationTime===Ui){i=0;do{if(e.expirationTime=0,!(25>i))throw Error(a(301));i+=1,qi=Wi=null,e.updateQueue=null,Mi.current=ga,t=n(r,o)}while(e.expirationTime===Ui)}if(Mi.current=ya,e=null!==Wi&&null!==Wi.next,Ui=0,qi=Wi=Vi=null,Hi=!1,e)throw Error(a(300));return t}function Qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qi?Vi.memoizedState=qi=t:qi=qi.next=t,qi}function Gi(){if(null===Wi){var t=Vi.alternate;t=null!==t?t.memoizedState:null}else t=Wi.next;var e=null===qi?Vi.memoizedState:qi.next;if(null!==e)qi=e,Wi=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Wi=t).memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},null===qi?Vi.memoizedState=qi=t:qi=qi.next=t}return qi}function Xi(t,e){return"function"==typeof e?e(t):e}function Yi(t){var e=Gi(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Wi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var u=o.next;o.next=i.next,i.next=u}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var s=u=i=null,l=o;do{var c=l.expirationTime;if(c<Ui){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=f,i=r):s=s.next=f,c>Vi.expirationTime&&(Vi.expirationTime=c,as(c))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),is(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==o);null===s?i=r:s.next=u,Ir(r,e.memoizedState)||(Ta=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=s,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Zi(t){var e=Gi(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(null!==o){n.pending=null;var u=o=o.next;do{i=t(i,u.action),u=u.next}while(u!==o);Ir(i,e.memoizedState)||(Ta=!0),e.memoizedState=i,null===e.baseQueue&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ta(t){var e=Qi();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t}).dispatch=ma.bind(null,Vi,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Vi.updateQueue)?(e={lastEffect:null},Vi.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function na(){return Gi().memoizedState}function ra(t,e,n,r){var o=Qi();Vi.effectTag|=t,o.memoizedState=ea(1|e,n,void 0,void 0===r?null:r)}function oa(t,e,n,r){var o=Gi();r=void 0===r?null:r;var i=void 0;if(null!==Wi){var a=Wi.memoizedState;if(i=a.destroy,null!==r&&Ji(r,a.deps))return void ea(e,n,i,r)}Vi.effectTag|=t,o.memoizedState=ea(1|e,n,i,r)}function ia(t,e){return ra(516,4,t,e)}function aa(t,e){return oa(516,4,t,e)}function ua(t,e){return oa(4,2,t,e)}function sa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function la(t,e,n){return n=null!=n?n.concat([t]):null,oa(4,2,sa.bind(null,e,t),n)}function ca(){}function fa(t,e){return Qi().memoizedState=[t,void 0===e?null:e],t}function pa(t,e){var n=Gi();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ji(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function da(t,e){var n=Gi();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ji(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ha(t,e,n){var r=Uo();Wo(98>r?98:r,(function(){t(!0)})),Wo(97<r?97:r,(function(){var r=zi.suspense;zi.suspense=void 0===e?null:e;try{t(!1),n()}finally{zi.suspense=r}}))}function ma(t,e,n){var r=Ku(),o=di.suspense;o={expirationTime:r=Ju(r,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=e.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),e.pending=o,i=t.alternate,t===Vi||null!==i&&i===Vi)Hi=!0,o.expirationTime=Ui,Vi.expirationTime=Ui;else{if(0===t.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=e.lastRenderedReducer))try{var a=e.lastRenderedState,u=i(a,n);if(o.eagerReducer=i,o.eagerState=u,Ir(u,a))return}catch(t){}$u(t,r)}}var ya={readContext:oi,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useResponder:Ki,useDeferredValue:Ki,useTransition:Ki},va={readContext:oi,useCallback:fa,useContext:oi,useEffect:ia,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ra(4,2,sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Qi();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qi();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ma.bind(null,Vi,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Qi().memoizedState=t},useState:ta,useDebugValue:ca,useResponder:Bi,useDeferredValue:function(t,e){var n=ta(t),r=n[0],o=n[1];return ia((function(){var n=zi.suspense;zi.suspense=void 0===e?null:e;try{o(t)}finally{zi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[fa(ha.bind(null,e,t),[e,t]),n]}},ba={readContext:oi,useCallback:pa,useContext:oi,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ua,useMemo:da,useReducer:Yi,useRef:na,useState:function(){return Yi(Xi)},useDebugValue:ca,useResponder:Bi,useDeferredValue:function(t,e){var n=Yi(Xi),r=n[0],o=n[1];return aa((function(){var n=zi.suspense;zi.suspense=void 0===e?null:e;try{o(t)}finally{zi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Yi(Xi),n=e[0];return e=e[1],[pa(ha.bind(null,e,t),[e,t]),n]}},ga={readContext:oi,useCallback:pa,useContext:oi,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ua,useMemo:da,useReducer:Zi,useRef:na,useState:function(){return Zi(Xi)},useDebugValue:ca,useResponder:Bi,useDeferredValue:function(t,e){var n=Zi(Xi),r=n[0],o=n[1];return aa((function(){var n=zi.suspense;zi.suspense=void 0===e?null:e;try{o(t)}finally{zi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zi(Xi),n=e[0];return e=e[1],[pa(ha.bind(null,e,t),[e,t]),n]}},wa=null,_a=null,Ea=!1;function ka(t,e){var n=xs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function xa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Oa(t){if(Ea){var e=_a;if(e){var n=e;if(!xa(t,e)){if(!(e=_n(n.nextSibling))||!xa(t,e))return t.effectTag=-1025&t.effectTag|2,Ea=!1,void(wa=t);ka(wa,n)}wa=t,_a=_n(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ea=!1,wa=t}}function Sa(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;wa=t}function Ca(t){if(t!==wa)return!1;if(!Ea)return Sa(t),Ea=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!bn(e,t.memoizedProps))for(e=_a;e;)ka(t,e),e=_n(e.nextSibling);if(Sa(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){_a=_n(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}_a=null}}else _a=wa?_n(t.stateNode.nextSibling):null;return!0}function Pa(){_a=wa=null,Ea=!1}var Ra=G.ReactCurrentOwner,Ta=!1;function ja(t,e,n,r){e.child=null===t?Si(e,null,n,r):Oi(e,t.child,n,r)}function Aa(t,e,n,r,o){n=n.render;var i=e.ref;return ri(e,o),r=$i(t,e,n,r,i,o),null===t||Ta?(e.effectTag|=1,ja(t,e,r,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),$a(t,e,o))}function Da(t,e,n,r,o,i){if(null===t){var a=n.type;return"function"!=typeof a||Os(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Cs(n.type,null,r,null,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Na(t,e,a,r,o,i))}return a=t.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Mr)(o,r)&&t.ref===e.ref)?$a(t,e,i):(e.effectTag|=1,(t=Ss(a,r)).ref=e.ref,t.return=e,e.child=t)}function Na(t,e,n,r,o,i){return null!==t&&Mr(t.memoizedProps,r)&&t.ref===e.ref&&(Ta=!1,o<i)?(e.expirationTime=t.expirationTime,$a(t,e,i)):Fa(t,e,n,r,i)}function La(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Fa(t,e,n,r,o){var i=yo(n)?ho:fo.current;return i=mo(e,i),ri(e,o),n=$i(t,e,n,r,i,o),null===t||Ta?(e.effectTag|=1,ja(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),$a(t,e,o))}function Ia(t,e,n,r,o){if(yo(n)){var i=!0;wo(e)}else i=!1;if(ri(e,o),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),bi(e,n,r),wi(e,n,r,o),r=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var s=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=oi(l):l=mo(e,l=yo(n)?ho:fo.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&gi(e,a,r,l),ii=!1;var p=e.memoizedState;a.state=p,fi(e,r,a,o),s=e.memoizedState,u!==r||p!==s||po.current||ii?("function"==typeof c&&(mi(e,n,c,r),s=e.memoizedState),(u=ii||vi(e,n,u,r,p,s,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=s),a.props=r,a.state=s,a.context=l,r=u):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ui(t,e),u=e.memoizedProps,a.props=e.type===e.elementType?u:Qo(e.type,u),s=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=oi(l):l=mo(e,l=yo(n)?ho:fo.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&gi(e,a,r,l),ii=!1,s=e.memoizedState,a.state=s,fi(e,r,a,o),p=e.memoizedState,u!==r||s!==p||po.current||ii?("function"==typeof c&&(mi(e,n,c,r),p=e.memoizedState),(c=ii||vi(e,n,u,r,s,p,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),r=!1);return Ba(t,e,n,r,i,o)}function Ba(t,e,n,r,o,i){La(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return o&&_o(e,n,!1),$a(t,e,i);r=e.stateNode,Ra.current=e;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Oi(e,t.child,null,i),e.child=Oi(e,null,u,i)):ja(t,e,u,i),e.memoizedState=r.state,o&&_o(e,n,!0),e.child}function Ma(t){var e=t.stateNode;e.pendingContext?bo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bo(0,e.context,!1),Ai(t,e.containerInfo)}var za,Ua,Va,Wa={dehydrated:null,retryTime:0};function qa(t,e,n){var r,o=e.mode,i=e.pendingProps,a=Fi.current,u=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(u=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),lo(Fi,1&a),null===t){if(void 0!==i.fallback&&Oa(e),u){if(u=i.fallback,(i=Ps(null,o,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,i.child=t;null!==t;)t.return=i,t=t.sibling;return(n=Ps(u,o,n,null)).return=e,i.sibling=n,e.memoizedState=Wa,e.child=i,n}return o=i.children,e.memoizedState=null,e.child=Si(e,null,o,n)}if(null!==t.memoizedState){if(o=(t=t.child).sibling,u){if(i=i.fallback,(n=Ss(t,t.pendingProps)).return=e,0==(2&e.mode)&&(u=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(o=Ss(o,i)).return=e,n.sibling=o,n.childExpirationTime=0,e.memoizedState=Wa,e.child=n,o}return n=Oi(e,t.child,i.children,n),e.memoizedState=null,e.child=n}if(t=t.child,u){if(u=i.fallback,(i=Ps(null,o,0,null)).return=e,i.child=t,null!==t&&(t.return=i),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,i.child=t;null!==t;)t.return=i,t=t.sibling;return(n=Ps(u,o,n,null)).return=e,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,e.memoizedState=Wa,e.child=i,n}return e.memoizedState=null,e.child=Oi(e,t,i.children,n)}function Ha(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ni(t.return,e)}function Ka(t,e,n,r,o,i){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function Ja(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(ja(t,e,r.children,n),0!=(2&(r=Fi.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ha(t,n);else if(19===t.tag)Ha(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lo(Fi,r),0==(2&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;null!==n;)null!==(t=n.alternate)&&null===Ii(t)&&(o=n),n=n.sibling;null===(n=o)?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Ka(e,!1,o,n,i,e.lastEffect);break;case"backwards":for(n=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===Ii(t)){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Ka(e,!0,n,null,i,e.lastEffect);break;case"together":Ka(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function $a(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&as(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Ss(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ss(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Qa(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ga(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yo(e.type)&&vo(),null;case 3:return Di(),so(po),so(fo),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ca(e)||(e.effectTag|=4),null;case 5:Li(e),n=ji(Ti.current);var i=e.type;if(null!==t&&null!=e.stateNode)Ua(t,e,i,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=ji(Pi.current),Ca(e)){r=e.stateNode,i=e.type;var u=e.memoizedProps;switch(r[xn]=e,r[On]=u,i){case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(t=0;t<Gt.length;t++)Je(Gt[t],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"form":Je("reset",r),Je("submit",r);break;case"details":Je("toggle",r);break;case"input":kt(r,u),Je("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Je("invalid",r),sn(n,"onChange");break;case"textarea":jt(r,u),Je("invalid",r),sn(n,"onChange")}for(var s in on(i,u),t=null,u)if(u.hasOwnProperty(s)){var l=u[s];"children"===s?"string"==typeof l?r.textContent!==l&&(t=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(t=["children",""+l]):x.hasOwnProperty(s)&&null!=l&&sn(n,s)}switch(i){case"input":wt(r),St(r,u,!0);break;case"textarea":wt(r),Dt(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,t===un&&(t=Ft(i)),t===un?"script"===i?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=s.createElement(i,{is:r.is}):(t=s.createElement(i),"select"===i&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,i),t[xn]=e,t[On]=r,za(t,e),e.stateNode=t,s=an(i,r),i){case"iframe":case"object":case"embed":Je("load",t),l=r;break;case"video":case"audio":for(l=0;l<Gt.length;l++)Je(Gt[l],t);l=r;break;case"source":Je("error",t),l=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),l=r;break;case"form":Je("reset",t),Je("submit",t),l=r;break;case"details":Je("toggle",t),l=r;break;case"input":kt(t,r),l=Et(t,r),Je("invalid",t),sn(n,"onChange");break;case"option":l=Pt(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=o({},r,{value:void 0}),Je("invalid",t),sn(n,"onChange");break;case"textarea":jt(t,r),l=Tt(t,r),Je("invalid",t),sn(n,"onChange");break;default:l=r}on(i,l);var c=l;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?nn(t,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Mt(t,f):"children"===u?"string"==typeof f?("textarea"!==i||""!==f)&&zt(t,f):"number"==typeof f&&zt(t,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(x.hasOwnProperty(u)?null!=f&&sn(n,u):null!=f&&X(t,u,f,s))}switch(i){case"input":wt(t),St(t,r,!1);break;case"textarea":wt(t),Dt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+bt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Rt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Rt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(t.onclick=ln)}vn(i,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Va(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=ji(Ti.current),ji(Pi.current),Ca(e)?(n=e.stateNode,r=e.memoizedProps,n[xn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xn]=e,e.stateNode=n)}return null;case 13:return so(Fi),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ca(e):(r=null!==(i=t.memoizedState),n||null===i||null!==(i=t.child.sibling)&&(null!==(u=e.firstEffect)?(e.firstEffect=i,i.nextEffect=u):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Fi.current)?Cu===wu&&(Cu=_u):(Cu!==wu&&Cu!==_u||(Cu=Eu),0!==Au&&null!==xu&&(Ds(xu,Su),Ns(xu,Au)))),(n||r)&&(e.effectTag|=4),null);case 4:return Di(),null;case 10:return ei(e),null;case 17:return yo(e.type)&&vo(),null;case 19:if(so(Fi),null===(r=e.memoizedState))return null;if(i=0!=(64&e.effectTag),null===(u=r.rendering)){if(i)Qa(r,!1);else if(Cu!==wu||null!==t&&0!=(64&t.effectTag))for(u=e.child;null!==u;){if(null!==(t=Ii(u))){for(e.effectTag|=64,Qa(r,!1),null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)u=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(t=i.alternate)?(i.childExpirationTime=0,i.expirationTime=u,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,u=t.dependencies,i.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return lo(Fi,1&Fi.current|2),e.child}u=u.sibling}}else{if(!i)if(null!==(t=Ii(u))){if(e.effectTag|=64,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Qa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*zo()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Qa(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=zo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=zo(),n.sibling=null,e=Fi.current,lo(Fi,i?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function Xa(t){switch(t.tag){case 1:yo(t.type)&&vo();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Di(),so(po),so(fo),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Li(t),null;case 13:return so(Fi),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return so(Fi),null;case 4:return Di(),null;case 10:return ei(t),null;default:return null}}function Ya(t,e){return{value:t,source:e,stack:vt(e)}}za=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(t,e,n,r,i){var a=t.memoizedProps;if(a!==r){var u,s,l=e.stateNode;switch(ji(Pi.current),t=null,n){case"input":a=Et(l,a),r=Et(l,r),t=[];break;case"option":a=Pt(l,a),r=Pt(l,r),t=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),t=[];break;case"textarea":a=Tt(l,a),r=Tt(l,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=ln)}for(u in on(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u)for(s in l=a[u])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(x.hasOwnProperty(u)?t||(t=[]):(t=t||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(t||(t=[]),t.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(u,c)):"children"===u?l===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(x.hasOwnProperty(u)?(null!=c&&sn(i,u),t||l===c||(t=[])):(t=t||[]).push(u,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}},Va=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function tu(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=vt(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function eu(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){bs(t,e)}else e.current=null}function nu(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qo(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ru(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function ou(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iu(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ou(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Qo(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&pi(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}pi(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Fe(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function au(t,e,n){switch("function"==typeof Es&&Es(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Wo(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var o=e;try{n()}catch(t){bs(o,t)}}t=t.next}while(t!==r)}))}break;case 1:eu(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){bs(t,e)}}(e,n);break;case 5:eu(e);break;case 4:cu(t,e,n)}}function uu(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&uu(e)}function su(t){return 5===t.tag||3===t.tag||4===t.tag}function lu(t){t:{for(var e=t.return;null!==e;){if(su(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(zt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||su(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var o=e.tag,i=5===o||6===o;if(i)e=i?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==o&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var o=e.tag,i=5===o||6===o;if(i)e=i?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==o&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function cu(t,e,n){for(var r,o,i=e,u=!1;;){if(!u){u=i.return;t:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:o=!1;break t;case 3:case 4:r=r.containerInfo,o=!0;break t}u=u.return}u=!0}if(5===i.tag||6===i.tag){t:for(var s=t,l=i,c=n,f=l;;)if(au(s,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break t;for(;null===f.sibling;){if(null===f.return||f.return===l)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(s=r,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(au(t,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(u=!1)}i.sibling.return=i.return,i=i.sibling}}function fu(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ru(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,o=null!==t?t.memoizedProps:r;t=e.type;var i=e.updateQueue;if(e.updateQueue=null,null!==i){for(n[On]=r,"input"===t&&"radio"===r.type&&null!=r.name&&xt(n,r),an(t,o),e=an(t,r),o=0;o<i.length;o+=2){var u=i[o],s=i[o+1];"style"===u?nn(n,s):"dangerouslySetInnerHTML"===u?Mt(n,s):"children"===u?zt(n,s):X(n,u,s,e)}switch(t){case"input":Ot(n,r);break;case"textarea":At(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Rt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Rt(n,!!r.multiple,r.defaultValue,!0):Rt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Fe(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Nu=zo()),null!==n)t:for(t=n;;){if(5===t.tag)i=t.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=t.stateNode,o=null!=(o=t.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,i.style.display=en("display",o));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(i=t.child.sibling).return=t,t=i;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void pu(e);case 19:return void pu(e);case 17:return}throw Error(a(163))}function pu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var r=ws.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var du="function"==typeof WeakMap?WeakMap:Map;function hu(t,e,n){(n=si(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fu||(Fu=!0,Iu=r),tu(t,e)},n}function mu(t,e,n){(n=si(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var o=e.value;n.payload=function(){return tu(t,e),r(o)}}var i=t.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Bu?Bu=new Set([this]):Bu.add(this),tu(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var yu,vu=Math.ceil,bu=G.ReactCurrentDispatcher,gu=G.ReactCurrentOwner,wu=0,_u=3,Eu=4,ku=0,xu=null,Ou=null,Su=0,Cu=wu,Pu=null,Ru=1073741823,Tu=1073741823,ju=null,Au=0,Du=!1,Nu=0,Lu=null,Fu=!1,Iu=null,Bu=null,Mu=!1,zu=null,Uu=90,Vu=null,Wu=0,qu=null,Hu=0;function Ku(){return 0!=(48&ku)?1073741821-(zo()/10|0):0!==Hu?Hu:Hu=1073741821-(zo()/10|0)}function Ju(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=Uo();if(0==(4&e))return 99===r?1073741823:1073741822;if(0!=(16&ku))return Su;if(null!==n)t=$o(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=$o(t,150,100);break;case 97:case 96:t=$o(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==xu&&t===Su&&--t,t}function $u(t,e){if(50<Wu)throw Wu=0,qu=null,Error(a(185));if(null!==(t=Qu(t,e))){var n=Uo();1073741823===e?0!=(8&ku)&&0==(48&ku)?Zu(t):(Xu(t),0===ku&&Ko()):Xu(t),0==(4&ku)||98!==n&&99!==n||(null===Vu?Vu=new Map([[t,e]]):(void 0===(n=Vu.get(t))||n>e)&&Vu.set(t,e))}}function Qu(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,o=null;if(null===r&&3===t.tag)o=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(xu===o&&(as(e),Cu===Eu&&Ds(o,Su)),Ns(o,e)),o}function Gu(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!As(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Xu(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Ho(Zu.bind(null,t));else{var e=Gu(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Ku();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=t.callbackPriority;if(t.callbackExpirationTime===e&&o>=r)return;n!==Do&&xo(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Ho(Zu.bind(null,t)):qo(r,Yu.bind(null,t),{timeout:10*(1073741821-e)-zo()}),t.callbackNode=e}}}function Yu(t,e){if(Hu=0,e)return Ls(t,e=Ku()),Xu(t),null;var n=Gu(t);if(0!==n){if(e=t.callbackNode,0!=(48&ku))throw Error(a(327));if(ms(),t===xu&&n===Su||ns(t,n),null!==Ou){var r=ku;ku|=16;for(var o=os();;)try{ss();break}catch(e){rs(t,e)}if(ti(),ku=r,bu.current=o,1===Cu)throw e=Pu,ns(t,n),Ds(t,n),Xu(t),e;if(null===Ou)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Cu,xu=null,r){case wu:case 1:throw Error(a(345));case 2:Ls(t,2<n?2:n);break;case _u:if(Ds(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=fs(o)),1073741823===Ru&&10<(o=Nu+500-zo())){if(Du){var i=t.lastPingedTime;if(0===i||i>=n){t.lastPingedTime=n,ns(t,n);break}}if(0!==(i=Gu(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=gn(ps.bind(null,t),o);break}ps(t);break;case Eu:if(Ds(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=fs(o)),Du&&(0===(o=t.lastPingedTime)||o>=n)){t.lastPingedTime=n,ns(t,n);break}if(0!==(o=Gu(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Tu?r=10*(1073741821-Tu)-zo():1073741823===Ru?r=0:(r=10*(1073741821-Ru)-5e3,0>(r=(o=zo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vu(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=gn(ps.bind(null,t),r);break}ps(t);break;case 5:if(1073741823!==Ru&&null!==ju){i=Ru;var u=ju;if(0>=(r=0|u.busyMinDurationMs)?r=0:(o=0|u.busyDelayMs,r=(i=zo()-(10*(1073741821-i)-(0|u.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Ds(t,n),t.timeoutHandle=gn(ps.bind(null,t),r);break}}ps(t);break;default:throw Error(a(329))}if(Xu(t),t.callbackNode===e)return Yu.bind(null,t)}}return null}function Zu(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&ku))throw Error(a(327));if(ms(),t===xu&&e===Su||ns(t,e),null!==Ou){var n=ku;ku|=16;for(var r=os();;)try{us();break}catch(e){rs(t,e)}if(ti(),ku=n,bu.current=r,1===Cu)throw n=Pu,ns(t,e),Ds(t,e),Xu(t),n;if(null!==Ou)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,xu=null,ps(t),Xu(t)}return null}function ts(t,e){var n=ku;ku|=1;try{return t(e)}finally{0===(ku=n)&&Ko()}}function es(t,e){var n=ku;ku&=-2,ku|=8;try{return t(e)}finally{0===(ku=n)&&Ko()}}function ns(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,wn(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vo();break;case 3:Di(),so(po),so(fo);break;case 5:Li(r);break;case 4:Di();break;case 13:case 19:so(Fi);break;case 10:ei(r)}n=n.return}xu=t,Ou=Ss(t.current,null),Su=e,Cu=wu,Pu=null,Tu=Ru=1073741823,ju=null,Au=0,Du=!1}function rs(t,e){for(;;){try{if(ti(),Mi.current=ya,Hi)for(var n=Vi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ui=0,qi=Wi=Vi=null,Hi=!1,null===Ou||null===Ou.return)return Cu=1,Pu=e,Ou=null;t:{var o=t,i=Ou.return,a=Ou,u=e;if(e=Su,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Fi.current),f=i;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var h=f.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(p){var m=f.updateQueue;if(null===m){var y=new Set;y.add(s),f.updateQueue=y}else m.add(s);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=si(1073741823,null);v.tag=2,li(a,v)}a.expirationTime=1073741823;break t}u=void 0,a=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new du,u=new Set,b.set(s,u)):void 0===(u=b.get(s))&&(u=new Set,b.set(s,u)),!u.has(a)){u.add(a);var g=gs.bind(null,o,s,a);s.then(g,g)}f.effectTag|=4096,f.expirationTime=e;break t}f=f.return}while(null!==f);u=Error((yt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+vt(a))}5!==Cu&&(Cu=2),u=Ya(u,a),f=i;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=e,ci(f,hu(f,s,e));break t;case 1:s=u;var w=f.type,_=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Bu||!Bu.has(_)))){f.effectTag|=4096,f.expirationTime=e,ci(f,mu(f,s,e));break t}}f=f.return}while(null!==f)}Ou=cs(Ou)}catch(t){e=t;continue}break}}function os(){var t=bu.current;return bu.current=ya,null===t?ya:t}function is(t,e){t<Ru&&2<t&&(Ru=t),null!==e&&t<Tu&&2<t&&(Tu=t,ju=e)}function as(t){t>Au&&(Au=t)}function us(){for(;null!==Ou;)Ou=ls(Ou)}function ss(){for(;null!==Ou&&!No();)Ou=ls(Ou)}function ls(t){var e=yu(t.alternate,t,Su);return t.memoizedProps=t.pendingProps,null===e&&(e=cs(t)),gu.current=null,e}function cs(t){Ou=t;do{var e=Ou.alternate;if(t=Ou.return,0==(2048&Ou.effectTag)){if(e=Ga(e,Ou,Su),1===Su||1!==Ou.childExpirationTime){for(var n=0,r=Ou.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}Ou.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ou.firstEffect),null!==Ou.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ou.firstEffect),t.lastEffect=Ou.lastEffect),1<Ou.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ou:t.firstEffect=Ou,t.lastEffect=Ou))}else{if(null!==(e=Xa(Ou)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ou.sibling))return e;Ou=t}while(null!==Ou);return Cu===wu&&(Cu=5),null}function fs(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function ps(t){var e=Uo();return Wo(99,ds.bind(null,t,e)),null}function ds(t,e){do{ms()}while(null!==zu);if(0!=(48&ku))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var o=fs(n);if(t.firstPendingTime=o,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===xu&&(Ou=xu=null,Su=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=ku;ku|=32,gu.current=null,mn=Ke;var u=dn();if(hn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else t:{var l=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch(t){s=null;break t}var p=0,d=-1,h=-1,m=0,y=0,v=u,b=null;e:for(;;){for(var g;v!==s||0!==c&&3!==v.nodeType||(d=p+c),v!==f||0!==l&&3!==v.nodeType||(h=p+l),3===v.nodeType&&(p+=v.nodeValue.length),null!==(g=v.firstChild);)b=v,v=g;for(;;){if(v===u)break e;if(b===s&&++m===c&&(d=p),b===f&&++y===l&&(h=p),null!==(g=v.nextSibling))break;b=(v=b).parentNode}v=g}s=-1===d||-1===h?null:{start:d,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;yn={activeElementDetached:null,focusedElem:u,selectionRange:s},Ke=!1,Lu=o;do{try{hs()}catch(t){if(null===Lu)throw Error(a(330));bs(Lu,t),Lu=Lu.nextEffect}}while(null!==Lu);Lu=o;do{try{for(u=t,s=e;null!==Lu;){var w=Lu.effectTag;if(16&w&&zt(Lu.stateNode,""),128&w){var _=Lu.alternate;if(null!==_){var E=_.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:lu(Lu),Lu.effectTag&=-3;break;case 6:lu(Lu),Lu.effectTag&=-3,fu(Lu.alternate,Lu);break;case 1024:Lu.effectTag&=-1025;break;case 1028:Lu.effectTag&=-1025,fu(Lu.alternate,Lu);break;case 4:fu(Lu.alternate,Lu);break;case 8:cu(u,c=Lu,s),uu(c)}Lu=Lu.nextEffect}}catch(t){if(null===Lu)throw Error(a(330));bs(Lu,t),Lu=Lu.nextEffect}}while(null!==Lu);if(E=yn,_=dn(),w=E.focusedElem,s=E.selectionRange,_!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==s&&hn(w)&&(_=s.start,void 0===(E=s.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),c=w.textContent.length,u=Math.min(s.start,c),s=void 0===s.end?u:Math.min(s.end,c),!E.extend&&u>s&&(c=s,s=u,u=c),c=pn(w,u),f=pn(w,s),c&&f&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((_=_.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),u>s?(E.addRange(_),E.extend(f.node,f.offset)):(_.setEnd(f.node,f.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Ke=!!mn,yn=mn=null,t.current=n,Lu=o;do{try{for(w=t;null!==Lu;){var k=Lu.effectTag;if(36&k&&iu(w,Lu.alternate,Lu),128&k){_=void 0;var x=Lu.ref;if(null!==x){var O=Lu.stateNode;switch(Lu.tag){case 5:_=O;break;default:_=O}"function"==typeof x?x(_):x.current=_}}Lu=Lu.nextEffect}}catch(t){if(null===Lu)throw Error(a(330));bs(Lu,t),Lu=Lu.nextEffect}}while(null!==Lu);Lu=null,Lo(),ku=i}else t.current=n;if(Mu)Mu=!1,zu=t,Uu=e;else for(Lu=o;null!==Lu;)e=Lu.nextEffect,Lu.nextEffect=null,Lu=e;if(0===(e=t.firstPendingTime)&&(Bu=null),1073741823===e?t===qu?Wu++:(Wu=0,qu=t):Wu=0,"function"==typeof _s&&_s(n.stateNode,r),Xu(t),Fu)throw Fu=!1,t=Iu,Iu=null,t;return 0!=(8&ku)||Ko(),null}function hs(){for(;null!==Lu;){var t=Lu.effectTag;0!=(256&t)&&nu(Lu.alternate,Lu),0==(512&t)||Mu||(Mu=!0,qo(97,(function(){return ms(),null}))),Lu=Lu.nextEffect}}function ms(){if(90!==Uu){var t=97<Uu?97:Uu;return Uu=90,Wo(t,ys)}}function ys(){if(null===zu)return!1;var t=zu;if(zu=null,0!=(48&ku))throw Error(a(331));var e=ku;for(ku|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ru(5,n),ou(5,n)}}catch(e){if(null===t)throw Error(a(330));bs(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return ku=e,Ko(),!0}function vs(t,e,n){li(t,e=hu(t,e=Ya(n,e),1073741823)),null!==(t=Qu(t,1073741823))&&Xu(t)}function bs(t,e){if(3===t.tag)vs(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){vs(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bu||!Bu.has(r))){li(n,t=mu(n,t=Ya(e,t),1073741823)),null!==(n=Qu(n,1073741823))&&Xu(n);break}}n=n.return}}function gs(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),xu===t&&Su===n?Cu===Eu||Cu===_u&&1073741823===Ru&&zo()-Nu<500?ns(t,Su):Du=!0:As(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Xu(t)))}function ws(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ju(e=Ku(),t,null)),null!==(t=Qu(t,e))&&Xu(t)}yu=function(t,e,n){var r=e.expirationTime;if(null!==t){var o=e.pendingProps;if(t.memoizedProps!==o||po.current)Ta=!0;else{if(r<n){switch(Ta=!1,e.tag){case 3:Ma(e),Pa();break;case 5:if(Ni(e),4&e.mode&&1!==n&&o.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:yo(e.type)&&wo(e);break;case 4:Ai(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,o=e.type._context,lo(Go,o._currentValue),o._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?qa(t,e,n):(lo(Fi,1&Fi.current),null!==(e=$a(t,e,n))?e.sibling:null);lo(Fi,1&Fi.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return Ja(t,e,n);e.effectTag|=64}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null),lo(Fi,Fi.current),!r)return null}return $a(t,e,n)}Ta=!1}}else Ta=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,o=mo(e,fo.current),ri(e,n),o=$i(null,e,r,t,o,n),e.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yo(r)){var i=!0;wo(e)}else i=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ai(e);var u=r.getDerivedStateFromProps;"function"==typeof u&&mi(e,r,u,t),o.updater=yi,e.stateNode=o,o._reactInternalFiber=e,wi(e,r,t,n),e=Ba(null,e,r,!0,i,n)}else e.tag=0,ja(null,e,o,n),e=e.child;return e;case 16:t:{if(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,e.type=o,i=e.tag=function(t){if("function"==typeof t)return Os(t)?1:0;if(null!=t){if((t=t.$$typeof)===st)return 11;if(t===ft)return 14}return 2}(o),t=Qo(o,t),i){case 0:e=Fa(null,e,o,t,n);break t;case 1:e=Ia(null,e,o,t,n);break t;case 11:e=Aa(null,e,o,t,n);break t;case 14:e=Da(null,e,o,Qo(o.type,t),r,n);break t}throw Error(a(306,o,""))}return e;case 0:return r=e.type,o=e.pendingProps,Fa(t,e,r,o=e.elementType===r?o:Qo(r,o),n);case 1:return r=e.type,o=e.pendingProps,Ia(t,e,r,o=e.elementType===r?o:Qo(r,o),n);case 3:if(Ma(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,o=null!==(o=e.memoizedState)?o.element:null,ui(t,e),fi(e,r,null,n),(r=e.memoizedState.element)===o)Pa(),e=$a(t,e,n);else{if((o=e.stateNode.hydrate)&&(_a=_n(e.stateNode.containerInfo.firstChild),wa=e,o=Ea=!0),o)for(n=Si(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ja(t,e,r,n),Pa();e=e.child}return e;case 5:return Ni(e),null===t&&Oa(e),r=e.type,o=e.pendingProps,i=null!==t?t.memoizedProps:null,u=o.children,bn(r,o)?u=null:null!==i&&bn(r,i)&&(e.effectTag|=16),La(t,e),4&e.mode&&1!==n&&o.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(ja(t,e,u,n),e=e.child),e;case 6:return null===t&&Oa(e),null;case 13:return qa(t,e,n);case 4:return Ai(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Oi(e,null,r,n):ja(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,Aa(t,e,r,o=e.elementType===r?o:Qo(r,o),n);case 7:return ja(t,e,e.pendingProps,n),e.child;case 8:case 12:return ja(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,o=e.pendingProps,u=e.memoizedProps,i=o.value;var s=e.type._context;if(lo(Go,s._currentValue),s._currentValue=i,null!==u)if(s=u.value,0===(i=Ir(s,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(u.children===o.children&&!po.current){e=$a(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&i)){1===s.tag&&((c=si(n,null)).tag=2,li(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ni(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else u=10===s.tag&&s.type===e.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===e){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}ja(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=(i=e.pendingProps).children,ri(e,n),r=r(o=oi(o,i.unstable_observedBits)),e.effectTag|=1,ja(t,e,r,n),e.child;case 14:return i=Qo(o=e.type,e.pendingProps),Da(t,e,o,i=Qo(o.type,i),r,n);case 15:return Na(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Qo(r,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,yo(r)?(t=!0,wo(e)):t=!1,ri(e,n),bi(e,r,o),wi(e,r,o,n),Ba(null,e,r,!0,t,n);case 19:return Ja(t,e,n)}throw Error(a(156,e.tag))};var _s=null,Es=null;function ks(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xs(t,e,n,r){return new ks(t,e,n,r)}function Os(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ss(t,e){var n=t.alternate;return null===n?((n=xs(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cs(t,e,n,r,o,i){var u=2;if(r=t,"function"==typeof t)Os(t)&&(u=1);else if("string"==typeof t)u=5;else t:switch(t){case nt:return Ps(n.children,o,i,e);case ut:u=8,o|=7;break;case rt:u=8,o|=1;break;case ot:return(t=xs(12,n,e,8|o)).elementType=ot,t.type=ot,t.expirationTime=i,t;case lt:return(t=xs(13,n,e,o)).type=lt,t.elementType=lt,t.expirationTime=i,t;case ct:return(t=xs(19,n,e,o)).elementType=ct,t.expirationTime=i,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case it:u=10;break t;case at:u=9;break t;case st:u=11;break t;case ft:u=14;break t;case pt:u=16,r=null;break t;case dt:u=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=xs(u,n,e,o)).elementType=t,e.type=r,e.expirationTime=i,e}function Ps(t,e,n,r){return(t=xs(7,t,r,e)).expirationTime=n,t}function Rs(t,e,n){return(t=xs(6,t,null,e)).expirationTime=n,t}function Ts(t,e,n){return(e=xs(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function js(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function As(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Ds(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ns(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ls(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Fs(t,e,n,r){var o=e.current,i=Ku(),u=di.suspense;i=Ju(i,o,u);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yo(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var l=n.type;if(yo(l)){n=go(n,l,s);break t}}n=s}else n=co;return null===e.context?e.context=n:e.pendingContext=n,(e=si(i,u)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),li(o,e),$u(o,i),i}function Is(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Bs(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Ms(t,e){Bs(t,e),(t=t.alternate)&&Bs(t,e)}function zs(t,e,n){var r=new js(t,e,n=null!=n&&!0===n.hydrate),o=xs(3,null,null,2===e?7:1===e?3:0);r.current=o,o.stateNode=r,ai(o),t[Sn]=r.current,n&&0!==e&&function(t,e){var n=Yt(e);Se.forEach((function(t){he(t,e,n)})),Ce.forEach((function(t){he(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Us(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Vs(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var u=o;o=function(){var t=Is(a);u.call(t)}}Fs(e,a,t,o)}else{if(i=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new zs(t,0,e?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var s=o;o=function(){var t=Is(a);s.call(t)}}es((function(){Fs(e,a,t,o)}))}return Is(a)}function Ws(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function qs(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Us(e))throw Error(a(200));return Ws(t,e,null,n)}zs.prototype.render=function(t){Fs(t,this._internalRoot,null,null)},zs.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Fs(null,t,null,(function(){e[Sn]=null}))},me=function(t){if(13===t.tag){var e=$o(Ku(),150,100);$u(t,e),Ms(t,e)}},ye=function(t){13===t.tag&&($u(t,3),Ms(t,3))},ve=function(t){if(13===t.tag){var e=Ku();$u(t,e=Ju(e,t,null)),Ms(t,e)}},P=function(t,e,n){switch(e){case"input":if(Ot(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Tn(r);if(!o)throw Error(a(90));_t(r),Ot(r,o)}}}break;case"textarea":At(t,n);break;case"select":null!=(e=n.value)&&Rt(t,!!n.multiple,e,!1)}},N=ts,L=function(t,e,n,r,o){var i=ku;ku|=4;try{return Wo(98,t.bind(null,e,n,r,o))}finally{0===(ku=i)&&Ko()}},F=function(){0==(49&ku)&&(function(){if(null!==Vu){var t=Vu;Vu=null,t.forEach((function(t,e){Ls(e,t),Xu(e)})),Ko()}}(),ms())},I=function(t,e){var n=ku;ku|=2;try{return t(e)}finally{0===(ku=n)&&Ko()}};var Hs,Ks,Js={Events:[Pn,Rn,Tn,S,k,In,function(t){oe(t,Fn)},A,D,Xe,ue,ms,{current:!1}]};Ks=(Hs={findFiberByHostInstance:Cn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);_s=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Es=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(o({},Hs,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Ks?Ks(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Js,e.createPortal=qs,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&ku))throw Error(a(187));var n=ku;ku|=1;try{return Wo(99,t.bind(null,e))}finally{ku=n,Ko()}},e.hydrate=function(t,e,n){if(!Us(e))throw Error(a(200));return Vs(null,t,e,!0,n)},e.render=function(t,e,n){if(!Us(e))throw Error(a(200));return Vs(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Us(t))throw Error(a(40));return!!t._reactRootContainer&&(es((function(){Vs(null,null,t,!1,(function(){t._reactRootContainer=null,t[Sn]=null}))})),!0)},e.unstable_batchedUpdates=ts,e.unstable_createPortal=function(t,e){return qs(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Us(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Vs(t,e,n,!1,r)},e.version="16.14.0"},zuR4:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("HSsa"),i=n("CgaS"),a=n("SntB");function u(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var s=u(n("JEQr"));s.Axios=i,s.create=function(t){return u(a(s.defaults,t))},s.Cancel=n("endd"),s.CancelToken=n("jfS+"),s.isCancel=n("Lmem"),s.all=function(t){return Promise.all(t)},s.spread=n("DfZB"),t.exports=s,t.exports.default=s}});